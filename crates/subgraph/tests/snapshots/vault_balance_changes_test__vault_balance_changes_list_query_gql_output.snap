---
source: crates/subgraph/tests/vault_balance_changes_test.rs
assertion_line: 17
expression: request_body.query
---
query SgVaultBalanceChangesListQuery($first: Int, $id: Bytes!, $skip: Int) {
  vaultBalanceChanges(orderDirection: desc, orderBy: timestamp, where: {vault_: {id: $id}}, skip: $skip, first: $first) {
    __typename
    ... on Withdrawal {
      id
      __typename
      amount
      newVaultBalance
      oldVaultBalance
      vault {
        id
        vaultId
        token {
          id
          address
          name
          symbol
          decimals
        }
      }
      timestamp
      transaction {
        id
        from
        blockNumber
        timestamp
      }
      orderbook {
        id
      }
    }
    ... on TradeVaultBalanceChange {
      id
      __typename
      amount
      newVaultBalance
      oldVaultBalance
      vault {
        id
        vaultId
        token {
          id
          address
          name
          symbol
          decimals
        }
      }
      timestamp
      transaction {
        id
        from
        blockNumber
        timestamp
      }
      orderbook {
        id
      }
      trade {
        tradeEvent {
          __typename
        }
      }
    }
    ... on Deposit {
      id
      __typename
      amount
      newVaultBalance
      oldVaultBalance
      vault {
        id
        vaultId
        token {
          id
          address
          name
          symbol
          decimals
        }
      }
      timestamp
      transaction {
        id
        from
        blockNumber
        timestamp
      }
      orderbook {
        id
      }
    }
    ... on ClearBounty {
      id
      __typename
      amount
      newVaultBalance
      oldVaultBalance
      vault {
        id
        vaultId
        token {
          id
          address
          name
          symbol
          decimals
        }
      }
      timestamp
      transaction {
        id
        from
        blockNumber
        timestamp
      }
      orderbook {
        id
      }
      sender
    }
  }
}
