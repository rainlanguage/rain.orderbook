import{s as Xe,x as z,i as g,f as p,K as gt,k as xe,a as C,g as V,e as re,c as ae,b as we,l as et,m as G,h as ie,n as S,J as j,t as L,d as D,j as ue,B as wt,L as tt}from"../chunks/scheduler.D5AhQk_9.js";import{S as st,i as lt,t as m,g as x,b,e as ee,c as w,a as k,m as v,d as I}from"../chunks/index.Y9UT4V4X.js";import{p as kt}from"../chunks/stores.DVn3eyy9.js";import{F as vt,o as It,a as Ot,b as At,c as Ct,h as Vt,d as Tt,e as yt,f as Mt}from"../chunks/sentry.zpUroXQM.js";import{c as Bt,T as U,a as Z,g as He,D as Lt,b as Dt,h as Et,d as Nt}from"../chunks/modal.B6hU_23M.js";import{w as Pt}from"../chunks/index.CVS4X9MZ.js";import{P as Wt}from"../chunks/PageHeader.Du46ENG9.js";import{e as ke}from"../chunks/each.Ce8sEY8x.js";import{u as Ht,H as Te,a as ye,t as Se,T as St}from"../chunks/queryClient.C7JPW2eR.js";import{B as rt}from"../chunks/darkMode.B5NsPcRX.js";import{D as Ft}from"../chunks/ChevronDownSolid.NOnF8OUd.js";import{L as qt,C as Zt,D as Fe,a as zt}from"../chunks/ListViewOrderbookFilters.DcDntyOT.js";import{g as Qt}from"../chunks/entry.B-EOmEDc.js";import{A as Rt}from"../chunks/ArrowUpFromBracketOutline.pDgoNU8T.js";import{u as Kt,c as jt,Q as at,T as Ut,a as Yt}from"../chunks/keys.C7NBHUxU.js";import{O as nt}from"../chunks/OrderOrVaultHash.lpjZtepB.js";import{u as Gt}from"../chunks/useToasts.Cnr_9HGi.js";function qe(r,t,s){const e=r.slice();return e[47]=t[s],e}function Ze(r,t,s){const e=r.slice();return e[47]=t[s],e}function ze(r){let t,s,e,a;return t=new qt({props:{selectedChainIds:r[6],activeAccountsItems:r[0],showMyItemsOnly:r[7],showInactiveOrders:r[2],orderHash:r[1],hideZeroBalanceVaults:r[3],hideInactiveOrdersVaults:r[4],activeTokens:r[5],tokensQuery:r[18],selectedTokens:r[14],activeOrderbookAddresses:r[8],selectedOrderbookAddresses:r[13]}}),e=new r[27]({props:{query:r[17],dataSelector:Vs,queryKey:at,emptyMessage:"No Vaults Found",$$slots:{bodyRow:[Os,({item:l})=>({46:l}),({item:l})=>[0,l?32768:0]],head:[fs],title:[Xt]},$$scope:{ctx:r}}}),e.$on("clickRow",r[41]),{c(){w(t.$$.fragment),s=C(),w(e.$$.fragment)},l(l){k(t.$$.fragment,l),s=V(l),k(e.$$.fragment,l)},m(l,f){v(t,l,f),g(l,s,f),v(e,l,f),a=!0},p(l,f){const n={};f[0]&64&&(n.selectedChainIds=l[6]),f[0]&1&&(n.activeAccountsItems=l[0]),f[0]&128&&(n.showMyItemsOnly=l[7]),f[0]&4&&(n.showInactiveOrders=l[2]),f[0]&2&&(n.orderHash=l[1]),f[0]&8&&(n.hideZeroBalanceVaults=l[3]),f[0]&16&&(n.hideInactiveOrdersVaults=l[4]),f[0]&32&&(n.activeTokens=l[5]),f[0]&262144&&(n.tokensQuery=l[18]),f[0]&16384&&(n.selectedTokens=l[14]),f[0]&256&&(n.activeOrderbookAddresses=l[8]),f[0]&8192&&(n.selectedOrderbookAddresses=l[13]),t.$set(n);const o={};f[0]&131072&&(o.query=l[17]),f[0]&630272|f[1]&2129920&&(o.$$scope={dirty:f,ctx:l}),e.$set(o)},i(l){a||(m(t.$$.fragment,l),m(e.$$.fragment,l),a=!0)},o(l){b(t.$$.fragment,l),b(e.$$.fragment,l),a=!1},d(l){l&&p(s),I(t,l),I(e,l)}}}function Jt(r){let t,s,e=r[12].size>0?`Withdraw selected (${r[12].size})`:"Withdraw vaults",a,l;return t=new Rt({props:{size:"xs",class:"mr-2"}}),{c(){w(t.$$.fragment),s=C(),a=L(e)},l(f){k(t.$$.fragment,f),s=V(f),a=D(f,e)},m(f,n){v(t,f,n),g(f,s,n),g(f,a,n),l=!0},p(f,n){(!l||n[0]&4096)&&e!==(e=f[12].size>0?`Withdraw selected (${f[12].size})`:"Withdraw vaults")&&ue(a,e)},i(f){l||(m(t.$$.fragment,f),l=!0)},o(f){b(t.$$.fragment,f),l=!1},d(f){f&&(p(s),p(a)),I(t,f)}}}function Xt(r){let t,s,e,a="Vaults",l,f,n;return f=new rt({props:{size:"xs",disabled:!r[11]||r[12].size===0,"data-testid":"withdraw-all-button",$$slots:{default:[Jt]},$$scope:{ctx:r}}}),f.$on("click",r[24]),{c(){t=re("div"),s=re("div"),e=re("div"),e.textContent=a,l=C(),w(f.$$.fragment),this.h()},l(o){t=ae(o,"DIV",{class:!0});var c=we(t);s=ae(c,"DIV",{class:!0});var d=we(s);e=ae(d,"DIV",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-qv0rgb"&&(e.textContent=a),l=V(d),k(f.$$.fragment,d),d.forEach(p),c.forEach(p),this.h()},h(){G(e,"class","text-3xl font-medium dark:text-white"),G(s,"class","flex items-center gap-x-6"),G(t,"class","mt-2 flex w-full justify-between")},m(o,c){g(o,t,c),ie(t,s),ie(s,e),ie(s,l),v(f,s,null),n=!0},p(o,c){const d={};c[0]&6144&&(d.disabled=!o[11]||o[12].size===0),c[0]&4096|c[1]&2097152&&(d.$$scope={dirty:c,ctx:o}),f.$set(d)},i(o){n||(m(f.$$.fragment,o),n=!0)},o(o){b(f.$$.fragment,o),n=!1},d(o){o&&p(t),I(f)}}}function xt(r){let t,s="Select";return{c(){t=re("span"),t.textContent=s,this.h()},l(e){t=ae(e,"SPAN",{class:!0,"data-svelte-h":!0}),et(t)!=="svelte-9lrab7"&&(t.textContent=s),this.h()},h(){G(t,"class","sr-only")},m(e,a){g(e,t,a)},p:S,d(e){e&&p(t)}}}function es(r){let t;return{c(){t=L("Network")},l(s){t=D(s,"Network")},m(s,e){g(s,t,e)},d(s){s&&p(t)}}}function ts(r){let t;return{c(){t=L("Vault ID")},l(s){t=D(s,"Vault ID")},m(s,e){g(s,t,e)},d(s){s&&p(t)}}}function ss(r){let t;return{c(){t=L("Orderbook")},l(s){t=D(s,"Orderbook")},m(s,e){g(s,t,e)},d(s){s&&p(t)}}}function ls(r){let t;return{c(){t=L("Owner")},l(s){t=D(s,"Owner")},m(s,e){g(s,t,e)},d(s){s&&p(t)}}}function rs(r){let t;return{c(){t=L("Token")},l(s){t=D(s,"Token")},m(s,e){g(s,t,e)},d(s){s&&p(t)}}}function as(r){let t;return{c(){t=L("Balance")},l(s){t=D(s,"Balance")},m(s,e){g(s,t,e)},d(s){s&&p(t)}}}function ns(r){let t;return{c(){t=L("Input For")},l(s){t=D(s,"Input For")},m(s,e){g(s,t,e)},d(s){s&&p(t)}}}function os(r){let t;return{c(){t=L("Output For")},l(s){t=D(s,"Output For")},m(s,e){g(s,t,e)},d(s){s&&p(t)}}}function fs(r){let t,s,e,a,l,f,n,o,c,d,O,W,T,E,B,P,y,N;return t=new U({props:{padding:"p-0",$$slots:{default:[xt]},$$scope:{ctx:r}}}),e=new U({props:{padding:"p-4",$$slots:{default:[es]},$$scope:{ctx:r}}}),l=new U({props:{padding:"px-4 py-4",$$slots:{default:[ts]},$$scope:{ctx:r}}}),n=new U({props:{padding:"px-4 py-4",$$slots:{default:[ss]},$$scope:{ctx:r}}}),c=new U({props:{padding:"px-4 py-4",$$slots:{default:[ls]},$$scope:{ctx:r}}}),O=new U({props:{padding:"px-2 py-4",$$slots:{default:[rs]},$$scope:{ctx:r}}}),T=new U({props:{padding:"px-2 py-4",$$slots:{default:[as]},$$scope:{ctx:r}}}),B=new U({props:{padding:"px-3 py-4",$$slots:{default:[ns]},$$scope:{ctx:r}}}),y=new U({props:{padding:"px-3 py-4",$$slots:{default:[os]},$$scope:{ctx:r}}}),{c(){w(t.$$.fragment),s=C(),w(e.$$.fragment),a=C(),w(l.$$.fragment),f=C(),w(n.$$.fragment),o=C(),w(c.$$.fragment),d=C(),w(O.$$.fragment),W=C(),w(T.$$.fragment),E=C(),w(B.$$.fragment),P=C(),w(y.$$.fragment)},l(u){k(t.$$.fragment,u),s=V(u),k(e.$$.fragment,u),a=V(u),k(l.$$.fragment,u),f=V(u),k(n.$$.fragment,u),o=V(u),k(c.$$.fragment,u),d=V(u),k(O.$$.fragment,u),W=V(u),k(T.$$.fragment,u),E=V(u),k(B.$$.fragment,u),P=V(u),k(y.$$.fragment,u)},m(u,_){v(t,u,_),g(u,s,_),v(e,u,_),g(u,a,_),v(l,u,_),g(u,f,_),v(n,u,_),g(u,o,_),v(c,u,_),g(u,d,_),v(O,u,_),g(u,W,_),v(T,u,_),g(u,E,_),v(B,u,_),g(u,P,_),v(y,u,_),N=!0},p(u,_){const H={};_[1]&2097152&&(H.$$scope={dirty:_,ctx:u}),t.$set(H);const A={};_[1]&2097152&&(A.$$scope={dirty:_,ctx:u}),e.$set(A);const i={};_[1]&2097152&&(i.$$scope={dirty:_,ctx:u}),l.$set(i);const h={};_[1]&2097152&&(h.$$scope={dirty:_,ctx:u}),n.$set(h);const Y={};_[1]&2097152&&(Y.$$scope={dirty:_,ctx:u}),c.$set(Y);const F={};_[1]&2097152&&(F.$$scope={dirty:_,ctx:u}),O.$set(F);const Q={};_[1]&2097152&&(Q.$$scope={dirty:_,ctx:u}),T.$set(Q);const J={};_[1]&2097152&&(J.$$scope={dirty:_,ctx:u}),B.$set(J);const R={};_[1]&2097152&&(R.$$scope={dirty:_,ctx:u}),y.$set(R)},i(u){N||(m(t.$$.fragment,u),m(e.$$.fragment,u),m(l.$$.fragment,u),m(n.$$.fragment,u),m(c.$$.fragment,u),m(O.$$.fragment,u),m(T.$$.fragment,u),m(B.$$.fragment,u),m(y.$$.fragment,u),N=!0)},o(u){b(t.$$.fragment,u),b(e.$$.fragment,u),b(l.$$.fragment,u),b(n.$$.fragment,u),b(c.$$.fragment,u),b(O.$$.fragment,u),b(T.$$.fragment,u),b(B.$$.fragment,u),b(y.$$.fragment,u),N=!1},d(u){u&&(p(s),p(a),p(f),p(o),p(d),p(W),p(E),p(P)),I(t,u),I(e,u),I(l,u),I(n,u),I(c,u),I(O,u),I(T,u),I(B,u),I(y,u)}}}function Qe(r){let t,s;return t=new St({props:{$$slots:{default:[is]},$$scope:{ctx:r}}}),{c(){w(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,a){v(t,e,a),s=!0},p(e,a){const l={};a[1]&2129920&&(l.$$scope={dirty:a,ctx:e}),t.$set(l)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){I(t,e)}}}function is(r){let t=r[25](r[46])?"This vault has a zero balance":"This vault is on a different network",s;return{c(){s=L(t)},l(e){s=D(e,t)},m(e,a){g(e,s,a)},p(e,a){a[1]&32768&&t!==(t=e[25](e[46])?"This vault has a zero balance":"This vault is on a different network")&&ue(s,t)},d(e){e&&p(s)}}}function us(r){let t,s,e=r[15]?.toLowerCase()===r[46].owner.toLowerCase()&&r[26](r[46],r[16]),a,l;t=new Zt({props:{"data-testid":"vault-checkbox",class:`block px-2 py-4 ${r[15]?.toLowerCase()!==r[46].owner.toLowerCase()?"invisible":""}`,checked:r[12].has(r[46].id),disabled:r[26](r[46],r[16]),"aria-label":`Select vault ${r[46].id}`}}),t.$on("change",function(){wt(r[22](r[46].id,r[46].chainId))&&r[22](r[46].id,r[46].chainId).apply(this,arguments)}),t.$on("click",r[23]);let f=e&&Qe(r);return{c(){w(t.$$.fragment),s=C(),f&&f.c(),a=z()},l(n){k(t.$$.fragment,n),s=V(n),f&&f.l(n),a=z()},m(n,o){v(t,n,o),g(n,s,o),f&&f.m(n,o),g(n,a,o),l=!0},p(n,o){r=n;const c={};o[0]&32768|o[1]&32768&&(c.class=`block px-2 py-4 ${r[15]?.toLowerCase()!==r[46].owner.toLowerCase()?"invisible":""}`),o[0]&4096|o[1]&32768&&(c.checked=r[12].has(r[46].id)),o[0]&65536|o[1]&32768&&(c.disabled=r[26](r[46],r[16])),o[1]&32768&&(c["aria-label"]=`Select vault ${r[46].id}`),t.$set(c),o[0]&98304|o[1]&32768&&(e=r[15]?.toLowerCase()===r[46].owner.toLowerCase()&&r[26](r[46],r[16])),e?f?(f.p(r,o),o[0]&98304|o[1]&32768&&m(f,1)):(f=Qe(r),f.c(),m(f,1),f.m(a.parentNode,a)):f&&(x(),b(f,1,1,()=>{f=null}),ee())},i(n){l||(m(t.$$.fragment,n),m(f),l=!0)},o(n){b(t.$$.fragment,n),b(f),l=!1},d(n){n&&(p(s),p(a)),I(t,n),f&&f.d(n)}}}function $s(r){let t=He(Number(r[46].chainId))+"",s;return{c(){s=L(t)},l(e){s=D(e,t)},m(e,a){g(e,s,a)},p(e,a){a[1]&32768&&t!==(t=He(Number(e[46].chainId))+"")&&ue(s,t)},d(e){e&&p(s)}}}function cs(r){let t,s;return t=new Te({props:{type:ye.Identifier,value:Se(r[46].vaultId)}}),{c(){w(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,a){v(t,e,a),s=!0},p(e,a){const l={};a[1]&32768&&(l.value=Se(e[46].vaultId)),t.$set(l)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){I(t,e)}}}function ds(r){let t,s;return t=new Te({props:{type:ye.Identifier,value:r[46].orderbook}}),{c(){w(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,a){v(t,e,a),s=!0},p(e,a){const l={};a[1]&32768&&(l.value=e[46].orderbook),t.$set(l)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){I(t,e)}}}function ms(r){let t,s;return t=new Te({props:{type:ye.Wallet,value:r[46].owner}}),{c(){w(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,a){v(t,e,a),s=!0},p(e,a){const l={};a[1]&32768&&(l.value=e[46].owner),t.$set(l)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){I(t,e)}}}function ps(r){let t=r[46].token.name+"",s;return{c(){s=L(t)},l(e){s=D(e,t)},m(e,a){g(e,s,a)},p(e,a){a[1]&32768&&t!==(t=e[46].token.name+"")&&ue(s,t)},d(e){e&&p(s)}}}function _s(r){let t=`${r[46].formattedBalance} ${r[46].token.symbol}`,s;return{c(){s=L(t)},l(e){s=D(e,t)},m(e,a){g(e,s,a)},p(e,a){a[1]&32768&&t!==(t=`${e[46].formattedBalance} ${e[46].token.symbol}`)&&ue(s,t)},d(e){e&&p(s)}}}function Re(r){let t,s,e,a=ke(r[46].ordersAsInput.slice(0,3)),l=[];for(let o=0;o<a.length;o+=1)l[o]=Ke(Ze(r,a,o));const f=o=>b(l[o],1,1,()=>{l[o]=null});let n=r[46].ordersAsInput.length>3&&je();return{c(){t=re("div");for(let o=0;o<l.length;o+=1)l[o].c();s=C(),n&&n.c(),this.h()},l(o){t=ae(o,"DIV",{"data-testid":!0,class:!0});var c=we(t);for(let d=0;d<l.length;d+=1)l[d].l(c);s=V(c),n&&n.l(c),c.forEach(p),this.h()},h(){G(t,"data-testid","vault-order-inputs"),G(t,"class","flex flex-wrap items-end justify-start")},m(o,c){g(o,t,c);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(t,null);ie(t,s),n&&n.m(t,null),e=!0},p(o,c){if(c[1]&32768){a=ke(o[46].ordersAsInput.slice(0,3));let d;for(d=0;d<a.length;d+=1){const O=Ze(o,a,d);l[d]?(l[d].p(O,c),m(l[d],1)):(l[d]=Ke(O),l[d].c(),m(l[d],1),l[d].m(t,s))}for(x(),d=a.length;d<l.length;d+=1)f(d);ee()}o[46].ordersAsInput.length>3?n||(n=je(),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i(o){if(!e){for(let c=0;c<a.length;c+=1)m(l[c]);e=!0}},o(o){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)b(l[c]);e=!1},d(o){o&&p(t),tt(l,o),n&&n.d()}}}function Ke(r){let t,s;return t=new nt({props:{type:"orders",orderOrVault:r[47],chainId:r[46].chainId,orderbookAddress:r[46].orderbook}}),{c(){w(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,a){v(t,e,a),s=!0},p(e,a){const l={};a[1]&32768&&(l.orderOrVault=e[47]),a[1]&32768&&(l.chainId=e[46].chainId),a[1]&32768&&(l.orderbookAddress=e[46].orderbook),t.$set(l)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){I(t,e)}}}function je(r){let t;return{c(){t=L("...")},l(s){t=D(s,"...")},m(s,e){g(s,t,e)},d(s){s&&p(t)}}}function hs(r){let t,s,e=r[46].ordersAsInput.length>0&&Re(r);return{c(){e&&e.c(),t=z()},l(a){e&&e.l(a),t=z()},m(a,l){e&&e.m(a,l),g(a,t,l),s=!0},p(a,l){a[46].ordersAsInput.length>0?e?(e.p(a,l),l[1]&32768&&m(e,1)):(e=Re(a),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(x(),b(e,1,1,()=>{e=null}),ee())},i(a){s||(m(e),s=!0)},o(a){b(e),s=!1},d(a){a&&p(t),e&&e.d(a)}}}function Ue(r){let t,s,e,a=ke(r[46].ordersAsOutput.slice(0,3)),l=[];for(let o=0;o<a.length;o+=1)l[o]=Ye(qe(r,a,o));const f=o=>b(l[o],1,1,()=>{l[o]=null});let n=r[46].ordersAsOutput.length>3&&Ge();return{c(){t=re("div");for(let o=0;o<l.length;o+=1)l[o].c();s=C(),n&&n.c(),this.h()},l(o){t=ae(o,"DIV",{"data-testid":!0,class:!0});var c=we(t);for(let d=0;d<l.length;d+=1)l[d].l(c);s=V(c),n&&n.l(c),c.forEach(p),this.h()},h(){G(t,"data-testid","vault-order-outputs"),G(t,"class","flex flex-wrap items-end justify-start")},m(o,c){g(o,t,c);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(t,null);ie(t,s),n&&n.m(t,null),e=!0},p(o,c){if(c[1]&32768){a=ke(o[46].ordersAsOutput.slice(0,3));let d;for(d=0;d<a.length;d+=1){const O=qe(o,a,d);l[d]?(l[d].p(O,c),m(l[d],1)):(l[d]=Ye(O),l[d].c(),m(l[d],1),l[d].m(t,s))}for(x(),d=a.length;d<l.length;d+=1)f(d);ee()}o[46].ordersAsOutput.length>3?n||(n=Ge(),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i(o){if(!e){for(let c=0;c<a.length;c+=1)m(l[c]);e=!0}},o(o){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)b(l[c]);e=!1},d(o){o&&p(t),tt(l,o),n&&n.d()}}}function Ye(r){let t,s;return t=new nt({props:{type:"orders",orderOrVault:r[47],chainId:r[46].chainId,orderbookAddress:r[46].orderbook}}),{c(){w(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,a){v(t,e,a),s=!0},p(e,a){const l={};a[1]&32768&&(l.orderOrVault=e[47]),a[1]&32768&&(l.chainId=e[46].chainId),a[1]&32768&&(l.orderbookAddress=e[46].orderbook),t.$set(l)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){I(t,e)}}}function Ge(r){let t;return{c(){t=L("...")},l(s){t=D(s,"...")},m(s,e){g(s,t,e)},d(s){s&&p(t)}}}function bs(r){let t,s,e=r[46].ordersAsOutput.length>0&&Ue(r);return{c(){e&&e.c(),t=z()},l(a){e&&e.l(a),t=z()},m(a,l){e&&e.m(a,l),g(a,t,l),s=!0},p(a,l){a[46].ordersAsOutput.length>0?e?(e.p(a,l),l[1]&32768&&m(e,1)):(e=Ue(a),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(x(),b(e,1,1,()=>{e=null}),ee())},i(a){s||(m(e),s=!0)},o(a){b(e),s=!1},d(a){a&&p(t),e&&e.d(a)}}}function Je(r){let t,s,e,a;return t=new Z({props:{tdClass:"px-0 text-right",$$slots:{default:[ws]},$$scope:{ctx:r}}}),e=new Ft({props:{"data-testid":"dropdown",placement:"bottom-end",triggeredBy:`#vault-menu-${r[46].id}`,$$slots:{default:[Is]},$$scope:{ctx:r}}}),{c(){w(t.$$.fragment),s=C(),w(e.$$.fragment)},l(l){k(t.$$.fragment,l),s=V(l),k(e.$$.fragment,l)},m(l,f){v(t,l,f),g(l,s,f),v(e,l,f),a=!0},p(l,f){const n={};f[1]&2129920&&(n.$$scope={dirty:f,ctx:l}),t.$set(n);const o={};f[1]&32768&&(o.triggeredBy=`#vault-menu-${l[46].id}`),f[0]&525824|f[1]&2129920&&(o.$$scope={dirty:f,ctx:l}),e.$set(o)},i(l){a||(m(t.$$.fragment,l),m(e.$$.fragment,l),a=!0)},o(l){b(t.$$.fragment,l),b(e.$$.fragment,l),a=!1},d(l){l&&p(s),I(t,l),I(e,l)}}}function gs(r){let t,s;return t=new zt({props:{class:"dark:text-white"}}),{c(){w(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,a){v(t,e,a),s=!0},p:S,i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){I(t,e)}}}function ws(r){let t,s;return t=new rt({props:{color:"alternative",outline:!1,"data-testid":"vault-menu",id:`vault-menu-${r[46].id}`,class:"mr-2 border-none px-2",$$slots:{default:[gs]},$$scope:{ctx:r}}}),t.$on("click",Cs),{c(){w(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,a){v(t,e,a),s=!0},p(e,a){const l={};a[1]&32768&&(l.id=`vault-menu-${e[46].id}`),a[1]&2097152&&(l.$$scope={dirty:a,ctx:e}),t.$set(l)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){I(t,e)}}}function ks(r){let t;return{c(){t=L("Deposit")},l(s){t=D(s,"Deposit")},m(s,e){g(s,t,e)},d(s){s&&p(t)}}}function vs(r){let t;return{c(){t=L("Withdraw")},l(s){t=D(s,"Withdraw")},m(s,e){g(s,t,e)},d(s){s&&p(t)}}}function Is(r){let t,s,e,a;function l(...n){return r[39](r[46],...n)}t=new Fe({props:{"data-testid":"deposit-button",$$slots:{default:[ks]},$$scope:{ctx:r}}}),t.$on("click",l);function f(...n){return r[40](r[46],...n)}return e=new Fe({props:{"data-testid":"withdraw-button",$$slots:{default:[vs]},$$scope:{ctx:r}}}),e.$on("click",f),{c(){w(t.$$.fragment),s=C(),w(e.$$.fragment)},l(n){k(t.$$.fragment,n),s=V(n),k(e.$$.fragment,n)},m(n,o){v(t,n,o),g(n,s,o),v(e,n,o),a=!0},p(n,o){r=n;const c={};o[1]&2097152&&(c.$$scope={dirty:o,ctx:r}),t.$set(c);const d={};o[1]&2097152&&(d.$$scope={dirty:o,ctx:r}),e.$set(d)},i(n){a||(m(t.$$.fragment,n),m(e.$$.fragment,n),a=!0)},o(n){b(t.$$.fragment,n),b(e.$$.fragment,n),a=!1},d(n){n&&p(s),I(t,n),I(e,n)}}}function Os(r){let t,s,e,a,l,f,n,o,c,d,O,W,T,E,B,P,y,N,u=r[9]&&r[10]&&r[46].owner.toLowerCase()===r[15]?.toLowerCase(),_,H;t=new Z({props:{tdClass:"px-0",$$slots:{default:[us]},$$scope:{ctx:r}}}),t.$on("click",r[23]),e=new Z({props:{tdClass:"px-4 py-2","data-testid":"vault-network",$$slots:{default:[$s]},$$scope:{ctx:r}}}),l=new Z({props:{tdClass:"break-all px-4 py-4","data-testid":"vault-id",$$slots:{default:[cs]},$$scope:{ctx:r}}}),n=new Z({props:{tdClass:"break-all px-4 py-2 min-w-48","data-testid":"vault-orderbook",$$slots:{default:[ds]},$$scope:{ctx:r}}}),c=new Z({props:{tdClass:"break-all px-4 py-2 min-w-48","data-testid":"vault-owner",$$slots:{default:[ms]},$$scope:{ctx:r}}}),O=new Z({props:{tdClass:"break-word p-2 min-w-48","data-testid":"vault-token",$$slots:{default:[ps]},$$scope:{ctx:r}}}),T=new Z({props:{tdClass:"break-all p-2 min-w-48","data-testid":"vault-balance",$$slots:{default:[_s]},$$scope:{ctx:r}}}),B=new Z({props:{tdClass:"break-all p-2 min-w-48",$$slots:{default:[hs]},$$scope:{ctx:r}}}),y=new Z({props:{tdClass:"break-all p-2 min-w-48",$$slots:{default:[bs]},$$scope:{ctx:r}}});let A=u&&Je(r);return{c(){w(t.$$.fragment),s=C(),w(e.$$.fragment),a=C(),w(l.$$.fragment),f=C(),w(n.$$.fragment),o=C(),w(c.$$.fragment),d=C(),w(O.$$.fragment),W=C(),w(T.$$.fragment),E=C(),w(B.$$.fragment),P=C(),w(y.$$.fragment),N=C(),A&&A.c(),_=z()},l(i){k(t.$$.fragment,i),s=V(i),k(e.$$.fragment,i),a=V(i),k(l.$$.fragment,i),f=V(i),k(n.$$.fragment,i),o=V(i),k(c.$$.fragment,i),d=V(i),k(O.$$.fragment,i),W=V(i),k(T.$$.fragment,i),E=V(i),k(B.$$.fragment,i),P=V(i),k(y.$$.fragment,i),N=V(i),A&&A.l(i),_=z()},m(i,h){v(t,i,h),g(i,s,h),v(e,i,h),g(i,a,h),v(l,i,h),g(i,f,h),v(n,i,h),g(i,o,h),v(c,i,h),g(i,d,h),v(O,i,h),g(i,W,h),v(T,i,h),g(i,E,h),v(B,i,h),g(i,P,h),v(y,i,h),g(i,N,h),A&&A.m(i,h),g(i,_,h),H=!0},p(i,h){const Y={};h[0]&102400|h[1]&2129920&&(Y.$$scope={dirty:h,ctx:i}),t.$set(Y);const F={};h[1]&2129920&&(F.$$scope={dirty:h,ctx:i}),e.$set(F);const Q={};h[1]&2129920&&(Q.$$scope={dirty:h,ctx:i}),l.$set(Q);const J={};h[1]&2129920&&(J.$$scope={dirty:h,ctx:i}),n.$set(J);const R={};h[1]&2129920&&(R.$$scope={dirty:h,ctx:i}),c.$set(R);const te={};h[1]&2129920&&(te.$$scope={dirty:h,ctx:i}),O.$set(te);const ne={};h[1]&2129920&&(ne.$$scope={dirty:h,ctx:i}),T.$set(ne);const se={};h[1]&2129920&&(se.$$scope={dirty:h,ctx:i}),B.$set(se);const le={};h[1]&2129920&&(le.$$scope={dirty:h,ctx:i}),y.$set(le),h[0]&34304|h[1]&32768&&(u=i[9]&&i[10]&&i[46].owner.toLowerCase()===i[15]?.toLowerCase()),u?A?(A.p(i,h),h[0]&34304|h[1]&32768&&m(A,1)):(A=Je(i),A.c(),m(A,1),A.m(_.parentNode,_)):A&&(x(),b(A,1,1,()=>{A=null}),ee())},i(i){H||(m(t.$$.fragment,i),m(e.$$.fragment,i),m(l.$$.fragment,i),m(n.$$.fragment,i),m(c.$$.fragment,i),m(O.$$.fragment,i),m(T.$$.fragment,i),m(B.$$.fragment,i),m(y.$$.fragment,i),m(A),H=!0)},o(i){b(t.$$.fragment,i),b(e.$$.fragment,i),b(l.$$.fragment,i),b(n.$$.fragment,i),b(c.$$.fragment,i),b(O.$$.fragment,i),b(T.$$.fragment,i),b(B.$$.fragment,i),b(y.$$.fragment,i),b(A),H=!1},d(i){i&&(p(s),p(a),p(f),p(o),p(d),p(W),p(E),p(P),p(N),p(_)),I(t,i),I(e,i),I(l,i),I(n,i),I(c,i),I(O,i),I(T,i),I(B,i),I(y,i),A&&A.d(i)}}}function As(r){let t,s,e=r[19]&&ze(r);return{c(){e&&e.c(),t=z()},l(a){e&&e.l(a),t=z()},m(a,l){e&&e.m(a,l),g(a,t,l),s=!0},p(a,l){a[19]?e?(e.p(a,l),l[0]&524288&&m(e,1)):(e=ze(a),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(x(),b(e,1,1,()=>{e=null}),ee())},i(a){s||(m(e),s=!0)},o(a){b(e),s=!1},d(a){a&&p(t),e&&e.d(a)}}}const Cs=r=>{r.stopPropagation()},Vs=r=>r.items;function Ts(r,t,s){let e,a,l,f,n,o,c,d,O=S,W=()=>(O(),O=j(c,$=>s(19,d=$)),c),T,E,B=S,P=()=>(B(),B=j(de,$=>s(31,E=$)),de),y,N=S,u=()=>(N(),N=j(ce,$=>s(32,y=$)),ce),_,H=S,A=()=>(H(),H=j(pe,$=>s(33,_=$)),pe),i,h=S,Y=()=>(h(),h=j(he,$=>s(34,i=$)),he),F,Q=S,J=()=>(Q(),Q=j(a,$=>s(35,F=$)),a),R,te=S,ne=()=>(te(),te=j(me,$=>s(36,R=$)),me),se,le=S,Me=()=>(le(),le=j(_e,$=>s(37,se=$)),_e),oe,ve=S,Be=()=>(ve(),ve=j($e,$=>s(38,oe=$)),$e);r.$$.on_destroy.push(()=>O()),r.$$.on_destroy.push(()=>B()),r.$$.on_destroy.push(()=>N()),r.$$.on_destroy.push(()=>H()),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>Q()),r.$$.on_destroy.push(()=>te()),r.$$.on_destroy.push(()=>le()),r.$$.on_destroy.push(()=>ve());const Ie=gt(),{errToast:Le}=Gt();let{activeAccountsItems:$e}=t;Be();let{orderHash:De}=t,{showInactiveOrders:Ee}=t,{hideZeroBalanceVaults:ce}=t;u();let{hideInactiveOrdersVaults:de}=t;P();let{activeTokens:me}=t;ne();let{selectedChainIds:pe}=t;A();let{showMyItemsOnly:_e}=t;Me();let{activeOrderbookAddresses:he}=t;Y();let{handleDepositModal:Oe=void 0}=t,{handleWithdrawModal:Ae=void 0}=t,{onWithdrawAll:be=void 0}=t;const{account:Ne}=Kt();xe(r,Ne,$=>s(15,T=$));const ge=Ht();let q=new Set,fe=null;const ot=($,M)=>K=>{K.stopPropagation(),q.has($)?(q.delete($),q.size===0&&s(16,fe=null)):(q.add($),fe===null&&s(16,fe=M)),s(12,q=new Set(q))},ft=$=>$.stopPropagation(),it=()=>{const $=d.data?.pages??[];if(!be||$.length===0)return;const M=Array.from(q);try{const K=$.reduce((Ce,Ve)=>{const X=Ve.pickByIds(M);if(X.error)throw new Error(X.error.readableMsg);return[...Ce,X.value]},[]);if(K.length===0){Le("No selected vaults found in the loaded pages. Please refresh and try again.");return}const[_t,...ht]=K,bt=ht.reduce((Ce,Ve)=>{const X=Ce.concat(Ve);if(X.error)throw new Error(X.error.readableMsg);return X.value},_t);return be(ge,bt)}catch(K){K instanceof Error&&Le(K.message)}},Pe=vt.parse("0").value,We=$=>Pe?$.balance.eq(Pe).value:!0,ut=($,M)=>M===null||M===$.chainId,$t=($,M)=>!ut($,M)||We($),ct=Ut,dt=($,M)=>{M.stopPropagation(),Oe($,d.refetch,Ie)},mt=($,M)=>{M.stopPropagation(),Ae($,d.refetch,Ie)},pt=$=>{Qt(`/vaults/${$.detail.item.chainId}-${$.detail.item.orderbook}-${$.detail.item.id}`)};return r.$$set=$=>{"activeAccountsItems"in $&&Be(s(0,$e=$.activeAccountsItems)),"orderHash"in $&&s(1,De=$.orderHash),"showInactiveOrders"in $&&s(2,Ee=$.showInactiveOrders),"hideZeroBalanceVaults"in $&&u(s(3,ce=$.hideZeroBalanceVaults)),"hideInactiveOrdersVaults"in $&&P(s(4,de=$.hideInactiveOrdersVaults)),"activeTokens"in $&&ne(s(5,me=$.activeTokens)),"selectedChainIds"in $&&A(s(6,pe=$.selectedChainIds)),"showMyItemsOnly"in $&&Me(s(7,_e=$.showMyItemsOnly)),"activeOrderbookAddresses"in $&&Y(s(8,he=$.activeOrderbookAddresses)),"handleDepositModal"in $&&s(9,Oe=$.handleDepositModal),"handleWithdrawModal"in $&&s(10,Ae=$.handleWithdrawModal),"onWithdrawAll"in $&&s(11,be=$.onWithdrawAll)},r.$$.update=()=>{r.$$.dirty[0]&32768|r.$$.dirty[1]&192&&s(28,e=oe&&Object.values(oe).length>0?Object.values(oe):se&&T?[T]:[]),r.$$.dirty[1]&4&&J(s(18,a=Bt({queryKey:[Yt,_],queryFn:async()=>{const $=await ge.getAllVaultTokens(_);if($.error)throw new Error($.error.readableMsg);return $.value},enabled:!0}))),r.$$.dirty[1]&48&&s(14,l=R?.filter($=>!F.data||F.data.some(M=>M.address===$))??[]),r.$$.dirty[0]&1073741824|r.$$.dirty[1]&4&&s(29,n=(()=>{const $=[];return f.forEach(M=>{(_.length===0||_.includes(M.network.chainId))&&$.push(M.address.toLowerCase())}),$})()),r.$$.dirty[0]&536870912|r.$$.dirty[1]&8&&s(13,o=i?.filter($=>n.includes($.toLowerCase()))??[]),r.$$.dirty[0]&268460032|r.$$.dirty[1]&7&&W(s(17,c=jt({queryKey:[at,y,E,_,e,l,o],queryFn:async({pageParam:$})=>{const M=await ge.getVaults(_,{owners:e,hideZeroBalance:y,tokens:l,orderbookAddresses:o.length>0?o:void 0,onlyActiveOrders:E},$+1);if(M.error)throw new Error(M.error.readableMsg);return M.value},initialPageParam:0,getNextPageParam($,M,K){return $.items.length===Lt?K+1:void 0},refetchInterval:Dt,enabled:!0}))),r.$$.dirty[0]&36864&&q.size>0&&!T&&(s(12,q=new Set),s(16,fe=null))},s(30,f=ge.getAllOrderbooks()?.value??new Map),[$e,De,Ee,ce,de,me,pe,_e,he,Oe,Ae,be,q,o,l,T,fe,c,a,d,Ie,Ne,ot,ft,it,We,$t,ct,e,n,f,E,y,_,i,F,R,se,oe,dt,mt,pt]}class ys extends st{constructor(t){super(),lt(this,t,Ts,As,Xe,{activeAccountsItems:0,orderHash:1,showInactiveOrders:2,hideZeroBalanceVaults:3,hideInactiveOrdersVaults:4,activeTokens:5,selectedChainIds:6,showMyItemsOnly:7,activeOrderbookAddresses:8,handleDepositModal:9,handleWithdrawModal:10,onWithdrawAll:11},null,[-1,-1])}}function Ms(r){let t,s,e,a;return t=new Wt({props:{title:"Vaults",pathname:r[0].url.pathname}}),e=new ys({props:{orderHash:It,activeAccountsItems:Ot,selectedChainIds:At,showInactiveOrders:Ct,hideZeroBalanceVaults:Vt,hideInactiveOrdersVaults:Tt,handleDepositModal:Et,handleWithdrawModal:Nt,activeTokens:yt,activeOrderbookAddresses:Mt,showMyItemsOnly:Pt(!1)}}),{c(){w(t.$$.fragment),s=C(),w(e.$$.fragment)},l(l){k(t.$$.fragment,l),s=V(l),k(e.$$.fragment,l)},m(l,f){v(t,l,f),g(l,s,f),v(e,l,f),a=!0},p(l,[f]){const n={};f&1&&(n.pathname=l[0].url.pathname),t.$set(n)},i(l){a||(m(t.$$.fragment,l),m(e.$$.fragment,l),a=!0)},o(l){b(t.$$.fragment,l),b(e.$$.fragment,l),a=!1},d(l){l&&p(s),I(t,l),I(e,l)}}}function Bs(r,t,s){let e;return xe(r,kt,a=>s(0,e=a)),[e]}class Ys extends st{constructor(t){super(),lt(this,t,Bs,Ms,Xe,{})}}export{Ys as component};
//# sourceMappingURL=8.DBYLYwr-.js.map
