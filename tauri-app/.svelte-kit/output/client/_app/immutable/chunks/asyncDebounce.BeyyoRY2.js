import{s as ve,w as P,B as Z,e as S,a as B,c as w,b as y,f,g as C,m as k,i as F,h as D,y as R,z as W,A as G,t as H,d as K,j as $e,n as he,J as be}from"./scheduler.D5AhQk_9.js";import{S as Fe,i as Ee,c as x,a as ee,m as te,t as E,g as Se,b as I,e as we,d as se}from"./index.Y9UT4V4X.js";import{B as ne,l as ye}from"./index.BrNZflL2.js";import{E as ke}from"./index.UKMZCmwG.js";import{r as me,S as pe}from"./sentry.zpUroXQM.js";import{a as De,c as Ie}from"./config.CmCm7d54.js";import{w as le}from"./index.CVS4X9MZ.js";const Ae=e=>({}),re=e=>({}),Ve=e=>({}),fe=e=>({}),Le=e=>({}),ce=e=>({}),je=e=>({}),ue=e=>({});function de(e){let t,s;return t=new ne({props:{loading:e[1].isSaving,color:"green",$$slots:{default:[Be]},$$scope:{ctx:e}}}),t.$on("click",function(){Z(e[0].saveFile)&&e[0].saveFile.apply(this,arguments)}),{c(){x(t.$$.fragment)},l(n){ee(t.$$.fragment,n)},m(n,l){te(t,n,l),s=!0},p(n,l){e=n;const i={};l&2&&(i.loading=e[1].isSaving),l&8&&(i.$$scope={dirty:l,ctx:e}),t.$set(i)},i(n){s||(E(t.$$.fragment,n),s=!0)},o(n){I(t.$$.fragment,n),s=!1},d(n){se(t,n)}}}function Be(e){let t;return{c(){t=H("Save")},l(s){t=K(s,"Save")},m(s,n){F(s,t,n)},d(s){s&&f(t)}}}function Ce(e){let t;return{c(){t=H("Save As")},l(s){t=K(s,"Save As")},m(s,n){F(s,t,n)},d(s){s&&f(t)}}}function Je(e){let t;return{c(){t=H("Load")},l(s){t=K(s,"Load")},m(s,n){F(s,t,n)},d(s){s&&f(t)}}}function _e(e){let t,s=e[1].path+"",n;return{c(){t=S("div"),n=H(s),this.h()},l(l){t=w(l,"DIV",{class:!0});var i=y(t);n=K(i,s),i.forEach(f),this.h()},h(){k(t,"class","flex w-full justify-end overflow-hidden overflow-ellipsis text-xs text-gray-500 dark:text-gray-400")},m(l,i){F(l,t,i),D(t,n)},p(l,i){i&2&&s!==(s=l[1].path+"")&&$e(n,s)},d(l){l&&f(t)}}}function Ne(e){let t,s,n,l,i,m,u,c,d,b,M,T,V,q,L,O,j,h;const Q=e[2].alert,p=P(Q,e,e[3],ue);let r=e[1].path&&de(e);c=new ne({props:{loading:e[1].isSavingAs,color:"green",$$slots:{default:[Ce]},$$scope:{ctx:e}}}),c.$on("click",function(){Z(e[0].saveFileAs)&&e[0].saveFileAs.apply(this,arguments)}),b=new ne({props:{loading:e[1].isLoading,color:"blue",$$slots:{default:[Je]},$$scope:{ctx:e}}}),b.$on("click",function(){Z(e[0].loadFile)&&e[0].loadFile.apply(this,arguments)});let _=e[1].path&&_e(e);const U=e[2].textarea,g=P(U,e,e[3],ce),X=e[2].additionalFields,v=P(X,e,e[3],fe),Y=e[2].submit,$=P(Y,e,e[3],re);return{c(){t=S("div"),s=S("div"),n=S("div"),p&&p.c(),l=B(),i=S("div"),m=S("div"),r&&r.c(),u=B(),x(c.$$.fragment),d=B(),x(b.$$.fragment),M=B(),_&&_.c(),T=B(),V=S("div"),g&&g.c(),q=B(),L=S("div"),v&&v.c(),O=B(),j=S("div"),$&&$.c(),this.h()},l(o){t=w(o,"DIV",{class:!0});var a=y(t);s=w(a,"DIV",{class:!0});var A=y(s);n=w(A,"DIV",{class:!0});var J=y(n);p&&p.l(J),J.forEach(f),l=C(A),i=w(A,"DIV",{class:!0});var z=y(i);m=w(z,"DIV",{class:!0});var N=y(m);r&&r.l(N),u=C(N),ee(c.$$.fragment,N),d=C(N),ee(b.$$.fragment,N),N.forEach(f),M=C(z),_&&_.l(z),z.forEach(f),A.forEach(f),a.forEach(f),T=C(o),V=w(o,"DIV",{class:!0});var oe=y(V);g&&g.l(oe),oe.forEach(f),q=C(o),L=w(o,"DIV",{class:!0});var ie=y(L);v&&v.l(ie),ie.forEach(f),O=C(o),j=w(o,"DIV",{class:!0});var ae=y(j);$&&$.l(ae),ae.forEach(f),this.h()},h(){k(n,"class","flex-grow"),k(m,"class","flex gap-x-2"),k(i,"class","flex flex-col items-end justify-end gap-2"),k(s,"class","flex items-end gap-x-4"),k(t,"class","flex w-full flex-col"),k(V,"class","my-4 overflow-hidden rounded-lg border dark:border-none"),k(L,"class","my-4"),k(j,"class","flex justify-end")},m(o,a){F(o,t,a),D(t,s),D(s,n),p&&p.m(n,null),D(s,l),D(s,i),D(i,m),r&&r.m(m,null),D(m,u),te(c,m,null),D(m,d),te(b,m,null),D(i,M),_&&_.m(i,null),F(o,T,a),F(o,V,a),g&&g.m(V,null),F(o,q,a),F(o,L,a),v&&v.m(L,null),F(o,O,a),F(o,j,a),$&&$.m(j,null),h=!0},p(o,[a]){e=o,p&&p.p&&(!h||a&8)&&R(p,Q,e,e[3],h?G(Q,e[3],a,je):W(e[3]),ue),e[1].path?r?(r.p(e,a),a&2&&E(r,1)):(r=de(e),r.c(),E(r,1),r.m(m,u)):r&&(Se(),I(r,1,1,()=>{r=null}),we());const A={};a&2&&(A.loading=e[1].isSavingAs),a&8&&(A.$$scope={dirty:a,ctx:e}),c.$set(A);const J={};a&2&&(J.loading=e[1].isLoading),a&8&&(J.$$scope={dirty:a,ctx:e}),b.$set(J),e[1].path?_?_.p(e,a):(_=_e(e),_.c(),_.m(i,null)):_&&(_.d(1),_=null),g&&g.p&&(!h||a&8)&&R(g,U,e,e[3],h?G(U,e[3],a,Le):W(e[3]),ce),v&&v.p&&(!h||a&8)&&R(v,X,e,e[3],h?G(X,e[3],a,Ve):W(e[3]),fe),$&&$.p&&(!h||a&8)&&R($,Y,e,e[3],h?G(Y,e[3],a,Ae):W(e[3]),re)},i(o){h||(E(p,o),E(r),E(c.$$.fragment,o),E(b.$$.fragment,o),E(g,o),E(v,o),E($,o),h=!0)},o(o){I(p,o),I(r),I(c.$$.fragment,o),I(b.$$.fragment,o),I(g,o),I(v,o),I($,o),h=!1},d(o){o&&(f(t),f(T),f(V),f(q),f(L),f(O),f(j)),p&&p.d(o),r&&r.d(),se(c),se(b),_&&_.d(),g&&g.d(o),v&&v.d(o),$&&$.d(o)}}}function Te(e,t,s){let n,l=he,i=()=>(l(),l=be(c,d=>s(1,n=d)),c);e.$$.on_destroy.push(()=>l());let{$$slots:m={},$$scope:u}=t,{textFile:c}=t;return i(),e.$$set=d=>{"textFile"in d&&i(s(0,c=d.textFile)),"$$scope"in d&&s(3,u=d.$$scope)},[c,n,m,u]}class Ke extends Fe{constructor(t){super(),Ee(this,t,Te,Ne,ve,{textFile:0})}}async function Me(e){const t=[];try{await Ie(e)}catch(s){me(s,pe.Info),t.push(ge(s))}return t}async function Qe(e,t){const s=[];try{await De(e,t)}catch(n){me(n,pe.Info),s.push(ge(n))}return s}function ge(e){return{msg:typeof e=="string"?e:e instanceof Error?e.message:"something went wrong!",position:[0,0],code:ke.InvalidRainDocument}}function qe(e,t,s,n){let l;const i=async u=>{const c=(d,b)=>JSON.stringify(b)!==JSON.stringify(d);try{const d=await e(...u);if(c(u,l))return;s(d)}catch(d){if(c(u,l))return;n(d)}},m=ye.debounce((...u)=>i(u),t);return(...u)=>{l=u,m(...u)}}function Ue(e,t){const s=le(void 0),n=le(void 0);return{debouncedFn:qe(e,t,i=>{s.set(i),n.set(void 0)},i=>{n.set(i),s.set(void 0)}),result:s,error:n}}export{Ke as F,Qe as a,Me as c,Ue as u};
//# sourceMappingURL=asyncDebounce.BeyyoRY2.js.map
