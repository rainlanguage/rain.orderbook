{"version":3,"file":"context.js","sources":["../../../../../packages/ui-components/dist/providers/wallet/context.js"],"sourcesContent":["import { getContext, setContext } from 'svelte';\nimport { readable } from 'svelte/store';\nexport const ACCOUNT_KEY = 'account_key';\n/**\n * Retrieves the account store directly from Svelte's context\n */\nexport const getAccountContext = () => {\n    const account = getContext(ACCOUNT_KEY);\n    if (!account) {\n        throw new Error('No account was found in Svelte context. Did you forget to wrap your component with WalletProvider?');\n    }\n    return account;\n};\n/**\n * Sets the account store in Svelte's context\n */\nexport const setAccountContext = (account) => {\n    setContext(ACCOUNT_KEY, account);\n};\nif (import.meta.vitest) {\n    const { describe, it, expect, vi, beforeEach } = import.meta.vitest;\n    vi.mock('svelte', async (importOriginal) => ({\n        ...(await importOriginal()),\n        getContext: vi.fn()\n    }));\n    describe('getAccountContext', () => {\n        const mockGetContext = vi.mocked(getContext);\n        beforeEach(() => {\n            mockGetContext.mockReset();\n        });\n        it('should return the account from context when it exists', () => {\n            const mockAccount = readable('0x456');\n            mockGetContext.mockImplementation((key) => {\n                if (key === ACCOUNT_KEY)\n                    return mockAccount;\n                return undefined;\n            });\n            const result = getAccountContext();\n            expect(mockGetContext).toHaveBeenCalledWith(ACCOUNT_KEY);\n            expect(result).toEqual(mockAccount);\n        });\n        it('should throw an error when account is not in context', () => {\n            mockGetContext.mockReturnValue(undefined);\n            expect(() => getAccountContext()).toThrow('No account was found in Svelte context. Did you forget to wrap your component with WalletProvider?');\n        });\n    });\n}\n"],"names":[],"mappings":";AAEO,MAAM,cAAc;AAIpB,MAAM,oBAAoB,MAAM;AAC7B,QAAA,UAAU,WAAW,WAAW;AACtC,MAAI,CAAC,SAAS;AACJ,UAAA,IAAI,MAAM,oGAAoG;AAAA,EAAA;AAEjH,SAAA;AACX;AAIa,MAAA,oBAAoB,CAAC,YAAY;AAC1C,aAAW,aAAa,OAAO;AACnC;"}