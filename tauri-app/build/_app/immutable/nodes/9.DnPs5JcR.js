import{s as U,x as q,i as h,f as _,r as ne,q as te,u as se,w as ve,e as z,c as H,b as Q,W as oe,y as we,z as ye,A as Ae,a as I,g as B,t as C,d as D,j as S,X as Te,m as O,h as R,n as P,J as Ce,L as he,k as De,K as Ie}from"../chunks/scheduler.D5AhQk_9.js";import{S as J,i as X,t as d,b as g,c as b,a as k,m as v,d as w,g as K,e as M}from"../chunks/index.Y9UT4V4X.js";import{p as Be}from"../chunks/stores.DVn3eyy9.js";import{D as Oe,T as F,a as L,u as be,c as Ve,R as Ne,h as Ee,d as Pe}from"../chunks/modal.B6hU_23M.js";import{P as qe}from"../chunks/PageHeader.Du46ENG9.js";import{e as G}from"../chunks/each.Ce8sEY8x.js";import{H as j,a as Z,u as Se,t as fe,W as We}from"../chunks/queryClient.C7JPW2eR.js";import{g as ze}from"../chunks/spread.CgU5AtxT.js";import{t as ue,B as ie}from"../chunks/darkMode.B5NsPcRX.js";import"../chunks/sentry.zpUroXQM.js";import{f as $e}from"../chunks/time.gXuYjysI.js";import{c as He,d as Qe,T as Fe,u as Le,i as Y,e as x}from"../chunks/keys.C7NBHUxU.js";import{T as Ke,C as W,A as Me,g as Re}from"../chunks/getExplorerLink.DQfCpg-M.js";import{O as ke}from"../chunks/OrderOrVaultHash.lpjZtepB.js";import{A as Ue}from"../chunks/ArrowUpFromBracketOutline.pDgoNU8T.js";import{u as je}from"../chunks/useToasts.Cnr_9HGi.js";function ee(l){let e,r,t;const a=l[7].default,s=ve(a,l,l[6],null);let o=[l[4],{class:r=ue(l[2]?l[2]:l[3][l[0]],l[1],"w-full",l[5].class)}],f={};for(let n=0;n<o.length;n+=1)f=te(f,o[n]);return{c(){e=z(l[0]),s&&s.c(),this.h()},l(n){e=H(n,(l[0]||"null").toUpperCase(),{class:!0});var i=Q(e);s&&s.l(i),i.forEach(_),this.h()},h(){oe(l[0])(e,f)},m(n,i){h(n,e,i),s&&s.m(e,null),t=!0},p(n,i){s&&s.p&&(!t||i&64)&&we(s,a,n,n[6],t?Ae(a,n[6],i,null):ye(n[6]),null),oe(n[0])(e,f=ze(o,[i&16&&n[4],(!t||i&39&&r!==(r=ue(n[2]?n[2]:n[3][n[0]],n[1],"w-full",n[5].class)))&&{class:r}]))},i(n){t||(d(s,n),t=!0)},o(n){g(s,n),t=!1},d(n){n&&_(e),s&&s.d(n)}}}function Ge(l){let e=l[0],r,t,a=l[0]&&ee(l);return{c(){a&&a.c(),r=q()},l(s){a&&a.l(s),r=q()},m(s,o){a&&a.m(s,o),h(s,r,o),t=!0},p(s,[o]){s[0]?e?U(e,s[0])?(a.d(1),a=ee(s),e=s[0],a.c(),a.m(r.parentNode,r)):a.p(s,o):(a=ee(s),e=s[0],a.c(),a.m(r.parentNode,r)):e&&(a.d(1),a=null,e=s[0])},i(s){t||(d(a,s),t=!0)},o(s){g(a,s),t=!1},d(s){s&&_(r),a&&a.d(s)}}}function Ye(l,e,r){const t=["tag","color","customSize"];let a=ne(e,t),{$$slots:s={},$$scope:o}=e,{tag:f="h1"}=e,{color:n="text-gray-900 dark:text-white"}=e,{customSize:i=""}=e;const c={h1:"text-5xl font-extrabold",h2:"text-4xl font-bold",h3:"text-3xl font-bold",h4:"text-2xl font-bold",h5:"text-xl font-bold",h6:"text-lg font-bold"};return l.$$set=m=>{r(5,e=te(te({},e),se(m))),r(4,a=ne(e,t)),"tag"in m&&r(0,f=m.tag),"color"in m&&r(1,n=m.color),"customSize"in m&&r(2,i=m.customSize),"$$scope"in m&&r(6,o=m.$$scope)},e=se(e),[f,n,i,c,a,e,o,s]}class Je extends J{constructor(e){super(),X(this,e,Ye,Ge,U,{tag:0,color:1,customSize:2})}}function Xe(l){let e;return{c(){e=C("Vault balance changes")},l(r){e=D(r,"Vault balance changes")},m(r,t){h(r,e,t)},d(r){r&&_(e)}}}function Ze(l){let e,r;return e=new Je({props:{tag:"h5",class:"mb-4 mt-6 font-normal",$$slots:{default:[Xe]},$$scope:{ctx:l}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){v(e,t,a),r=!0},p(t,a){const s={};a&16&&(s.$$scope={dirty:a,ctx:t}),e.$set(s)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){w(e,t)}}}function xe(l){let e;return{c(){e=C("Date")},l(r){e=D(r,"Date")},m(r,t){h(r,e,t)},d(r){r&&_(e)}}}function et(l){let e;return{c(){e=C("Sender")},l(r){e=D(r,"Sender")},m(r,t){h(r,e,t)},d(r){r&&_(e)}}}function tt(l){let e;return{c(){e=C("Transaction Hash")},l(r){e=D(r,"Transaction Hash")},m(r,t){h(r,e,t)},d(r){r&&_(e)}}}function rt(l){let e;return{c(){e=C("Balance Change")},l(r){e=D(r,"Balance Change")},m(r,t){h(r,e,t)},d(r){r&&_(e)}}}function at(l){let e;return{c(){e=C("Balance")},l(r){e=D(r,"Balance")},m(r,t){h(r,e,t)},d(r){r&&_(e)}}}function lt(l){let e;return{c(){e=C("Type")},l(r){e=D(r,"Type")},m(r,t){h(r,e,t)},d(r){r&&_(e)}}}function nt(l){let e,r,t,a,s,o,f,n,i,c,m,A;return e=new F({props:{padding:"p-4",$$slots:{default:[xe]},$$scope:{ctx:l}}}),t=new F({props:{padding:"p-0",$$slots:{default:[et]},$$scope:{ctx:l}}}),s=new F({props:{padding:"p-0",$$slots:{default:[tt]},$$scope:{ctx:l}}}),f=new F({props:{padding:"p-0",$$slots:{default:[rt]},$$scope:{ctx:l}}}),i=new F({props:{padding:"p-0",$$slots:{default:[at]},$$scope:{ctx:l}}}),m=new F({props:{padding:"p--",$$slots:{default:[lt]},$$scope:{ctx:l}}}),{c(){b(e.$$.fragment),r=I(),b(t.$$.fragment),a=I(),b(s.$$.fragment),o=I(),b(f.$$.fragment),n=I(),b(i.$$.fragment),c=I(),b(m.$$.fragment)},l(u){k(e.$$.fragment,u),r=B(u),k(t.$$.fragment,u),a=B(u),k(s.$$.fragment,u),o=B(u),k(f.$$.fragment,u),n=B(u),k(i.$$.fragment,u),c=B(u),k(m.$$.fragment,u)},m(u,p){v(e,u,p),h(u,r,p),v(t,u,p),h(u,a,p),v(s,u,p),h(u,o,p),v(f,u,p),h(u,n,p),v(i,u,p),h(u,c,p),v(m,u,p),A=!0},p(u,p){const $={};p&16&&($.$$scope={dirty:p,ctx:u}),e.$set($);const y={};p&16&&(y.$$scope={dirty:p,ctx:u}),t.$set(y);const V={};p&16&&(V.$$scope={dirty:p,ctx:u}),s.$set(V);const N={};p&16&&(N.$$scope={dirty:p,ctx:u}),f.$set(N);const E={};p&16&&(E.$$scope={dirty:p,ctx:u}),i.$set(E);const T={};p&16&&(T.$$scope={dirty:p,ctx:u}),m.$set(T)},i(u){A||(d(e.$$.fragment,u),d(t.$$.fragment,u),d(s.$$.fragment,u),d(f.$$.fragment,u),d(i.$$.fragment,u),d(m.$$.fragment,u),A=!0)},o(u){g(e.$$.fragment,u),g(t.$$.fragment,u),g(s.$$.fragment,u),g(f.$$.fragment,u),g(i.$$.fragment,u),g(m.$$.fragment,u),A=!1},d(u){u&&(_(r),_(a),_(o),_(n),_(c)),w(e,u),w(t,u),w(s,u),w(f,u),w(i,u),w(m,u)}}}function st(l){let e=$e(BigInt(l[3].timestamp))+"",r;return{c(){r=C(e)},l(t){r=D(t,e)},m(t,a){h(t,r,a)},p(t,a){a&8&&e!==(e=$e(BigInt(t[3].timestamp))+"")&&S(r,e)},d(t){t&&_(r)}}}function ot(l){let e,r;return e=new j({props:{type:Z.Wallet,value:l[3].transaction.from}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){v(e,t,a),r=!0},p(t,a){const s={};a&8&&(s.value=t[3].transaction.from),e.$set(s)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){w(e,t)}}}function ft(l){let e,r;return e=new j({props:{type:Z.Transaction,value:l[3].transaction.id}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){v(e,t,a),r=!0},p(t,a){const s={};a&8&&(s.value=t[3].transaction.id),e.$set(s)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){w(e,t)}}}function ut(l){let e=`${l[3].formattedAmount} ${l[3].token.symbol}`,r;return{c(){r=C(e)},l(t){r=D(t,e)},m(t,a){h(t,r,a)},p(t,a){a&8&&e!==(e=`${t[3].formattedAmount} ${t[3].token.symbol}`)&&S(r,e)},d(t){t&&_(r)}}}function it(l){let e=`${l[3].formattedNewBalance} ${l[3].token.symbol}`,r;return{c(){r=C(e)},l(t){r=D(t,e)},m(t,a){h(t,r,a)},p(t,a){a&8&&e!==(e=`${t[3].formattedNewBalance} ${t[3].token.symbol}`)&&S(r,e)},d(t){t&&_(r)}}}function $t(l){let e=l[3].type+"",r;return{c(){r=C(e)},l(t){r=D(t,e)},m(t,a){h(t,r,a)},p(t,a){a&8&&e!==(e=t[3].type+"")&&S(r,e)},d(t){t&&_(r)}}}function ct(l){let e,r,t,a,s,o,f,n,i,c,m,A;return e=new L({props:{tdClass:"px-4 py-2","data-testid":"vaultBalanceChangesTableDate",$$slots:{default:[st]},$$scope:{ctx:l}}}),t=new L({props:{tdClass:"break-all py-2 min-w-48","data-testid":"vaultBalanceChangesTableFrom",$$slots:{default:[ot]},$$scope:{ctx:l}}}),s=new L({props:{tdClass:"break-all py-2 min-w-48","data-testid":"vaultBalanceChangesTableTx",$$slots:{default:[ft]},$$scope:{ctx:l}}}),f=new L({props:{tdClass:"break-word p-0 text-left","data-testid":"vaultBalanceChangesTableBalanceChange",$$slots:{default:[ut]},$$scope:{ctx:l}}}),i=new L({props:{tdClass:"break-word p-0 text-left","data-testid":"vaultBalanceChangesTableBalance",$$slots:{default:[it]},$$scope:{ctx:l}}}),m=new L({props:{tdClass:"break-word p-0 text-left","data-testid":"vaultBalanceChangesTableType",$$slots:{default:[$t]},$$scope:{ctx:l}}}),{c(){b(e.$$.fragment),r=I(),b(t.$$.fragment),a=I(),b(s.$$.fragment),o=I(),b(f.$$.fragment),n=I(),b(i.$$.fragment),c=I(),b(m.$$.fragment)},l(u){k(e.$$.fragment,u),r=B(u),k(t.$$.fragment,u),a=B(u),k(s.$$.fragment,u),o=B(u),k(f.$$.fragment,u),n=B(u),k(i.$$.fragment,u),c=B(u),k(m.$$.fragment,u)},m(u,p){v(e,u,p),h(u,r,p),v(t,u,p),h(u,a,p),v(s,u,p),h(u,o,p),v(f,u,p),h(u,n,p),v(i,u,p),h(u,c,p),v(m,u,p),A=!0},p(u,p){const $={};p&24&&($.$$scope={dirty:p,ctx:u}),e.$set($);const y={};p&24&&(y.$$scope={dirty:p,ctx:u}),t.$set(y);const V={};p&24&&(V.$$scope={dirty:p,ctx:u}),s.$set(V);const N={};p&24&&(N.$$scope={dirty:p,ctx:u}),f.$set(N);const E={};p&24&&(E.$$scope={dirty:p,ctx:u}),i.$set(E);const T={};p&24&&(T.$$scope={dirty:p,ctx:u}),m.$set(T)},i(u){A||(d(e.$$.fragment,u),d(t.$$.fragment,u),d(s.$$.fragment,u),d(f.$$.fragment,u),d(i.$$.fragment,u),d(m.$$.fragment,u),A=!0)},o(u){g(e.$$.fragment,u),g(t.$$.fragment,u),g(s.$$.fragment,u),g(f.$$.fragment,u),g(i.$$.fragment,u),g(m.$$.fragment,u),A=!1},d(u){u&&(_(r),_(a),_(o),_(n),_(c)),w(e,u),w(t,u),w(s,u),w(f,u),w(i,u),w(m,u)}}}function mt(l){let e,r;return e=new l[2]({props:{query:l[1],queryKey:l[0].id,emptyMessage:"No deposits or withdrawals found",rowHoverable:!1,$$slots:{bodyRow:[ct,({item:t})=>({3:t}),({item:t})=>t?8:0],head:[nt],title:[Ze]},$$scope:{ctx:l}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){v(e,t,a),r=!0},p(t,[a]){const s={};a&2&&(s.query=t[1]),a&1&&(s.queryKey=t[0].id),a&24&&(s.$$scope={dirty:a,ctx:t}),e.$set(s)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){w(e,t)}}}function pt(l,e,r){let t,{vault:a}=e;const s=Fe;return l.$$set=o=>{"vault"in o&&r(0,a=o.vault)},l.$$.update=()=>{l.$$.dirty&1&&r(1,t=He({queryKey:[a.id,Qe+a.id],queryFn:async({pageParam:o})=>{const f=await a.getBalanceChanges(o+1);if(f.error)throw new Error(f.error.msg);return f.value},initialPageParam:0,getNextPageParam(o,f,n){return o.length===Oe?n+1:void 0}}))},[a,t,s]}class _t extends J{constructor(e){super(),X(this,e,pt,mt,U,{vault:0})}}function ce(l,e,r){const t=l.slice();return t[16]=e[r],t}function me(l,e,r){const t=l.slice();return t[16]=e[r],t}function pe(l){const e=Re(l[15].owner,l[1],"address");l[21]=e}function _e(l){let e,r,t,a;function s(){return l[10](l[15])}e=new ie({props:{color:"light",size:"xs","data-testid":"deposit-button","aria-label":"Deposit to vault",$$slots:{default:[dt]},$$scope:{ctx:l}}}),e.$on("click",s);function o(){return l[11](l[15])}return t=new ie({props:{color:"light",size:"xs","data-testid":"withdraw-button","aria-label":"Withdraw from vault",$$slots:{default:[gt]},$$scope:{ctx:l}}}),t.$on("click",o),{c(){b(e.$$.fragment),r=I(),b(t.$$.fragment)},l(f){k(e.$$.fragment,f),r=B(f),k(t.$$.fragment,f)},m(f,n){v(e,f,n),h(f,r,n),v(t,f,n),a=!0},p(f,n){l=f;const i={};n&4194304&&(i.$$scope={dirty:n,ctx:l}),e.$set(i);const c={};n&4194304&&(c.$$scope={dirty:n,ctx:l}),t.$set(c)},i(f){a||(d(e.$$.fragment,f),d(t.$$.fragment,f),a=!0)},o(f){g(e.$$.fragment,f),g(t.$$.fragment,f),a=!1},d(f){f&&_(r),w(e,f),w(t,f)}}}function dt(l){let e,r;return e=new Me({props:{size:"xs"}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){v(e,t,a),r=!0},p:P,i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){w(e,t)}}}function gt(l){let e,r;return e=new Ue({props:{size:"xs"}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){v(e,t,a),r=!0},p:P,i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){w(e,t)}}}function ht(l){let e,r=l[15].token.name+"",t,a,s,o=l[6](l[15].owner),f,n,i,c=o&&_e(l);return n=new Ne({props:{testId:"top-refresh",spin:l[5].isLoading||l[5].isFetching}}),n.$on("click",l[8]),{c(){e=z("div"),t=C(r),a=I(),s=z("div"),c&&c.c(),f=I(),b(n.$$.fragment),this.h()},l(m){e=H(m,"DIV",{"data-testid":!0,class:!0});var A=Q(e);t=D(A,r),A.forEach(_),a=B(m),s=H(m,"DIV",{class:!0});var u=Q(s);c&&c.l(u),f=B(u),k(n.$$.fragment,u),u.forEach(_),this.h()},h(){O(e,"data-testid","vaultDetailTokenName"),O(e,"class","flex gap-x-4 text-3xl font-medium dark:text-white"),O(s,"class","flex items-center gap-2")},m(m,A){h(m,e,A),R(e,t),h(m,a,A),h(m,s,A),c&&c.m(s,null),R(s,f),v(n,s,null),i=!0},p(m,A){(!i||A&32768)&&r!==(r=m[15].token.name+"")&&S(t,r),A&32768&&(o=m[6](m[15].owner)),o?c?(c.p(m,A),A&32768&&d(c,1)):(c=_e(m),c.c(),d(c,1),c.m(s,f)):c&&(K(),g(c,1,1,()=>{c=null}),M());const u={};A&32&&(u.spin=m[5].isLoading||m[5].isFetching),n.$set(u)},i(m){i||(d(c),d(n.$$.fragment,m),i=!0)},o(m){g(c),g(n.$$.fragment,m),i=!1},d(m){m&&(_(e),_(a),_(s)),c&&c.d(),w(n)}}}function bt(l){let e;return{c(){e=C("Vault ID")},l(r){e=D(r,"Vault ID")},m(r,t){h(r,e,t)},d(r){r&&_(e)}}}function kt(l){let e=fe(l[15].vaultId)+"",r;return{c(){r=C(e)},l(t){r=D(t,e)},m(t,a){h(t,r,a)},p(t,a){a&32768&&e!==(e=fe(t[15].vaultId)+"")&&S(r,e)},d(t){t&&_(r)}}}function vt(l){let e;return{c(){e=C("Orderbook")},l(r){e=D(r,"Orderbook")},m(r,t){h(r,e,t)},d(r){r&&_(e)}}}function wt(l){let e,r;return e=new j({props:{type:Z.Identifier,value:l[15].orderbook}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){v(e,t,a),r=!0},p(t,a){const s={};a&32768&&(s.value=t[15].orderbook),e.$set(s)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){w(e,t)}}}function yt(l){let e;return{c(){e=C("Owner address")},l(r){e=D(r,"Owner address")},m(r,t){h(r,e,t)},d(r){r&&_(e)}}}function At(l){let e,r;return e=new j({props:{type:Z.Wallet,value:l[15].owner}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){v(e,t,a),r=!0},p(t,a){const s={};a&32768&&(s.value=t[15].owner),e.$set(s)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){w(e,t)}}}function Tt(l){let e,r,t,a,s=l[15].owner+"",o,f,n;return r=new We({props:{size:"sm"}}),{c(){e=z("a"),b(r.$$.fragment),t=I(),a=z("span"),o=C(s),this.h()},l(i){e=H(i,"A",{href:!0,target:!0,rel:!0,class:!0});var c=Q(e);k(r.$$.fragment,c),t=B(c),a=H(c,"SPAN",{});var m=Q(a);o=D(m,s),m.forEach(_),c.forEach(_),this.h()},h(){O(e,"href",f=l[21]),O(e,"target","_blank"),O(e,"rel","noopener noreferrer"),O(e,"class","flex items-center justify-start space-x-2 text-left text-blue-500 hover:underline")},m(i,c){h(i,e,c),v(r,e,null),R(e,t),R(e,a),R(a,o),n=!0},p(i,c){(!n||c&32768)&&s!==(s=i[15].owner+"")&&S(o,s),(!n||c&32770&&f!==(f=i[21]))&&O(e,"href",f)},i(i){n||(d(r.$$.fragment,i),n=!0)},o(i){g(r.$$.fragment,i),n=!1},d(i){i&&_(e),w(r)}}}function Ct(l){pe(l);let e,r,t,a;const s=[Tt,At],o=[];function f(n,i){return n[21]?0:1}return e=f(l),r=o[e]=s[e](l),{c(){r.c(),t=q()},l(n){r.l(n),t=q()},m(n,i){o[e].m(n,i),h(n,t,i),a=!0},p(n,i){pe(n);let c=e;e=f(n),e===c?o[e].p(n,i):(K(),g(o[c],1,1,()=>{o[c]=null}),M(),r=o[e],r?r.p(n,i):(r=o[e]=s[e](n),r.c()),d(r,1),r.m(t.parentNode,t))},i(n){a||(d(r),a=!0)},o(n){g(r),a=!1},d(n){n&&_(t),o[e].d(n)}}}function Dt(l){let e;return{c(){e=C("Token address")},l(r){e=D(r,"Token address")},m(r,t){h(r,e,t)},d(r){r&&_(e)}}}function It(l){let e,r;return e=new j({props:{value:l[15].token.id}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){v(e,t,a),r=!0},p(t,a){const s={};a&32768&&(s.value=t[15].token.id),e.$set(s)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){w(e,t)}}}function Bt(l){let e;return{c(){e=C("Balance")},l(r){e=D(r,"Balance")},m(r,t){h(r,e,t)},d(r){r&&_(e)}}}function Ot(l){let e=`${l[15].formattedBalance} ${l[15].token.symbol}`,r;return{c(){r=C(e)},l(t){r=D(t,e)},m(t,a){h(t,r,a)},p(t,a){a&32768&&e!==(e=`${t[15].formattedBalance} ${t[15].token.symbol}`)&&S(r,e)},d(t){t&&_(r)}}}function Vt(l){let e;return{c(){e=C("Orders as input")},l(r){e=D(r,"Orders as input")},m(r,t){h(r,e,t)},d(r){r&&_(e)}}}function Nt(l){let e;return{c(){e=C("None")},l(r){e=D(r,"None")},m(r,t){h(r,e,t)},p:P,i:P,o:P,d(r){r&&_(e)}}}function Et(l){let e,r,t=G(l[15].ordersAsInput),a=[];for(let o=0;o<t.length;o+=1)a[o]=de(me(l,t,o));const s=o=>g(a[o],1,1,()=>{a[o]=null});return{c(){for(let o=0;o<a.length;o+=1)a[o].c();e=q()},l(o){for(let f=0;f<a.length;f+=1)a[f].l(o);e=q()},m(o,f){for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(o,f);h(o,e,f),r=!0},p(o,f){if(f&32771){t=G(o[15].ordersAsInput);let n;for(n=0;n<t.length;n+=1){const i=me(o,t,n);a[n]?(a[n].p(i,f),d(a[n],1)):(a[n]=de(i),a[n].c(),d(a[n],1),a[n].m(e.parentNode,e))}for(K(),n=t.length;n<a.length;n+=1)s(n);M()}},i(o){if(!r){for(let f=0;f<t.length;f+=1)d(a[f]);r=!0}},o(o){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)g(a[f]);r=!1},d(o){o&&_(e),he(a,o)}}}function de(l){let e,r;return e=new ke({props:{type:"orders",orderOrVault:l[16],chainId:l[1],orderbookAddress:l[0]}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){v(e,t,a),r=!0},p(t,a){const s={};a&32768&&(s.orderOrVault=t[16]),a&2&&(s.chainId=t[1]),a&1&&(s.orderbookAddress=t[0]),e.$set(s)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){w(e,t)}}}function Pt(l){let e,r,t,a;const s=[Et,Nt],o=[];function f(n,i){return n[15].ordersAsInput&&n[15].ordersAsInput.length>0?0:1}return r=f(l),t=o[r]=s[r](l),{c(){e=z("p"),t.c(),this.h()},l(n){e=H(n,"P",{"data-testid":!0,class:!0});var i=Q(e);t.l(i),i.forEach(_),this.h()},h(){O(e,"data-testid","vaultDetailOrdersAsInput"),O(e,"class","flex flex-wrap justify-start")},m(n,i){h(n,e,i),o[r].m(e,null),a=!0},p(n,i){let c=r;r=f(n),r===c?o[r].p(n,i):(K(),g(o[c],1,1,()=>{o[c]=null}),M(),t=o[r],t?t.p(n,i):(t=o[r]=s[r](n),t.c()),d(t,1),t.m(e,null))},i(n){a||(d(t),a=!0)},o(n){g(t),a=!1},d(n){n&&_(e),o[r].d()}}}function qt(l){let e;return{c(){e=C("Orders as output")},l(r){e=D(r,"Orders as output")},m(r,t){h(r,e,t)},d(r){r&&_(e)}}}function St(l){let e;return{c(){e=C("None")},l(r){e=D(r,"None")},m(r,t){h(r,e,t)},p:P,i:P,o:P,d(r){r&&_(e)}}}function Wt(l){let e,r,t=G(l[15].ordersAsOutput),a=[];for(let o=0;o<t.length;o+=1)a[o]=ge(ce(l,t,o));const s=o=>g(a[o],1,1,()=>{a[o]=null});return{c(){for(let o=0;o<a.length;o+=1)a[o].c();e=q()},l(o){for(let f=0;f<a.length;f+=1)a[f].l(o);e=q()},m(o,f){for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(o,f);h(o,e,f),r=!0},p(o,f){if(f&32771){t=G(o[15].ordersAsOutput);let n;for(n=0;n<t.length;n+=1){const i=ce(o,t,n);a[n]?(a[n].p(i,f),d(a[n],1)):(a[n]=ge(i),a[n].c(),d(a[n],1),a[n].m(e.parentNode,e))}for(K(),n=t.length;n<a.length;n+=1)s(n);M()}},i(o){if(!r){for(let f=0;f<t.length;f+=1)d(a[f]);r=!0}},o(o){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)g(a[f]);r=!1},d(o){o&&_(e),he(a,o)}}}function ge(l){let e,r;return e=new ke({props:{type:"orders",orderOrVault:l[16],chainId:l[1],orderbookAddress:l[0]}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){v(e,t,a),r=!0},p(t,a){const s={};a&32768&&(s.orderOrVault=t[16]),a&2&&(s.chainId=t[1]),a&1&&(s.orderbookAddress=t[0]),e.$set(s)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){w(e,t)}}}function zt(l){let e,r,t,a;const s=[Wt,St],o=[];function f(n,i){return n[15].ordersAsOutput&&n[15].ordersAsOutput.length>0?0:1}return r=f(l),t=o[r]=s[r](l),{c(){e=z("p"),t.c(),this.h()},l(n){e=H(n,"P",{"data-testid":!0,class:!0});var i=Q(e);t.l(i),i.forEach(_),this.h()},h(){O(e,"data-testid","vaultDetailOrdersAsOutput"),O(e,"class","flex flex-wrap justify-start")},m(n,i){h(n,e,i),o[r].m(e,null),a=!0},p(n,i){let c=r;r=f(n),r===c?o[r].p(n,i):(K(),g(o[c],1,1,()=>{o[c]=null}),M(),t=o[r],t?t.p(n,i):(t=o[r]=s[r](n),t.c()),d(t,1),t.m(e,null))},i(n){a||(d(t),a=!0)},o(n){g(t),a=!1},d(n){n&&_(e),o[r].d()}}}function Ht(l){let e,r,t,a,s,o,f,n,i,c,m,A,u,p;return e=new W({props:{"data-testid":"vaultDetailVaultId",$$slots:{value:[kt],key:[bt]},$$scope:{ctx:l}}}),t=new W({props:{"data-testid":"vaultDetailOrderbookAddress",$$slots:{value:[wt],key:[vt]},$$scope:{ctx:l}}}),s=new W({props:{"data-testid":"vaultDetailOwnerAddress",$$slots:{value:[Ct],key:[yt]},$$scope:{ctx:l}}}),f=new W({props:{"data-testid":"vaultDetailTokenAddress",$$slots:{value:[It],key:[Dt]},$$scope:{ctx:l}}}),i=new W({props:{"data-testid":"vaultDetailBalance",$$slots:{value:[Ot],key:[Bt]},$$scope:{ctx:l}}}),m=new W({props:{$$slots:{value:[Pt],key:[Vt]},$$scope:{ctx:l}}}),u=new W({props:{$$slots:{value:[zt],key:[qt]},$$scope:{ctx:l}}}),{c(){b(e.$$.fragment),r=I(),b(t.$$.fragment),a=I(),b(s.$$.fragment),o=I(),b(f.$$.fragment),n=I(),b(i.$$.fragment),c=I(),b(m.$$.fragment),A=I(),b(u.$$.fragment)},l($){k(e.$$.fragment,$),r=B($),k(t.$$.fragment,$),a=B($),k(s.$$.fragment,$),o=B($),k(f.$$.fragment,$),n=B($),k(i.$$.fragment,$),c=B($),k(m.$$.fragment,$),A=B($),k(u.$$.fragment,$)},m($,y){v(e,$,y),h($,r,y),v(t,$,y),h($,a,y),v(s,$,y),h($,o,y),v(f,$,y),h($,n,y),v(i,$,y),h($,c,y),v(m,$,y),h($,A,y),v(u,$,y),p=!0},p($,y){const V={};y&4227072&&(V.$$scope={dirty:y,ctx:$}),e.$set(V);const N={};y&4227072&&(N.$$scope={dirty:y,ctx:$}),t.$set(N);const E={};y&4227074&&(E.$$scope={dirty:y,ctx:$}),s.$set(E);const T={};y&4227072&&(T.$$scope={dirty:y,ctx:$}),f.$set(T);const re={};y&4227072&&(re.$$scope={dirty:y,ctx:$}),i.$set(re);const ae={};y&4227075&&(ae.$$scope={dirty:y,ctx:$}),m.$set(ae);const le={};y&4227075&&(le.$$scope={dirty:y,ctx:$}),u.$set(le)},i($){p||(d(e.$$.fragment,$),d(t.$$.fragment,$),d(s.$$.fragment,$),d(f.$$.fragment,$),d(i.$$.fragment,$),d(m.$$.fragment,$),d(u.$$.fragment,$),p=!0)},o($){g(e.$$.fragment,$),g(t.$$.fragment,$),g(s.$$.fragment,$),g(f.$$.fragment,$),g(i.$$.fragment,$),g(m.$$.fragment,$),g(u.$$.fragment,$),p=!1},d($){$&&(_(r),_(a),_(o),_(n),_(c),_(A)),w(e,$),w(t,$),w(s,$),w(f,$),w(i,$),w(m,$),w(u,$)}}}function Qt(l){let e,r;return e=new _t({props:{vault:l[15]}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){v(e,t,a),r=!0},p(t,a){const s={};a&32768&&(s.vault=t[15]),e.$set(s)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){w(e,t)}}}function Ft(l){let e,r;return e=new Ke({props:{query:l[4],emptyMessage:"Vault not found",$$slots:{below:[Qt,({data:t})=>({15:t}),({data:t})=>t?32768:0],card:[Ht,({data:t})=>({15:t}),({data:t})=>t?32768:0],top:[ht,({data:t})=>({15:t}),({data:t})=>t?32768:0]},$$scope:{ctx:l}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){v(e,t,a),r=!0},p(t,[a]){const s={};a&16&&(s.query=t[4]),a&4227119&&(s.$$scope={dirty:a,ctx:t}),e.$set(s)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){w(e,t)}}}function Lt(l,e,r){let t,a,s=P,o=()=>(s(),s=Ce(t,T=>r(5,a=T)),t);l.$$.on_destroy.push(()=>s());let{id:f}=e,{orderbookAddress:n}=e,{chainId:i}=e,{onDeposit:c}=e,{onWithdraw:m}=e;const A=be(),{matchesAccount:u}=Le(),{errToast:p}=je(),$=Se(),y=setInterval(async()=>{Y(A,[f,x+f])},5e3);Te(()=>{clearInterval(y)});const V=async()=>{try{await Y(A,[f,x+f])}catch{p("Failed to refresh")}},N=T=>c($,T),E=T=>m($,T);return l.$$set=T=>{"id"in T&&r(9,f=T.id),"orderbookAddress"in T&&r(0,n=T.orderbookAddress),"chainId"in T&&r(1,i=T.chainId),"onDeposit"in T&&r(2,c=T.onDeposit),"onWithdraw"in T&&r(3,m=T.onWithdraw)},l.$$.update=()=>{l.$$.dirty&515&&o(r(4,t=Ve({queryKey:[f,x+f],queryFn:async()=>{const T=await $.getVault(i,n,f);if(T.error)throw new Error(T.error.readableMsg);return T.value}})))},[n,i,c,m,t,a,u,$,V,f,N,E]}class Kt extends J{constructor(e){super(),X(this,e,Lt,Ft,U,{id:9,orderbookAddress:0,chainId:1,onDeposit:2,onWithdraw:3})}}function Mt(l){let e,r,t,a;return e=new qe({props:{title:"Vault",pathname:l[0].url.pathname}}),t=new Kt({props:{chainId:l[2],orderbookAddress:l[3],id:l[1],onDeposit:l[4],onWithdraw:l[5]}}),{c(){b(e.$$.fragment),r=I(),b(t.$$.fragment)},l(s){k(e.$$.fragment,s),r=B(s),k(t.$$.fragment,s)},m(s,o){v(e,s,o),h(s,r,o),v(t,s,o),a=!0},p(s,[o]){const f={};o&1&&(f.pathname=s[0].url.pathname),e.$set(f)},i(s){a||(d(e.$$.fragment,s),d(t.$$.fragment,s),a=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),a=!1},d(s){s&&_(r),w(e,s),w(t,s)}}}function Rt(l,e,r){let t;De(l,Be,p=>r(0,t=p));const a=Ie(),{chainId:s,orderbook:o,id:f}=t.params,n=f,i=Number(s),c=o,m=be();function A(p,$){Ee($,()=>{Y(m,[t.params.id])},a)}function u(p,$){Pe($,()=>{Y(m,[t.params.id])},a)}return[t,n,i,c,A,u]}class fr extends J{constructor(e){super(),X(this,e,Rt,Mt,U,{})}}export{fr as component};
//# sourceMappingURL=9.DnPs5JcR.js.map
