import{s as ee,q as J,D as Me,E as Se,b as Q,f as _,m as L,F as Be,i as v,h as I,G as Z,n as X,H as it,r as Ve,I as Mt,u as ne,v as ae,x as Y,t as S,d as B,w as ft,e as R,a as y,c as H,g as A,j as U,y as ut,z as ct,A as mt,T as St,X as $t,N as $e,O as ke,J as fe,R as Oe,l as de,$ as Bt,ae as Vt,ad as Ot,L as De,k as Lt,K as Nt}from"../chunks/scheduler.D5AhQk_9.js";import{S as te,i as re,g as j,b as p,e as K,t as g,c as k,a as T,m as D,d as E,f as Te}from"../chunks/index.Y9UT4V4X.js";import{p as Rt}from"../chunks/stores.DVn3eyy9.js";import{t as Le,B as ue,V as Ht,c as qt,a as Qt,l as Pt}from"../chunks/darkMode.B5NsPcRX.js";import{B as dt,c as Ee,D as zt,T as le,a as G,R as _t,i as Wt,u as Ce,j as Ft,k as Ut,l as Ie,m as Yt,n as jt,e as Kt,h as Zt,d as Gt}from"../chunks/modal.B6hU_23M.js";import{P as Jt}from"../chunks/PageHeader.Du46ENG9.js";import{e as ce}from"../chunks/each.Ce8sEY8x.js";import{T as gt,t as Ne,H as _e,a as ve,f as Re,g as He,C as Xt,u as ht,W as xt,j as er}from"../chunks/queryClient.C7JPW2eR.js";import{g as me,a as we}from"../chunks/spread.CgU5AtxT.js";import{B as pt}from"../chunks/Badge.BAVF_pEV.js";import"../chunks/sentry.zpUroXQM.js";import{t as tr,f as be}from"../chunks/time.gXuYjysI.js";import{S as rr,l as bt}from"../chunks/index.BrNZflL2.js";import{f as vt,c as lr,T as ar,g as qe,i as ie,u as nr,h as sr}from"../chunks/keys.C7NBHUxU.js";import{B as ye,P as or,a as ir,T as fr,b as he,C as ur,I as cr}from"../chunks/CodeMirrorRainlang.DNXB18Q9.js";import{u as wt}from"../chunks/useToasts.Cnr_9HGi.js";import{T as mr,C as pe,g as $r,A as dr}from"../chunks/getExplorerLink.DQfCpg-M.js";import{A as Ae}from"../chunks/ArrowUpFromBracketOutline.pDgoNU8T.js";function _r(n){let e,r,t,l,a,o=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"currentColor"},n[4],{class:t=Le("shrink-0",n[3][n[0]],n[5].class)},{role:n[1]},{"aria-label":n[2]},{viewBox:"0 0 20 20"}],i={};for(let s=0;s<o.length;s+=1)i=J(i,o[s]);return{c(){e=Me("svg"),r=Me("path"),this.h()},l(s){e=Se(s,"svg",{xmlns:!0,fill:!0,class:!0,role:!0,"aria-label":!0,viewBox:!0});var f=Q(e);r=Se(f,"path",{fill:!0,d:!0}),Q(r).forEach(_),f.forEach(_),this.h()},h(){L(r,"fill","currentColor"),L(r,"d","m13.835 7.578-.005.007-7.137 7.137 2.139 2.138 7.143-7.142-2.14-2.14Zm-10.696 3.59 2.139 2.14 7.138-7.137.007-.005-2.141-2.141-7.143 7.143Zm1.433 4.261L2 12.852.051 18.684a1 1 0 0 0 1.265 1.264L7.147 18l-2.575-2.571Zm14.249-14.25a4.03 4.03 0 0 0-5.693 0L11.7 2.611 17.389 8.3l1.432-1.432a4.029 4.029 0 0 0 0-5.689Z"),Be(e,i)},m(s,f){v(s,e,f),I(e,r),l||(a=[Z(e,"click",n[6]),Z(e,"keydown",n[7]),Z(e,"keyup",n[8]),Z(e,"focus",n[9]),Z(e,"blur",n[10]),Z(e,"mouseenter",n[11]),Z(e,"mouseleave",n[12]),Z(e,"mouseover",n[13]),Z(e,"mouseout",n[14])],l=!0)},p(s,[f]){Be(e,i=me(o,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"currentColor"},f&16&&s[4],f&33&&t!==(t=Le("shrink-0",s[3][s[0]],s[5].class))&&{class:t},f&2&&{role:s[1]},f&4&&{"aria-label":s[2]},{viewBox:"0 0 20 20"}]))},i:X,o:X,d(s){s&&_(e),l=!1,it(a)}}}function gr(n,e,r){const t=["size","role","ariaLabel"];let l=Ve(e,t);const a=Mt("iconCtx")??{},o={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:i=a.size||"md"}=e,{role:s=a.role||"img"}=e,{ariaLabel:f="pen solid"}=e;function u(C){ae.call(this,n,C)}function c(C){ae.call(this,n,C)}function d(C){ae.call(this,n,C)}function b(C){ae.call(this,n,C)}function h(C){ae.call(this,n,C)}function $(C){ae.call(this,n,C)}function m(C){ae.call(this,n,C)}function w(C){ae.call(this,n,C)}function O(C){ae.call(this,n,C)}return n.$$set=C=>{r(5,e=J(J({},e),ne(C))),r(4,l=Ve(e,t)),"size"in C&&r(0,i=C.size),"role"in C&&r(1,s=C.role),"ariaLabel"in C&&r(2,f=C.ariaLabel)},e=ne(e),[i,s,f,o,l,e,u,c,d,b,h,$,m,w,O]}class hr extends te{constructor(e){super(),re(this,e,gr,_r,ee,{size:0,role:1,ariaLabel:2})}}function pr(n){let e,r;const t=[{color:"yellow"},n[1]];let l={$$slots:{default:[vr]},$$scope:{ctx:n}};for(let a=0;a<t.length;a+=1)l=J(l,t[a]);return e=new pt({props:l}),{c(){k(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){D(e,a,o),r=!0},p(a,o){const i=o&2?me(t,[t[0],we(a[1])]):{};o&4&&(i.$$scope={dirty:o,ctx:a}),e.$set(i)},i(a){r||(g(e.$$.fragment,a),r=!0)},o(a){p(e.$$.fragment,a),r=!1},d(a){E(e,a)}}}function br(n){let e,r;const t=[{color:"green"},n[1]];let l={$$slots:{default:[wr]},$$scope:{ctx:n}};for(let a=0;a<t.length;a+=1)l=J(l,t[a]);return e=new pt({props:l}),{c(){k(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){D(e,a,o),r=!0},p(a,o){const i=o&2?me(t,[t[0],we(a[1])]):{};o&4&&(i.$$scope={dirty:o,ctx:a}),e.$set(i)},i(a){r||(g(e.$$.fragment,a),r=!0)},o(a){p(e.$$.fragment,a),r=!1},d(a){E(e,a)}}}function vr(n){let e;return{c(){e=S("Inactive")},l(r){e=B(r,"Inactive")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function wr(n){let e;return{c(){e=S("Active")},l(r){e=B(r,"Active")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function kr(n){let e,r,t,l;const a=[br,pr],o=[];function i(s,f){return s[0]?0:1}return e=i(n),r=o[e]=a[e](n),{c(){r.c(),t=Y()},l(s){r.l(s),t=Y()},m(s,f){o[e].m(s,f),v(s,t,f),l=!0},p(s,[f]){let u=e;e=i(s),e===u?o[e].p(s,f):(j(),p(o[u],1,1,()=>{o[u]=null}),K(),r=o[e],r?r.p(s,f):(r=o[e]=a[e](s),r.c()),g(r,1),r.m(t.parentNode,t))},i(s){l||(g(r),l=!0)},o(s){p(r),l=!1},d(s){s&&_(t),o[e].d(s)}}}function Tr(n,e,r){let{active:t}=e;return n.$$set=l=>{r(1,e=J(J({},e),ne(l))),"active"in l&&r(0,t=l.active)},e=ne(e),[t,e]}class Dr extends te{constructor(e){super(),re(this,e,Tr,kr,ee,{active:0})}}const Er=n=>({}),Qe=n=>({});function Cr(n){let e,r,t=Ne(n[0].vaultId)+"",l;return{c(){e=S("ID: "),r=R("span"),l=S(t),this.h()},l(a){e=B(a,"ID: "),r=H(a,"SPAN",{class:!0});var o=Q(r);l=B(o,t),o.forEach(_),this.h()},h(){L(r,"class","font-mono")},m(a,o){v(a,e,o),v(a,r,o),I(r,l)},p(a,o){o&1&&t!==(t=Ne(a[0].vaultId)+"")&&U(l,t)},d(a){a&&(_(e),_(r))}}}function Ir(n){let e,r,t,l,a,o=n[0].token.name+"",i,s,f=n[0].token.symbol+"",u,c,d,b,h,$,m,w=n[0].formattedBalance+"",O,C,M,N;t=new gt({props:{triggeredBy:`#token-info-${n[0].vaultId}`,$$slots:{default:[Cr]},$$scope:{ctx:n}}});const W=n[3].buttons,z=ft(W,n,n[4],Qe);return{c(){e=R("div"),r=R("div"),k(t.$$.fragment),l=y(),a=R("a"),i=S(o),s=S(" ("),u=S(f),c=S(")"),h=y(),$=R("span"),m=S("Balance: "),O=S(w),C=y(),M=R("div"),z&&z.c(),this.h()},l(V){e=H(V,"DIV",{class:!0,"data-testid":!0});var F=Q(e);r=H(F,"DIV",{class:!0});var x=Q(r);T(t.$$.fragment,x),l=A(x),a=H(x,"A",{href:!0,id:!0});var P=Q(a);i=B(P,o),s=B(P," ("),u=B(P,f),c=B(P,")"),P.forEach(_),h=A(x),$=H(x,"SPAN",{class:!0});var se=Q($);m=B(se,"Balance: "),O=B(se,w),se.forEach(_),x.forEach(_),C=A(F),M=H(F,"DIV",{});var ge=Q(M);z&&z.l(ge),ge.forEach(_),F.forEach(_),this.h()},h(){L(a,"href",d=`/vaults/${n[1]}-${n[2]}-${n[0].id}`),L(a,"id",b=`token-info-${n[0].vaultId}`),L($,"class","text-sm text-gray-500 dark:text-gray-400"),L(r,"class","flex flex-col items-start gap-y-2"),L(e,"class","flex cursor-pointer items-center justify-between space-y-2 rounded-lg border border-gray-100 p-2"),L(e,"data-testid","vault-link")},m(V,F){v(V,e,F),I(e,r),D(t,r,null),I(r,l),I(r,a),I(a,i),I(a,s),I(a,u),I(a,c),I(r,h),I(r,$),I($,m),I($,O),I(e,C),I(e,M),z&&z.m(M,null),N=!0},p(V,[F]){const x={};F&1&&(x.triggeredBy=`#token-info-${V[0].vaultId}`),F&17&&(x.$$scope={dirty:F,ctx:V}),t.$set(x),(!N||F&1)&&o!==(o=V[0].token.name+"")&&U(i,o),(!N||F&1)&&f!==(f=V[0].token.symbol+"")&&U(u,f),(!N||F&7&&d!==(d=`/vaults/${V[1]}-${V[2]}-${V[0].id}`))&&L(a,"href",d),(!N||F&1&&b!==(b=`token-info-${V[0].vaultId}`))&&L(a,"id",b),(!N||F&1)&&w!==(w=V[0].formattedBalance+"")&&U(O,w),z&&z.p&&(!N||F&16)&&ut(z,W,V,V[4],N?mt(W,V[4],F,Er):ct(V[4]),Qe)},i(V){N||(g(t.$$.fragment,V),g(z,V),N=!0)},o(V){p(t.$$.fragment,V),p(z,V),N=!1},d(V){V&&_(e),E(t),z&&z.d(V)}}}function yr(n,e,r){let{$$slots:t={},$$scope:l}=e,{tokenVault:a}=e,{chainId:o}=e,{orderbookAddress:i}=e;return n.$$set=s=>{"tokenVault"in s&&r(0,a=s.tokenVault),"chainId"in s&&r(1,o=s.chainId),"orderbookAddress"in s&&r(2,i=s.orderbookAddress),"$$scope"in s&&r(4,l=s.$$scope)},[a,o,i,t,l]}class Ar extends te{constructor(e){super(),re(this,e,yr,Ir,ee,{tokenVault:0,chainId:1,orderbookAddress:2})}}function Mr(n){let e;const r=n[2].default,t=ft(r,n,n[4],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,a){t&&t.m(l,a),e=!0},p(l,a){t&&t.p&&(!e||a&16)&&ut(t,r,l,l[4],e?mt(r,l[4],a,null):ct(l[4]),null)},i(l){e||(g(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function Sr(n){let e,r;const t=[{disabled:n[0]},n[1]];let l={$$slots:{default:[Mr]},$$scope:{ctx:n}};for(let a=0;a<t.length;a+=1)l=J(l,t[a]);return e=new ue({props:l}),e.$on("click",n[3]),{c(){k(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){D(e,a,o),r=!0},p(a,[o]){const i=o&3?me(t,[o&1&&{disabled:a[0]},o&2&&we(a[1])]):{};o&16&&(i.$$scope={dirty:o,ctx:a}),e.$set(i)},i(a){r||(g(e.$$.fragment,a),r=!0)},o(a){p(e.$$.fragment,a),r=!1},d(a){E(e,a)}}}function Br(n,e,r){let{$$slots:t={},$$scope:l}=e,{active:a=!1}=e;function o(i){ae.call(this,n,i)}return n.$$set=i=>{r(1,e=J(J({},e),ne(i))),"active"in i&&r(0,a=i.active),"$$scope"in i&&r(4,l=i.$$scope)},e=ne(e),[a,e,t,o,l]}class oe extends te{constructor(e){super(),re(this,e,Br,Sr,ee,{active:0})}}function Vr(n){let e;return{c(){e=S("1 Year")},l(r){e=B(r,"1 Year")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function Or(n){let e;return{c(){e=S("30 Days")},l(r){e=B(r,"30 Days")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function Lr(n){let e;return{c(){e=S("7 Days")},l(r){e=B(r,"7 Days")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function Nr(n){let e;return{c(){e=S("24 Hours")},l(r){e=B(r,"24 Hours")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function Rr(n){let e,r,t,l,a,o,i,s;return e=new oe({props:{active:n[0]===n[4],size:"xs",class:"px-2 py-1",$$slots:{default:[Vr]},$$scope:{ctx:n}}}),e.$on("click",n[5]),t=new oe({props:{active:n[0]===n[3],size:"xs",class:"px-2 py-1",$$slots:{default:[Or]},$$scope:{ctx:n}}}),t.$on("click",n[6]),a=new oe({props:{active:n[0]===n[2],size:"xs",class:"px-2 py-1",$$slots:{default:[Lr]},$$scope:{ctx:n}}}),a.$on("click",n[7]),i=new oe({props:{active:n[0]===n[1],size:"xs",class:"px-2 py-1",$$slots:{default:[Nr]},$$scope:{ctx:n}}}),i.$on("click",n[8]),{c(){k(e.$$.fragment),r=y(),k(t.$$.fragment),l=y(),k(a.$$.fragment),o=y(),k(i.$$.fragment)},l(f){T(e.$$.fragment,f),r=A(f),T(t.$$.fragment,f),l=A(f),T(a.$$.fragment,f),o=A(f),T(i.$$.fragment,f)},m(f,u){D(e,f,u),v(f,r,u),D(t,f,u),v(f,l,u),D(a,f,u),v(f,o,u),D(i,f,u),s=!0},p(f,u){const c={};u&1&&(c.active=f[0]===f[4]),u&512&&(c.$$scope={dirty:u,ctx:f}),e.$set(c);const d={};u&1&&(d.active=f[0]===f[3]),u&512&&(d.$$scope={dirty:u,ctx:f}),t.$set(d);const b={};u&1&&(b.active=f[0]===f[2]),u&512&&(b.$$scope={dirty:u,ctx:f}),a.$set(b);const h={};u&1&&(h.active=f[0]===f[1]),u&512&&(h.$$scope={dirty:u,ctx:f}),i.$set(h)},i(f){s||(g(e.$$.fragment,f),g(t.$$.fragment,f),g(a.$$.fragment,f),g(i.$$.fragment,f),s=!0)},o(f){p(e.$$.fragment,f),p(t.$$.fragment,f),p(a.$$.fragment,f),p(i.$$.fragment,f),s=!1},d(f){f&&(_(r),_(l),_(o)),E(e,f),E(t,f),E(a,f),E(i,f)}}}function Hr(n){let e,r;return e=new dt({props:{class:"bg-gray-800","data-testid":"lightweightChartYearButtons",$$slots:{default:[Rr]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,[l]){const a={};l&513&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function qr(n,e,r){let{timeDelta:i=31536e3}=e;const s=()=>r(0,i=31536e3),f=()=>r(0,i=2592e3),u=()=>r(0,i=604800),c=()=>r(0,i=86400);return n.$$set=d=>{"timeDelta"in d&&r(0,i=d.timeDelta)},[i,86400,604800,2592e3,31536e3,s,f,u,c]}class Qr extends te{constructor(e){super(),re(this,e,qr,Hr,ee,{timeDelta:0})}}function Pe(n){let e,r;return{c(){e=R("div"),r=S(n[3]),this.h()},l(t){e=H(t,"DIV",{"data-testid":!0,class:!0});var l=Q(e);r=B(l,n[3]),l.forEach(_),this.h()},h(){L(e,"data-testid","lightweightChartTitle"),L(e,"class","mb-2 text-xl")},m(t,l){v(t,e,l),I(e,r)},p(t,l){l&8&&U(r,t[3])},d(t){t&&_(e)}}}function ze(n){let e,r;return e=new rr({props:{"data-testid":"lightweightChartSpinner",class:"mr-2 h-4 w-4",color:"white"}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function We(n){let e,r,t;function l(o){n[13](o)}let a={};return n[6]!==void 0&&(a.timeDelta=n[6]),e=new Qr({props:a}),$e.push(()=>Te(e,"timeDelta",l)),{c(){k(e.$$.fragment)},l(o){T(e.$$.fragment,o)},m(o,i){D(e,o,i),t=!0},p(o,i){const s={};!r&&i&64&&(r=!0,s.timeDelta=o[6],ke(()=>r=!1)),e.$set(s)},i(o){t||(g(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){E(e,o)}}}function Pr(n){let e,r=[{class:"h-full w-full overflow-hidden"},n[7],{"data-testid":"lightweightChartElement"}],t={};for(let l=0;l<r.length;l+=1)t=J(t,r[l]);return{c(){e=R("div"),this.h()},l(l){e=H(l,"DIV",{class:!0,"data-testid":!0}),Q(e).forEach(_),this.h()},h(){Oe(e,t)},m(l,a){v(l,e,a),n[14](e)},p(l,a){Oe(e,t=me(r,[{class:"h-full w-full overflow-hidden"},a&128&&l[7],{"data-testid":"lightweightChartElement"}]))},d(l){l&&_(e),n[14](null)}}}function zr(n){let e,r;return{c(){e=R("div"),r=S(n[2]),this.h()},l(t){e=H(t,"DIV",{class:!0,"data-testid":!0});var l=Q(e);r=B(l,n[2]),l.forEach(_),this.h()},h(){L(e,"class","text-gray-800 dark:text-gray-400"),L(e,"data-testid","lightweightChartEmptyMessage")},m(t,l){v(t,e,l),I(e,r)},p(t,l){l&4&&U(r,t[2])},d(t){t&&_(e)}}}function Wr(n){let e,r,t,l,a,o,i,s,f,u=n[3]!==void 0&&Pe(n),c=n[1]&&ze(),d=n[0].length>0&&We(n);function b(m,w){return m[0].length===0&&!m[1]?zr:Pr}let h=b(n),$=h(n);return{c(){e=R("div"),r=R("div"),t=R("div"),u&&u.c(),l=y(),a=R("div"),c&&c.c(),o=y(),d&&d.c(),i=y(),s=R("div"),$.c(),this.h()},l(m){e=H(m,"DIV",{class:!0});var w=Q(e);r=H(w,"DIV",{class:!0});var O=Q(r);t=H(O,"DIV",{class:!0});var C=Q(t);u&&u.l(C),C.forEach(_),l=A(O),a=H(O,"DIV",{});var M=Q(a);c&&c.l(M),o=A(M),d&&d.l(M),M.forEach(_),O.forEach(_),i=A(w),s=H(w,"DIV",{class:!0});var N=Q(s);$.l(N),N.forEach(_),w.forEach(_),this.h()},h(){L(t,"class","text-gray-900 dark:text-white"),L(r,"class","flex w-full justify-between border-b p-3 pb-0 dark:border-gray-700"),L(s,"class","relative flex w-full grow items-center justify-center bg-white dark:bg-gray-800"),L(e,"class","flex h-full flex-col overflow-hidden rounded-lg border bg-gray-50 dark:border-none dark:bg-gray-700")},m(m,w){v(m,e,w),I(e,r),I(r,t),u&&u.m(t,null),I(r,l),I(r,a),c&&c.m(a,null),I(a,o),d&&d.m(a,null),I(e,i),I(e,s),$.m(s,null),f=!0},p(m,[w]){m[3]!==void 0?u?u.p(m,w):(u=Pe(m),u.c(),u.m(t,null)):u&&(u.d(1),u=null),m[1]?c?w&2&&g(c,1):(c=ze(),c.c(),g(c,1),c.m(a,o)):c&&(j(),p(c,1,1,()=>{c=null}),K()),m[0].length>0?d?(d.p(m,w),w&1&&g(d,1)):(d=We(m),d.c(),g(d,1),d.m(a,null)):d&&(j(),p(d,1,1,()=>{d=null}),K()),h===(h=b(m))&&$?$.p(m,w):($.d(1),$=h(m),$&&($.c(),$.m(s,null)))},i(m){f||(g(c),g(d),f=!0)},o(m){p(c),p(d),f=!1},d(m){m&&_(e),u&&u.d(),c&&c.d(),d&&d.d(),$.d()}}}function Fr(n,e,r){let t,l=X,a=()=>(l(),l=fe(d,P=>r(12,t=P)),d);n.$$.on_destroy.push(()=>l());let{data:o=[]}=e,{loading:i=!1}=e,{emptyMessage:s="None found"}=e,{title:f=void 0}=e,{priceSymbol:u=void 0}=e,{createSeries:c}=e,{lightweightChartsTheme:d}=e;a();let b,h,$,m,w,O,C=0;function M(){h!==void 0&&(O=Math.floor(new Date().getTime()/1e3),w=O-m,h.timeScale().setVisibleRange({from:w,to:O}))}function N(){h!==void 0&&h.applyOptions({...t,autoSize:!0,localization:{priceFormatter:P=>u?`${P.toFixed(4)} ${u}`:P.toFixed(4)}})}function W(){$===void 0||o.length===0||(C===0?$.setData(o):o.length>C&&o.slice(C).forEach(se=>{$?.update(se)}),C=o.length,M())}function z(){h!=null&&(h.remove(),r(10,h=void 0))}function V(){b!==void 0&&(r(10,h=Ht(b)),r(11,$=c(h)),N(),W())}St(()=>{V()}),$t(()=>{z()});function F(P){m=P,r(6,m)}function x(P){$e[P?"unshift":"push"](()=>{b=P,r(5,b)})}return n.$$set=P=>{r(7,e=J(J({},e),ne(P))),"data"in P&&r(0,o=P.data),"loading"in P&&r(1,i=P.loading),"emptyMessage"in P&&r(2,s=P.emptyMessage),"title"in P&&r(3,f=P.title),"priceSymbol"in P&&r(8,u=P.priceSymbol),"createSeries"in P&&r(9,c=P.createSeries),"lightweightChartsTheme"in P&&a(r(4,d=P.lightweightChartsTheme))},n.$$.update=()=>{n.$$.dirty&2049&&(o||$)&&W(),n.$$.dirty&64&&m&&M(),n.$$.dirty&4096&&t&&N(),n.$$.dirty&1057&&b&&o.length>0&&!h&&V()},e=ne(e),[o,i,s,f,d,b,m,e,u,c,h,$,t,F,x]}class Ur extends te{constructor(e){super(),re(this,e,Fr,Wr,ee,{data:0,loading:1,emptyMessage:2,title:3,priceSymbol:8,createSeries:9,lightweightChartsTheme:4})}}const Yr=n=>{const e=[],r=new Set;for(const t of n)r.has(t.time)||(e.push(t),r.add(t.time));return e},jr=(n,e)=>{const{valueTransform:r,timeTransform:t}=e,l=n.map(o=>({value:r(o),time:t(o)})),a=bt.sortBy(l,o=>o.time);return Yr(a)};function Kr(n){let e,r;const t=[{createSeries:n[4]},{data:n[3]},{loading:n[2].isLoading},n[5],{lightweightChartsTheme:n[1]}];let l={};for(let a=0;a<t.length;a+=1)l=J(l,t[a]);return e=new Ur({props:l}),{c(){k(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){D(e,a,o),r=!0},p(a,[o]){const i=o&62?me(t,[o&16&&{createSeries:a[4]},o&8&&{data:a[3]},o&4&&{loading:a[2].isLoading},o&32&&we(a[5]),o&2&&{lightweightChartsTheme:a[1]}]):{};e.$set(i)},i(a){r||(g(e.$$.fragment,a),r=!0)},o(a){p(e.$$.fragment,a),r=!1},d(a){E(e,a)}}}function Zr(n,e,r){let t,l,a=X,o=()=>(a(),a=fe(i,d=>r(2,l=d)),i);n.$$.on_destroy.push(()=>a());let{query:i}=e;o();let{timeTransform:s}=e,{valueTransform:f}=e,{lightweightChartsTheme:u}=e;const c=d=>d.addLineSeries({lineWidth:1});return n.$$set=d=>{r(5,e=J(J({},e),ne(d))),"query"in d&&o(r(0,i=d.query)),"timeTransform"in d&&r(6,s=d.timeTransform),"valueTransform"in d&&r(7,f=d.valueTransform),"lightweightChartsTheme"in d&&r(1,u=d.lightweightChartsTheme)},n.$$.update=()=>{n.$$.dirty&196&&r(3,t=jr(l.data??[],{valueTransform:f,timeTransform:s}))},e=ne(e),[i,u,l,t,c,e,s,f]}class Gr extends te{constructor(e){super(),re(this,e,Zr,Kr,ee,{query:0,timeTransform:6,valueTransform:7,lightweightChartsTheme:1})}}function Jr(n,e){const r=n.map(a=>({value:Math.abs(Number(a.inputVaultBalanceChange.formattedAmount)/Number(a.outputVaultBalanceChange.formattedAmount)),time:tr(BigInt(a.timestamp)),color:e=="dark"?"#5178FF":"#4E4AF6",outputAmount:Number(a.outputVaultBalanceChange.amount)})),t=Array.from(new Set(r.map(a=>a.time))),l=[];return t.forEach(a=>{const o=r.filter(i=>i.time===a);if(o.length>1){const i=o.reduce((u,c)=>u+c.value*c.outputAmount,0),s=o.reduce((u,c)=>u+c.outputAmount,0),f=i/s;l.push({value:f,time:a,color:o[0].color})}else l.push(o[0])}),bt.sortBy(l,a=>a.time)}function Xr(n){let e,r;return e=new Gr({props:{title:"Trades",query:n[2],timeTransform:xr,valueTransform:el,emptyMessage:"No trades found",lightweightChartsTheme:n[1]}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,[l]){const a={};l&4&&(a.query=t[2]),l&2&&(a.lightweightChartsTheme=t[1]),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}const xr=n=>n.time,el=n=>n.value;function tl(n,e,r){let t,l,a=X,o=()=>(a(),a=fe(s,u=>r(4,l=u)),s);n.$$.on_destroy.push(()=>a());let{order:i}=e,{colorTheme:s}=e;o();let{lightweightChartsTheme:f}=e;return n.$$set=u=>{"order"in u&&r(3,i=u.order),"colorTheme"in u&&o(r(0,s=u.colorTheme)),"lightweightChartsTheme"in u&&r(1,f=u.lightweightChartsTheme)},n.$$.update=()=>{n.$$.dirty&24&&r(2,t=Ee({queryKey:[vt,i.id],queryFn:async()=>{const u=await i.getTradesList(BigInt(1e3),void 0,1);if(u.error)throw new Error(u.error.readableMsg);return Jr(u.value,l)}}))},[s,f,t,i,l]}class rl extends te{constructor(e){super(),re(this,e,tl,Xr,ee,{order:3,colorTheme:0,lightweightChartsTheme:1})}}function ll(n){let e;return{c(){e=S("All Time")},l(r){e=B(r,"All Time")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function al(n){let e;return{c(){e=S("48 Hours")},l(r){e=B(r,"48 Hours")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function nl(n){let e;return{c(){e=S("24 Hours")},l(r){e=B(r,"24 Hours")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function sl(n){let e,r,t,l,a,o;return e=new oe({props:{active:n[3]===void 0,size:"xs",class:"px-2 py-1",$$slots:{default:[ll]},$$scope:{ctx:n}}}),e.$on("click",n[7]),t=new oe({props:{active:n[3]===n[5],size:"xs",class:"px-2 py-1",$$slots:{default:[al]},$$scope:{ctx:n}}}),t.$on("click",n[8]),a=new oe({props:{active:n[3]===n[4],size:"xs",class:"px-2 py-1",$$slots:{default:[nl]},$$scope:{ctx:n}}}),a.$on("click",n[9]),{c(){k(e.$$.fragment),r=y(),k(t.$$.fragment),l=y(),k(a.$$.fragment)},l(i){T(e.$$.fragment,i),r=A(i),T(t.$$.fragment,i),l=A(i),T(a.$$.fragment,i)},m(i,s){D(e,i,s),v(i,r,s),D(t,i,s),v(i,l,s),D(a,i,s),o=!0},p(i,s){const f={};s&8&&(f.active=i[3]===void 0),s&1024&&(f.$$scope={dirty:s,ctx:i}),e.$set(f);const u={};s&8&&(u.active=i[3]===i[5]),s&1024&&(u.$$scope={dirty:s,ctx:i}),t.$set(u);const c={};s&8&&(c.active=i[3]===i[4]),s&1024&&(c.$$scope={dirty:s,ctx:i}),a.$set(c)},i(i){o||(g(e.$$.fragment,i),g(t.$$.fragment,i),g(a.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(a.$$.fragment,i),o=!1},d(i){i&&(_(r),_(l)),E(e,i),E(t,i),E(a,i)}}}function ol(n){let e,r;return e=new dt({props:{class:"bg-gray-800","data-testid":"lightweightChartYearButtons",$$slots:{default:[sl]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,[l]){const a={};l&1039&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function il(n,e,r){let a=Math.floor(new Date().getTime()/1e3),o;function i(){r(2,a=Math.floor(new Date().getTime()/1e3))}let{startTimestamp:s}=e,{endTimestamp:f}=e;const u=()=>{i(),r(3,o=void 0),r(0,s=void 0),r(1,f=void 0)},c=()=>{i(),r(3,o=172800),r(0,s=a-172800),r(1,f=a)},d=()=>{i(),r(3,o=86400),r(0,s=a-86400),r(1,f=a)};return n.$$set=b=>{"startTimestamp"in b&&r(0,s=b.startTimestamp),"endTimestamp"in b&&r(1,f=b.endTimestamp)},[s,f,a,o,86400,172800,i,u,c,d]}class fl extends te{constructor(e){super(),re(this,e,il,ol,ee,{startTimestamp:0,endTimestamp:1})}}function Fe(n){let e,r,t;return{c(){e=R("div"),r=S(n[5]),t=S(" Trades"),this.h()},l(l){e=H(l,"DIV",{class:!0});var a=Q(e);r=B(a,n[5]),t=B(a," Trades"),a.forEach(_),this.h()},h(){L(e,"class","px-2")},m(l,a){v(l,e,a),I(e,r),I(e,t)},p(l,a){a&32&&U(r,l[5])},d(l){l&&_(e)}}}function ul(n){let e,r=n[5]!==void 0&&Fe(n);return{c(){r&&r.c(),e=Y()},l(t){r&&r.l(t),e=Y()},m(t,l){r&&r.m(t,l),v(t,e,l)},p(t,l){t[5]!==void 0?r?r.p(t,l):(r=Fe(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(t){t&&_(e),r&&r.d(t)}}}function cl(n){let e,r,t,l;function a(s){n[9](s)}function o(s){n[10](s)}let i={};return n[3]!==void 0&&(i.startTimestamp=n[3]),n[4]!==void 0&&(i.endTimestamp=n[4]),e=new fl({props:i}),$e.push(()=>Te(e,"startTimestamp",a)),$e.push(()=>Te(e,"endTimestamp",o)),{c(){k(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,f){D(e,s,f),l=!0},p(s,f){const u={};!r&&f&8&&(r=!0,u.startTimestamp=s[3],ke(()=>r=!1)),!t&&f&16&&(t=!0,u.endTimestamp=s[4],ke(()=>t=!1)),e.$set(u)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),l=!1},d(s){E(e,s)}}}function ml(n){let e;return{c(){e=S("Date")},l(r){e=B(r,"Date")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function $l(n){let e;return{c(){e=S("Sender")},l(r){e=B(r,"Sender")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function dl(n){let e;return{c(){e=S("Transaction Hash")},l(r){e=B(r,"Transaction Hash")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function _l(n){let e;return{c(){e=S("Input")},l(r){e=B(r,"Input")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function gl(n){let e;return{c(){e=S("Output")},l(r){e=B(r,"Output")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function hl(n){let e;return{c(){e=S("IO Ratio")},l(r){e=B(r,"IO Ratio")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function pl(n){let e,r,t,l,a,o,i,s,f,u,c,d,b,h;return e=new le({props:{padding:"p-4",$$slots:{default:[ml]},$$scope:{ctx:n}}}),t=new le({props:{padding:"p-0",$$slots:{default:[$l]},$$scope:{ctx:n}}}),a=new le({props:{padding:"p-0",$$slots:{default:[dl]},$$scope:{ctx:n}}}),i=new le({props:{padding:"p-0",$$slots:{default:[_l]},$$scope:{ctx:n}}}),f=new le({props:{padding:"p-0",$$slots:{default:[gl]},$$scope:{ctx:n}}}),c=new le({props:{padding:"p-0",$$slots:{default:[hl]},$$scope:{ctx:n}}}),b=new le({props:{padding:"p-0"}}),{c(){k(e.$$.fragment),r=y(),k(t.$$.fragment),l=y(),k(a.$$.fragment),o=y(),k(i.$$.fragment),s=y(),k(f.$$.fragment),u=y(),k(c.$$.fragment),d=y(),k(b.$$.fragment)},l($){T(e.$$.fragment,$),r=A($),T(t.$$.fragment,$),l=A($),T(a.$$.fragment,$),o=A($),T(i.$$.fragment,$),s=A($),T(f.$$.fragment,$),u=A($),T(c.$$.fragment,$),d=A($),T(b.$$.fragment,$)},m($,m){D(e,$,m),v($,r,m),D(t,$,m),v($,l,m),D(a,$,m),v($,o,m),D(i,$,m),v($,s,m),D(f,$,m),v($,u,m),D(c,$,m),v($,d,m),D(b,$,m),h=!0},p($,m){const w={};m&4096&&(w.$$scope={dirty:m,ctx:$}),e.$set(w);const O={};m&4096&&(O.$$scope={dirty:m,ctx:$}),t.$set(O);const C={};m&4096&&(C.$$scope={dirty:m,ctx:$}),a.$set(C);const M={};m&4096&&(M.$$scope={dirty:m,ctx:$}),i.$set(M);const N={};m&4096&&(N.$$scope={dirty:m,ctx:$}),f.$set(N);const W={};m&4096&&(W.$$scope={dirty:m,ctx:$}),c.$set(W)},i($){h||(g(e.$$.fragment,$),g(t.$$.fragment,$),g(a.$$.fragment,$),g(i.$$.fragment,$),g(f.$$.fragment,$),g(c.$$.fragment,$),g(b.$$.fragment,$),h=!0)},o($){p(e.$$.fragment,$),p(t.$$.fragment,$),p(a.$$.fragment,$),p(i.$$.fragment,$),p(f.$$.fragment,$),p(c.$$.fragment,$),p(b.$$.fragment,$),h=!1},d($){$&&(_(r),_(l),_(o),_(s),_(u),_(d)),E(e,$),E(t,$),E(a,$),E(i,$),E(f,$),E(c,$),E(b,$)}}}function bl(n){let e=be(BigInt(n[11].timestamp))+"",r;return{c(){r=S(e)},l(t){r=B(t,e)},m(t,l){v(t,r,l)},p(t,l){l&2048&&e!==(e=be(BigInt(t[11].timestamp))+"")&&U(r,e)},d(t){t&&_(r)}}}function vl(n){let e,r;return e=new _e({props:{type:ve.Wallet,value:n[11].transaction.from}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l&2048&&(a.value=t[11].transaction.from),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function wl(n){let e,r;return e=new _e({props:{type:ve.Transaction,value:n[11].transaction.id}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l&2048&&(a.value=t[11].transaction.id),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function kl(n){let e=n[11].inputVaultBalanceChange.formattedAmount+"",r,t,l=n[11].inputVaultBalanceChange.token.symbol+"",a;return{c(){r=S(e),t=y(),a=S(l)},l(o){r=B(o,e),t=A(o),a=B(o,l)},m(o,i){v(o,r,i),v(o,t,i),v(o,a,i)},p(o,i){i&2048&&e!==(e=o[11].inputVaultBalanceChange.formattedAmount+"")&&U(r,e),i&2048&&l!==(l=o[11].inputVaultBalanceChange.token.symbol+"")&&U(a,l)},d(o){o&&(_(r),_(t),_(a))}}}function Tl(n){let e=n[11].outputVaultBalanceChange.formattedAmount+"",r,t,l=n[11].outputVaultBalanceChange.token.symbol+"",a;return{c(){r=S(e),t=y(),a=S(l)},l(o){r=B(o,e),t=A(o),a=B(o,l)},m(o,i){v(o,r,i),v(o,t,i),v(o,a,i)},p(o,i){i&2048&&e!==(e=o[11].outputVaultBalanceChange.formattedAmount+"")&&U(r,e),i&2048&&l!==(l=o[11].outputVaultBalanceChange.token.symbol+"")&&U(a,l)},d(o){o&&(_(r),_(t),_(a))}}}function Dl(n){let e=Math.abs(Number(n[11].inputVaultBalanceChange.formattedAmount)/Number(n[11].outputVaultBalanceChange.formattedAmount))+"",r,t,l,a,o=Math.abs(Number(n[11].outputVaultBalanceChange.formattedAmount)/Number(n[11].inputVaultBalanceChange.formattedAmount))+"",i,s;return{c(){r=S(e),t=y(),l=R("span"),a=S("("),i=S(o),s=S(")"),this.h()},l(f){r=B(f,e),t=A(f),l=H(f,"SPAN",{class:!0});var u=Q(l);a=B(u,"("),i=B(u,o),s=B(u,")"),u.forEach(_),this.h()},h(){L(l,"class","text-gray-400")},m(f,u){v(f,r,u),v(f,t,u),v(f,l,u),I(l,a),I(l,i),I(l,s)},p(f,u){u&2048&&e!==(e=Math.abs(Number(f[11].inputVaultBalanceChange.formattedAmount)/Number(f[11].outputVaultBalanceChange.formattedAmount))+"")&&U(r,e),u&2048&&o!==(o=Math.abs(Number(f[11].outputVaultBalanceChange.formattedAmount)/Number(f[11].inputVaultBalanceChange.formattedAmount))+"")&&U(i,o)},d(f){f&&(_(r),_(t),_(l))}}}function Ue(n){let e,r;return e=new G({props:{tdClass:"py-2",$$slots:{default:[El]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l&6150&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function El(n){let e,r,t,l,a;r=new ye({props:{size:"xs"}});function o(){return n[8](n[11])}return{c(){e=R("button"),k(r.$$.fragment),this.h()},l(i){e=H(i,"BUTTON",{"data-testid":!0,class:!0});var s=Q(e);T(r.$$.fragment,s),s.forEach(_),this.h()},h(){L(e,"data-testid","debug-trade-button"),L(e,"class","text-gray-500 hover:text-gray-700")},m(i,s){v(i,e,s),D(r,e,null),t=!0,l||(a=Z(e,"click",o),l=!0)},p(i,s){n=i},i(i){t||(g(r.$$.fragment,i),t=!0)},o(i){p(r.$$.fragment,i),t=!1},d(i){i&&_(e),E(r),l=!1,a()}}}function Cl(n){let e,r,t,l,a,o,i,s,f,u,c,d,b,h;e=new G({props:{tdClass:"px-4 py-2",$$slots:{default:[bl]},$$scope:{ctx:n}}}),t=new G({props:{tdClass:"break-all py-2 min-w-32",$$slots:{default:[vl]},$$scope:{ctx:n}}}),a=new G({props:{tdClass:"break-all py-2 min-w-32",$$slots:{default:[wl]},$$scope:{ctx:n}}}),i=new G({props:{tdClass:"break-all py-2",$$slots:{default:[kl]},$$scope:{ctx:n}}}),f=new G({props:{tdClass:"break-all py-2",$$slots:{default:[Tl]},$$scope:{ctx:n}}}),c=new G({props:{tdClass:"break-all py-2","data-testid":"io-ratio",$$slots:{default:[Dl]},$$scope:{ctx:n}}});let $=n[1]&&n[2]&&Ue(n);return{c(){k(e.$$.fragment),r=y(),k(t.$$.fragment),l=y(),k(a.$$.fragment),o=y(),k(i.$$.fragment),s=y(),k(f.$$.fragment),u=y(),k(c.$$.fragment),d=y(),$&&$.c(),b=Y()},l(m){T(e.$$.fragment,m),r=A(m),T(t.$$.fragment,m),l=A(m),T(a.$$.fragment,m),o=A(m),T(i.$$.fragment,m),s=A(m),T(f.$$.fragment,m),u=A(m),T(c.$$.fragment,m),d=A(m),$&&$.l(m),b=Y()},m(m,w){D(e,m,w),v(m,r,w),D(t,m,w),v(m,l,w),D(a,m,w),v(m,o,w),D(i,m,w),v(m,s,w),D(f,m,w),v(m,u,w),D(c,m,w),v(m,d,w),$&&$.m(m,w),v(m,b,w),h=!0},p(m,w){const O={};w&6144&&(O.$$scope={dirty:w,ctx:m}),e.$set(O);const C={};w&6144&&(C.$$scope={dirty:w,ctx:m}),t.$set(C);const M={};w&6144&&(M.$$scope={dirty:w,ctx:m}),a.$set(M);const N={};w&6144&&(N.$$scope={dirty:w,ctx:m}),i.$set(N);const W={};w&6144&&(W.$$scope={dirty:w,ctx:m}),f.$set(W);const z={};w&6144&&(z.$$scope={dirty:w,ctx:m}),c.$set(z),m[1]&&m[2]?$?($.p(m,w),w&6&&g($,1)):($=Ue(m),$.c(),g($,1),$.m(b.parentNode,b)):$&&(j(),p($,1,1,()=>{$=null}),K())},i(m){h||(g(e.$$.fragment,m),g(t.$$.fragment,m),g(a.$$.fragment,m),g(i.$$.fragment,m),g(f.$$.fragment,m),g(c.$$.fragment,m),g($),h=!0)},o(m){p(e.$$.fragment,m),p(t.$$.fragment,m),p(a.$$.fragment,m),p(i.$$.fragment,m),p(f.$$.fragment,m),p(c.$$.fragment,m),p($),h=!1},d(m){m&&(_(r),_(l),_(o),_(s),_(u),_(d),_(b)),E(e,m),E(t,m),E(a,m),E(i,m),E(f,m),E(c,m),$&&$.d(m)}}}function Il(n){let e,r;return e=new n[7]({props:{query:n[6],emptyMessage:"No trades found",rowHoverable:!1,queryKey:n[0].id,$$slots:{bodyRow:[Cl,({item:t})=>({11:t}),({item:t})=>t?2048:0],head:[pl],timeFilter:[cl],info:[ul]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,[l]){const a={};l&64&&(a.query=t[6]),l&1&&(a.queryKey=t[0].id),l&6206&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function yl(n,e,r){let t,{order:l}=e,{rpcs:a=void 0}=e,{handleDebugTradeModal:o=void 0}=e,i,s,f;const u=ar,c=h=>{a&&o(h.transaction.id,a)};function d(h){i=h,r(3,i)}function b(h){s=h,r(4,s)}return n.$$set=h=>{"order"in h&&r(0,l=h.order),"rpcs"in h&&r(1,a=h.rpcs),"handleDebugTradeModal"in h&&r(2,o=h.handleDebugTradeModal)},n.$$.update=()=>{n.$$.dirty&25&&r(6,t=lr({queryKey:[l.id,vt+l.id],queryFn:async({pageParam:h})=>{r(5,f=void 0);const[$,m]=await Promise.all([l.getTradeCount(i?BigInt(i):void 0,s?BigInt(s):void 0),l.getTradesList(i?BigInt(i):void 0,s?BigInt(s):void 0,h+1)]);if($.error)throw new Error($.error.readableMsg);if(m.error)throw new Error(m.error.readableMsg);const w=$.value,O=m.value;return typeof w=="number"&&r(5,f=w),O},initialPageParam:0,getNextPageParam:(h,$,m)=>h.length===zt?m+1:void 0}))},[l,a,o,i,s,f,t,u,c,d,b]}class Al extends te{constructor(e){super(),re(this,e,yl,Il,ee,{order:0,rpcs:1,handleDebugTradeModal:2})}}function Ml(n){let e,r,t,l,a="Block:",o,i,s,f,u,c,d;return r=new hr({props:{class:"h-3 w-3 cursor-pointer"}}),{c(){e=R("div"),k(r.$$.fragment),t=y(),l=R("span"),l.textContent=a,o=y(),i=R("div"),s=R("span"),f=S(n[0]),this.h()},l(b){e=H(b,"DIV",{"data-testid":!0,class:!0});var h=Q(e);T(r.$$.fragment,h),t=A(h),l=H(h,"SPAN",{"data-svelte-h":!0}),de(l)!=="svelte-1hafvgr"&&(l.textContent=a),o=A(h),i=H(h,"DIV",{class:!0});var $=Q(i);s=H($,"SPAN",{"data-testid":!0,contenteditable:!0});var m=Q(s);f=B(m,n[0]),m.forEach(_),$.forEach(_),h.forEach(_),this.h()},h(){L(s,"data-testid","editableSpan"),L(s,"contenteditable","true"),n[1]===void 0&&Bt(()=>n[6].call(s)),L(i,"class","relative"),L(e,"data-testid","editableSpanWrapper"),L(e,"class","flex items-center gap-x-1 border-b-2 border-dotted text-sm text-gray-400 dark:text-gray-400")},m(b,h){v(b,e,h),D(r,e,null),I(e,t),I(e,l),I(e,o),I(e,i),I(i,s),I(s,f),n[5](s),n[1]!==void 0&&(s.textContent=n[1]),u=!0,c||(d=[Z(s,"input",n[6]),Z(s,"keydown",n[4]),Z(s,"blur",n[3])],c=!0)},p(b,[h]){(!u||h&1)&&Vt(f,b[0]),h&2&&b[1]!==s.textContent&&(s.textContent=b[1])},i(b){u||(g(r.$$.fragment,b),u=!0)},o(b){p(r.$$.fragment,b),u=!1},d(b){b&&_(e),E(r),n[5](null),c=!1,it(d)}}}function Sl(n,e,r){let{displayValue:t}=e,l,a,o=Ot();const i=()=>{r(0,t=l),o("blur",{value:l})},s=c=>{c.key==="Enter"&&a.blur()};function f(c){$e[c?"unshift":"push"](()=>{a=c,r(2,a)})}function u(){l=this.textContent,r(1,l)}return n.$$set=c=>{"displayValue"in c&&r(0,t=c.displayValue)},[t,l,a,i,s,f,u]}class Bl extends te{constructor(e){super(),re(this,e,Sl,Ml,ee,{displayValue:0})}}function Ye(n,e,r){const t=n.slice();return t[19]=e[r],t[21]=r,t}function je(n){let e,r;return e=new Bl({props:{displayValue:n[3]?.toString()||He(n[6].data[0].blockNumber).toString()}}),e.$on("focus",n[9]),e.$on("blur",n[10]),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l&72&&(a.displayValue=t[3]?.toString()||He(t[6].data[0].blockNumber).toString()),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function Vl(n){let e;return{c(){e=S("Pair")},l(r){e=B(r,"Pair")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function Ol(n){let e;return{c(){e=S("Maximum Output")},l(r){e=B(r,"Maximum Output")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function Ll(n){let e;return{c(){e=S("Price")},l(r){e=B(r,"Price")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function Nl(n){let e;return{c(){e=S("Maximum Input")},l(r){e=B(r,"Maximum Input")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function Rl(n){let e,r,t,l,a,o,i,s,f,u;return e=new le({props:{class:"w-[80px]","data-testid":"orderQuotesPair",$$slots:{default:[Vl]},$$scope:{ctx:n}}}),t=new le({props:{class:"w-1/4","data-testid":"orderQuotesMaxOutput",$$slots:{default:[Ol]},$$scope:{ctx:n}}}),a=new le({props:{class:"w-1/4","data-testid":"orderQuotesPrice",$$slots:{default:[Ll]},$$scope:{ctx:n}}}),i=new le({props:{"data-testid":"orderQuotesPrice",$$slots:{default:[Nl]},$$scope:{ctx:n}}}),f=new le({props:{class:"w-[50px]"}}),{c(){k(e.$$.fragment),r=y(),k(t.$$.fragment),l=y(),k(a.$$.fragment),o=y(),k(i.$$.fragment),s=y(),k(f.$$.fragment)},l(c){T(e.$$.fragment,c),r=A(c),T(t.$$.fragment,c),l=A(c),T(a.$$.fragment,c),o=A(c),T(i.$$.fragment,c),s=A(c),T(f.$$.fragment,c)},m(c,d){D(e,c,d),v(c,r,d),D(t,c,d),v(c,l,d),D(a,c,d),v(c,o,d),D(i,c,d),v(c,s,d),D(f,c,d),u=!0},p(c,d){const b={};d&4194304&&(b.$$scope={dirty:d,ctx:c}),e.$set(b);const h={};d&4194304&&(h.$$scope={dirty:d,ctx:c}),t.$set(h);const $={};d&4194304&&($.$$scope={dirty:d,ctx:c}),a.$set($);const m={};d&4194304&&(m.$$scope={dirty:d,ctx:c}),i.$set(m)},i(c){u||(g(e.$$.fragment,c),g(t.$$.fragment,c),g(a.$$.fragment,c),g(i.$$.fragment,c),g(f.$$.fragment,c),u=!0)},o(c){p(e.$$.fragment,c),p(t.$$.fragment,c),p(a.$$.fragment,c),p(i.$$.fragment,c),p(f.$$.fragment,c),u=!1},d(c){c&&(_(r),_(l),_(o),_(s)),E(e,c),E(t,c),E(a,c),E(i,c),E(f,c)}}}function Hl(n){let e,r;return e=new Ie({props:{$$slots:{default:[Pl]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l&4194368&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function ql(n){let e,r,t=ce(n[6].data),l=[];for(let o=0;o<t.length;o+=1)l[o]=Ge(Ye(n,t,o));const a=o=>p(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=Y()},l(o){for(let i=0;i<l.length;i+=1)l[i].l(o);e=Y()},m(o,i){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(o,i);v(o,e,i),r=!0},p(o,i){if(i&339){t=ce(o[6].data);let s;for(s=0;s<t.length;s+=1){const f=Ye(o,t,s);l[s]?(l[s].p(f,i),g(l[s],1)):(l[s]=Ge(f),l[s].c(),g(l[s],1),l[s].m(e.parentNode,e))}for(j(),s=t.length;s<l.length;s+=1)a(s);K()}},i(o){if(!r){for(let i=0;i<t.length;i+=1)g(l[i]);r=!0}},o(o){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)p(l[i]);r=!1},d(o){o&&_(e),De(l,o)}}}function Ql(n){let e="Error fetching quotes:",r,t,l,a,o=n[6].error+"",i;return{c(){r=S(e),t=y(),l=R("br"),a=y(),i=S(o)},l(s){r=B(s,e),t=A(s),l=H(s,"BR",{}),a=A(s),i=B(s,o)},m(s,f){v(s,r,f),v(s,t,f),v(s,l,f),v(s,a,f),v(s,i,f)},p(s,f){f&64&&o!==(o=s[6].error+"")&&U(i,o)},d(s){s&&(_(r),_(t),_(l),_(a),_(i))}}}function Pl(n){let e,r;return e=new G({props:{colspan:"3",class:"text-center text-red-500 dark:text-red-400",$$slots:{default:[Ql]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l&4194368&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function zl(n){let e,r;return e=new Ie({props:{$$slots:{default:[Kl]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l&4194371&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function Wl(n){let e,r;return e=new Ie({props:{"data-testid":"bodyRow",$$slots:{default:[ea]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l&4194386&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function Fl(n){let e=n[19].pair.pairName+"",r;return{c(){r=S(e)},l(t){r=B(t,e)},m(t,l){v(t,r,l)},p(t,l){l&64&&e!==(e=t[19].pair.pairName+"")&&U(r,e)},d(t){t&&_(r)}}}function Ul(n){let e=n[19].error+"",r;return{c(){r=S(e)},l(t){r=B(t,e)},m(t,l){v(t,r,l)},p(t,l){l&64&&e!==(e=t[19].error+"")&&U(r,e)},d(t){t&&_(r)}}}function Yl(n){let e,r,t,l,a,o,i,s=n[19].error+"",f,u,c,d;e=new gt({props:{triggeredBy:`#quote-error-${n[21]}`,customClass:"max-w-sm whitespace-pre-wrap break-words",$$slots:{default:[Ul]},$$scope:{ctx:n}}}),a=new Xt({props:{size:"sm"}});function b(){return n[14](n[19])}return{c(){k(e.$$.fragment),r=y(),t=R("div"),l=R("button"),k(a.$$.fragment),o=y(),i=R("div"),f=S(s),this.h()},l(h){T(e.$$.fragment,h),r=A(h),t=H(h,"DIV",{class:!0});var $=Q(t);l=H($,"BUTTON",{type:!0,class:!0,"aria-label":!0});var m=Q(l);T(a.$$.fragment,m),m.forEach(_),o=A($),i=H($,"DIV",{id:!0,class:!0});var w=Q(i);f=B(w,s),w.forEach(_),$.forEach(_),this.h()},h(){L(l,"type","button"),L(l,"class","mt-0.5 rounded border border-transparent p-1 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-gray-100"),L(l,"aria-label","Copy quote error"),L(i,"id",`quote-error-${n[21]}`),L(i,"class","max-w-xl cursor-pointer self-start truncate border-dotted border-red-500 pr-2"),L(t,"class","flex items-start gap-2")},m(h,$){D(e,h,$),v(h,r,$),v(h,t,$),I(t,l),D(a,l,null),I(t,o),I(t,i),I(i,f),u=!0,c||(d=Z(l,"click",b),c=!0)},p(h,$){n=h;const m={};$&4194368&&(m.$$scope={dirty:$,ctx:n}),e.$set(m),(!u||$&64)&&s!==(s=n[19].error+"")&&U(f,s)},i(h){u||(g(e.$$.fragment,h),g(a.$$.fragment,h),u=!0)},o(h){p(e.$$.fragment,h),p(a.$$.fragment,h),u=!1},d(h){h&&(_(r),_(t)),E(e,h),E(a),c=!1,d()}}}function Ke(n){let e,r,t,l,a;r=new ye({props:{size:"sm",color:"grey"}});function o(){return n[15](n[19])}return{c(){e=R("button"),k(r.$$.fragment)},l(i){e=H(i,"BUTTON",{});var s=Q(e);T(r.$$.fragment,s),s.forEach(_)},m(i,s){v(i,e,s),D(r,e,null),t=!0,l||(a=Z(e,"click",o),l=!0)},p(i,s){n=i},i(i){t||(g(r.$$.fragment,i),t=!0)},o(i){p(r.$$.fragment,i),t=!1},d(i){i&&_(e),E(r),l=!1,a()}}}function jl(n){let e,r,t=n[1]&&Ke(n);return{c(){t&&t.c(),e=Y()},l(l){t&&t.l(l),e=Y()},m(l,a){t&&t.m(l,a),v(l,e,a),r=!0},p(l,a){l[1]?t?(t.p(l,a),a&2&&g(t,1)):(t=Ke(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(j(),p(t,1,1,()=>{t=null}),K())},i(l){r||(g(t),r=!0)},o(l){p(t),r=!1},d(l){l&&_(e),t&&t.d(l)}}}function Kl(n){let e,r,t,l,a,o,i;return e=new G({props:{$$slots:{default:[Fl]},$$scope:{ctx:n}}}),t=new G({props:{colspan:"3",class:"text-sm text-red-500 dark:text-red-400",$$slots:{default:[Yl]},$$scope:{ctx:n}}}),a=new G({props:{$$slots:{default:[jl]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment),r=y(),k(t.$$.fragment),l=y(),k(a.$$.fragment),o=y()},l(s){T(e.$$.fragment,s),r=A(s),T(t.$$.fragment,s),l=A(s),T(a.$$.fragment,s),o=A(s)},m(s,f){D(e,s,f),v(s,r,f),D(t,s,f),v(s,l,f),D(a,s,f),v(s,o,f),i=!0},p(s,f){const u={};f&4194368&&(u.$$scope={dirty:f,ctx:s}),e.$set(u);const c={};f&4194368&&(c.$$scope={dirty:f,ctx:s}),t.$set(c);const d={};f&4194371&&(d.$$scope={dirty:f,ctx:s}),a.$set(d)},i(s){i||(g(e.$$.fragment,s),g(t.$$.fragment,s),g(a.$$.fragment,s),i=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),p(a.$$.fragment,s),i=!1},d(s){s&&(_(r),_(l),_(o)),E(e,s),E(t,s),E(a,s)}}}function Zl(n){let e=n[19].pair.pairName+"",r;return{c(){r=S(e)},l(t){r=B(t,e)},m(t,l){v(t,r,l)},p(t,l){l&64&&e!==(e=t[19].pair.pairName+"")&&U(r,e)},d(t){t&&_(r)}}}function Gl(n){let e=n[19].data.formattedMaxOutput+"",r;return{c(){r=S(e)},l(t){r=B(t,e)},m(t,l){v(t,r,l)},p(t,l){l&64&&e!==(e=t[19].data.formattedMaxOutput+"")&&U(r,e)},d(t){t&&_(r)}}}function Jl(n){let e=n[19].data.formattedRatio+"",r,t,l,a,o=n[19].data.formattedInverseRatio+"",i,s;return{c(){r=S(e),t=y(),l=R("span"),a=S("("),i=S(o),s=S(")"),this.h()},l(f){r=B(f,e),t=A(f),l=H(f,"SPAN",{class:!0});var u=Q(l);a=B(u,"("),i=B(u,o),s=B(u,")"),u.forEach(_),this.h()},h(){L(l,"class","text-gray-400")},m(f,u){v(f,r,u),v(f,t,u),v(f,l,u),I(l,a),I(l,i),I(l,s)},p(f,u){u&64&&e!==(e=f[19].data.formattedRatio+"")&&U(r,e),u&64&&o!==(o=f[19].data.formattedInverseRatio+"")&&U(i,o)},d(f){f&&(_(r),_(t),_(l))}}}function Xl(n){let e=n[19].data.formattedMaxInput+"",r;return{c(){r=S(e)},l(t){r=B(t,e)},m(t,l){v(t,r,l)},p(t,l){l&64&&e!==(e=t[19].data.formattedMaxInput+"")&&U(r,e)},d(t){t&&_(r)}}}function Ze(n){let e,r,t,l,a;r=new ye({props:{size:"sm",color:"grey"}});function o(){return n[13](n[19])}return{c(){e=R("button"),k(r.$$.fragment)},l(i){e=H(i,"BUTTON",{});var s=Q(e);T(r.$$.fragment,s),s.forEach(_)},m(i,s){v(i,e,s),D(r,e,null),t=!0,l||(a=Z(e,"click",o),l=!0)},p(i,s){n=i},i(i){t||(g(r.$$.fragment,i),t=!0)},o(i){p(r.$$.fragment,i),t=!1},d(i){i&&_(e),E(r),l=!1,a()}}}function xl(n){let e,r,t=n[1]&&Ze(n);return{c(){t&&t.c(),e=Y()},l(l){t&&t.l(l),e=Y()},m(l,a){t&&t.m(l,a),v(l,e,a),r=!0},p(l,a){l[1]?t?(t.p(l,a),a&2&&g(t,1)):(t=Ze(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(j(),p(t,1,1,()=>{t=null}),K())},i(l){r||(g(t),r=!0)},o(l){p(t),r=!1},d(l){l&&_(e),t&&t.d(l)}}}function ea(n){let e,r,t,l,a,o,i,s,f,u,c;return e=new G({props:{$$slots:{default:[Zl]},$$scope:{ctx:n}}}),t=new G({props:{$$slots:{default:[Gl]},$$scope:{ctx:n}}}),a=new G({props:{$$slots:{default:[Jl]},$$scope:{ctx:n}}}),i=new G({props:{$$slots:{default:[Xl]},$$scope:{ctx:n}}}),f=new G({props:{$$slots:{default:[xl]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment),r=y(),k(t.$$.fragment),l=y(),k(a.$$.fragment),o=y(),k(i.$$.fragment),s=y(),k(f.$$.fragment),u=y()},l(d){T(e.$$.fragment,d),r=A(d),T(t.$$.fragment,d),l=A(d),T(a.$$.fragment,d),o=A(d),T(i.$$.fragment,d),s=A(d),T(f.$$.fragment,d),u=A(d)},m(d,b){D(e,d,b),v(d,r,b),D(t,d,b),v(d,l,b),D(a,d,b),v(d,o,b),D(i,d,b),v(d,s,b),D(f,d,b),v(d,u,b),c=!0},p(d,b){const h={};b&4194368&&(h.$$scope={dirty:b,ctx:d}),e.$set(h);const $={};b&4194368&&($.$$scope={dirty:b,ctx:d}),t.$set($);const m={};b&4194368&&(m.$$scope={dirty:b,ctx:d}),a.$set(m);const w={};b&4194368&&(w.$$scope={dirty:b,ctx:d}),i.$set(w);const O={};b&4194386&&(O.$$scope={dirty:b,ctx:d}),f.$set(O)},i(d){c||(g(e.$$.fragment,d),g(t.$$.fragment,d),g(a.$$.fragment,d),g(i.$$.fragment,d),g(f.$$.fragment,d),c=!0)},o(d){p(e.$$.fragment,d),p(t.$$.fragment,d),p(a.$$.fragment,d),p(i.$$.fragment,d),p(f.$$.fragment,d),c=!1},d(d){d&&(_(r),_(l),_(o),_(s),_(u)),E(e,d),E(t,d),E(a,d),E(i,d),E(f,d)}}}function Ge(n){let e,r,t,l;const a=[Wl,zl],o=[];function i(s,f){return s[19].success&&s[19].data?0:!s[19].success&&s[19].error?1:-1}return~(e=i(n))&&(r=o[e]=a[e](n)),{c(){r&&r.c(),t=Y()},l(s){r&&r.l(s),t=Y()},m(s,f){~e&&o[e].m(s,f),v(s,t,f),l=!0},p(s,f){let u=e;e=i(s),e===u?~e&&o[e].p(s,f):(r&&(j(),p(o[u],1,1,()=>{o[u]=null}),K()),~e?(r=o[e],r?r.p(s,f):(r=o[e]=a[e](s),r.c()),g(r,1),r.m(t.parentNode,t)):r=null)},i(s){l||(g(r),l=!0)},o(s){p(r),l=!1},d(s){s&&_(t),~e&&o[e].d(s)}}}function ta(n){let e,r,t,l;const a=[ql,Hl],o=[];function i(s,f){return s[6].data&&s[6].data.length>0?0:s[6].isError?1:-1}return~(e=i(n))&&(r=o[e]=a[e](n)),{c(){r&&r.c(),t=Y()},l(s){r&&r.l(s),t=Y()},m(s,f){~e&&o[e].m(s,f),v(s,t,f),l=!0},p(s,f){let u=e;e=i(s),e===u?~e&&o[e].p(s,f):(r&&(j(),p(o[u],1,1,()=>{o[u]=null}),K()),~e?(r=o[e],r?r.p(s,f):(r=o[e]=a[e](s),r.c()),g(r,1),r.m(t.parentNode,t)):r=null)},i(s){l||(g(r),l=!0)},o(s){p(r),l=!1},d(s){s&&_(t),~e&&o[e].d(s)}}}function ra(n){let e,r,t,l;return e=new Ft({props:{"data-testid":"head",$$slots:{default:[Rl]},$$scope:{ctx:n}}}),t=new Ut({props:{$$slots:{default:[ta]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment),r=y(),k(t.$$.fragment)},l(a){T(e.$$.fragment,a),r=A(a),T(t.$$.fragment,a)},m(a,o){D(e,a,o),v(a,r,o),D(t,a,o),l=!0},p(a,o){const i={};o&4194304&&(i.$$scope={dirty:o,ctx:a}),e.$set(i);const s={};o&4194387&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){l||(g(e.$$.fragment,a),g(t.$$.fragment,a),l=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),l=!1},d(a){a&&_(r),E(e,a),E(t,a)}}}function la(n){let e,r,t,l="Order quotes",a,o,i=n[6].data&&n[6].data.length>0&&Re(n[6].data[0].blockNumber),s,f,u,c,d,b,h,$,m,w,O,C=i&&je(n);return c=new _t({props:{"data-testid":"refresh-button",class:"h-8 w-5 cursor-pointer text-gray-400 dark:text-gray-400",spin:n[6].isLoading||n[6].isFetching}}),c.$on("click",n[7]),b=new or({props:{class:`ml-2 h-8 w-3 cursor-pointer text-gray-400 dark:text-gray-400 ${n[2]?"":"hidden"}`}}),b.$on("click",n[11]),$=new ir({props:{class:`ml-2 h-8 w-3 cursor-pointer text-gray-400 dark:text-gray-400 ${n[2]?"hidden":""}`}}),$.$on("click",n[12]),w=new Wt({props:{divClass:"rounded-lg lg:overflow-hidden overflow-auto dark:border-none border",$$slots:{default:[ra]},$$scope:{ctx:n}}}),{c(){e=R("div"),r=R("div"),t=R("h2"),t.textContent=l,a=y(),o=R("div"),C&&C.c(),s=y(),f=R("span"),u=y(),k(c.$$.fragment),d=y(),k(b.$$.fragment),h=y(),k($.$$.fragment),m=y(),k(w.$$.fragment),this.h()},l(M){e=H(M,"DIV",{class:!0});var N=Q(e);r=H(N,"DIV",{class:!0});var W=Q(r);t=H(W,"H2",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-i1edlq"&&(t.textContent=l),a=A(W),o=H(W,"DIV",{class:!0});var z=Q(o);C&&C.l(z),s=A(z),f=H(z,"SPAN",{}),Q(f).forEach(_),u=A(z),T(c.$$.fragment,z),d=A(z),T(b.$$.fragment,z),h=A(z),T($.$$.fragment,z),z.forEach(_),W.forEach(_),m=A(N),T(w.$$.fragment,N),N.forEach(_),this.h()},h(){L(t,"class","text-lg font-semibold"),L(o,"class","flex items-center gap-x-1"),L(r,"class","mb-4 flex items-center justify-between"),L(e,"class","mt-4")},m(M,N){v(M,e,N),I(e,r),I(r,t),I(r,a),I(r,o),C&&C.m(o,null),I(o,s),I(o,f),I(o,u),D(c,o,null),I(o,d),D(b,o,null),I(o,h),D($,o,null),I(e,m),D(w,e,null),O=!0},p(M,[N]){N&64&&(i=M[6].data&&M[6].data.length>0&&Re(M[6].data[0].blockNumber)),i?C?(C.p(M,N),N&64&&g(C,1)):(C=je(M),C.c(),g(C,1),C.m(o,s)):C&&(j(),p(C,1,1,()=>{C=null}),K());const W={};N&64&&(W.spin=M[6].isLoading||M[6].isFetching),c.$set(W);const z={};N&4&&(z.class=`ml-2 h-8 w-3 cursor-pointer text-gray-400 dark:text-gray-400 ${M[2]?"":"hidden"}`),b.$set(z);const V={};N&4&&(V.class=`ml-2 h-8 w-3 cursor-pointer text-gray-400 dark:text-gray-400 ${M[2]?"hidden":""}`),$.$set(V);const F={};N&4194387&&(F.$$scope={dirty:N,ctx:M}),w.$set(F)},i(M){O||(g(C),g(c.$$.fragment,M),g(b.$$.fragment,M),g($.$$.fragment,M),g(w.$$.fragment,M),O=!0)},o(M){p(C),p(c.$$.fragment,M),p(b.$$.fragment,M),p($.$$.fragment,M),p(w.$$.fragment,M),O=!1},d(M){M&&_(e),C&&C.d(),E(c),E(b),E($),E(w)}}}function aa(n,e,r){let t,l,a,o=X,i=()=>(o(),o=fe(t,V=>r(6,a=V)),t);n.$$.on_destroy.push(()=>o());let{order:s}=e,{handleQuoteDebugModal:f=void 0}=e,u=!0;const c=Ce(),{errToast:d,addToast:b}=wt(),h=async()=>{try{await ie(c,[s.id,qe+s.id])}catch{d("Failed to refresh")}},$=async V=>{if(!V){d("No quote error to copy");return}try{if(typeof navigator>"u"||!navigator.clipboard?.writeText)throw new Error("Clipboard API unavailable");await navigator.clipboard.writeText(V),b({message:"Copied quote error",type:"success",color:"green"})}catch(F){d("Failed to copy quote error",F instanceof Error?F.message:void 0)}};let m;const w=()=>{r(2,u=!1)},O=({detail:{value:V}})=>{r(3,m=BigInt(V)),h()},C=()=>{r(2,u=!1)},M=()=>{r(2,u=!0),r(3,m=void 0),h()},N=V=>f(l,V.pair.inputIndex,V.pair.outputIndex,V.pair.pairName,BigInt(a.data[0].blockNumber)),W=V=>$(V.error),z=V=>f(s,V.pair.inputIndex,V.pair.outputIndex,V.pair.pairName,BigInt(a.data[0].blockNumber));return n.$$set=V=>{"order"in V&&r(0,s=V.order),"handleQuoteDebugModal"in V&&r(1,f=V.handleQuoteDebugModal)},n.$$.update=()=>{n.$$.dirty&13&&i(r(5,t=Ee({queryKey:[s.id,qe+s.id],queryFn:async()=>{const V=await s.getQuotes(m);if(V.error)throw new Error(V.error.msg);return V.value},enabled:!!s.id&&u}))),n.$$.dirty&1&&r(4,l=s)},[s,f,u,m,l,t,a,h,$,w,O,C,M,N,W,z]}class na extends te{constructor(e){super(),re(this,e,aa,la,ee,{order:0,handleQuoteDebugModal:1})}}function Je(n,e,r){const t=n.slice();t[31]=e[r].key,t[32]=e[r].type,t[33]=e[r].getter;const l=t[30].vaultsList.items.filter(function(...i){return n[24](t[32],...i)});t[34]=l;const a=t[30][t[33]];return t[35]=a,t}function Xe(n,e,r){const t=n.slice();return t[38]=e[r],t}function xe(n){const e=$r(n[30].owner,n[6],"address");n[41]=e}function et(n){let e,r,t=n[30].active&&tt(n);return{c(){t&&t.c(),e=Y()},l(l){t&&t.l(l),e=Y()},m(l,a){t&&t.m(l,a),v(l,e,a),r=!0},p(l,a){l[30].active?t?(t.p(l,a),a[0]&1073741824&&g(t,1)):(t=tt(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(j(),p(t,1,1,()=>{t=null}),K())},i(l){r||(g(t),r=!0)},o(l){p(t),r=!1},d(l){l&&_(e),t&&t.d(l)}}}function tt(n){let e,r;function t(){return n[26](n[30])}return e=new ue({props:{"data-testid":"remove-button","aria-label":"Remove order",$$slots:{default:[sa]},$$scope:{ctx:n}}}),e.$on("click",t),{c(){k(e.$$.fragment)},l(l){T(e.$$.fragment,l)},m(l,a){D(e,l,a),r=!0},p(l,a){n=l;const o={};a[1]&2048&&(o.$$scope={dirty:a,ctx:n}),e.$set(o)},i(l){r||(g(e.$$.fragment,l),r=!0)},o(l){p(e.$$.fragment,l),r=!1},d(l){E(e,l)}}}function sa(n){let e;return{c(){e=S("Remove")},l(r){e=B(r,"Remove")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function oa(n){let e,r,t,l,a="Order",o,i,s,f,u,c,d=n[16](n[30].owner),b,h,$;i=new _e({props:{shorten:!0,value:n[30].orderHash}}),f=new Dr({props:{active:n[30].active,large:!0}});let m=d&&et(n);return h=new _t({props:{testId:"top-refresh",spin:n[14].isLoading||n[14].isFetching}}),h.$on("click",n[18]),{c(){e=R("div"),r=R("div"),t=R("div"),l=R("span"),l.textContent=a,o=y(),k(i.$$.fragment),s=y(),k(f.$$.fragment),u=y(),c=R("div"),m&&m.c(),b=y(),k(h.$$.fragment),this.h()},l(w){e=H(w,"DIV",{class:!0});var O=Q(e);r=H(O,"DIV",{class:!0});var C=Q(r);t=H(C,"DIV",{class:!0});var M=Q(t);l=H(M,"SPAN",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-18smzpp"&&(l.textContent=a),o=A(M),T(i.$$.fragment,M),M.forEach(_),s=A(C),T(f.$$.fragment,C),C.forEach(_),u=A(O),c=H(O,"DIV",{class:!0});var N=Q(c);m&&m.l(N),b=A(N),T(h.$$.fragment,N),N.forEach(_),O.forEach(_),this.h()},h(){L(l,"class","font-light"),L(t,"class","flex gap-x-2"),L(r,"class","flex items-center gap-x-2"),L(c,"class","flex items-center gap-2"),L(e,"class","flex w-full flex-wrap items-center justify-between gap-4 text-3xl font-medium lg:justify-between dark:text-white")},m(w,O){v(w,e,O),I(e,r),I(r,t),I(t,l),I(t,o),D(i,t,null),I(r,s),D(f,r,null),I(e,u),I(e,c),m&&m.m(c,null),I(c,b),D(h,c,null),$=!0},p(w,O){const C={};O[0]&1073741824&&(C.value=w[30].orderHash),i.$set(C);const M={};O[0]&1073741824&&(M.active=w[30].active),f.$set(M),O[0]&1073741824&&(d=w[16](w[30].owner)),d?m?(m.p(w,O),O[0]&1073741824&&g(m,1)):(m=et(w),m.c(),g(m,1),m.m(c,b)):m&&(j(),p(m,1,1,()=>{m=null}),K());const N={};O[0]&16384&&(N.spin=w[14].isLoading||w[14].isFetching),h.$set(N)},i(w){$||(g(i.$$.fragment,w),g(f.$$.fragment,w),g(m),g(h.$$.fragment,w),$=!0)},o(w){p(i.$$.fragment,w),p(f.$$.fragment,w),p(m),p(h.$$.fragment,w),$=!1},d(w){w&&_(e),E(i),E(f),m&&m.d(),E(h)}}}function ia(n){let e;return{c(){e=S("Orderbook")},l(r){e=B(r,"Orderbook")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function fa(n){let e,r;return e=new _e({props:{type:ve.Identifier,shorten:!1,value:n[30].orderbook}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l[0]&1073741824&&(a.value=t[30].orderbook),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function ua(n){let e;return{c(){e=S("Owner")},l(r){e=B(r,"Owner")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function ca(n){let e,r;return e=new _e({props:{type:ve.Wallet,shorten:!1,value:n[30].owner}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l[0]&1073741824&&(a.value=t[30].owner),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function ma(n){let e,r,t,l,a=n[30].owner+"",o,i,s;return r=new xt({props:{size:"sm"}}),{c(){e=R("a"),k(r.$$.fragment),t=y(),l=R("span"),o=S(a),this.h()},l(f){e=H(f,"A",{href:!0,target:!0,rel:!0,class:!0});var u=Q(e);T(r.$$.fragment,u),t=A(u),l=H(u,"SPAN",{});var c=Q(l);o=B(c,a),c.forEach(_),u.forEach(_),this.h()},h(){L(e,"href",i=n[41]),L(e,"target","_blank"),L(e,"rel","noopener noreferrer"),L(e,"class","flex items-center justify-start space-x-2 text-left text-blue-500 hover:underline")},m(f,u){v(f,e,u),D(r,e,null),I(e,t),I(e,l),I(l,o),s=!0},p(f,u){(!s||u[0]&1073741824)&&a!==(a=f[30].owner+"")&&U(o,a),(!s||u[0]&1073741888&&i!==(i=f[41]))&&L(e,"href",i)},i(f){s||(g(r.$$.fragment,f),s=!0)},o(f){p(r.$$.fragment,f),s=!1},d(f){f&&_(e),E(r)}}}function $a(n){xe(n);let e,r,t,l;const a=[ma,ca],o=[];function i(s,f){return s[41]?0:1}return e=i(n),r=o[e]=a[e](n),{c(){r.c(),t=Y()},l(s){r.l(s),t=Y()},m(s,f){o[e].m(s,f),v(s,t,f),l=!0},p(s,f){xe(s);let u=e;e=i(s),e===u?o[e].p(s,f):(j(),p(o[u],1,1,()=>{o[u]=null}),K(),r=o[e],r?r.p(s,f):(r=o[e]=a[e](s),r.c()),g(r,1),r.m(t.parentNode,t))},i(s){l||(g(r),l=!0)},o(s){p(r),l=!1},d(s){s&&_(t),o[e].d(s)}}}function da(n){let e;return{c(){e=S("Created")},l(r){e=B(r,"Created")},m(r,t){v(r,e,t)},d(r){r&&_(e)}}}function _a(n){let e=be(n[30].timestampAdded)+"",r;return{c(){r=S(e)},l(t){r=B(t,e)},m(t,l){v(t,r,l)},p(t,l){l[0]&1073741824&&e!==(e=be(t[30].timestampAdded)+"")&&U(r,e)},d(t){t&&_(r)}}}function rt(n){let e,r;return e=new pe({props:{$$slots:{value:[Ta],key:[ba]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l[0]&1073745504|l[1]&2048&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function ga(n){let e,r,t;return e=new cr({props:{class:"h-4 w-4"}}),r=new er({props:{$$slots:{default:[ha]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment),k(r.$$.fragment)},l(l){T(e.$$.fragment,l),T(r.$$.fragment,l)},m(l,a){D(e,l,a),D(r,l,a),t=!0},i(l){t||(g(e.$$.fragment,l),g(r.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),p(r.$$.fragment,l),t=!1},d(l){E(e,l),E(r,l)}}}function ha(n){let e="These vaults can be an input or an output for this order",r;return{c(){r=S(e)},l(t){r=B(t,e)},m(t,l){v(t,r,l)},p:X,d(t){t&&_(r)}}}function lt(n){let e,r;function t(){return n[23](n[35])}return e=new ue({props:{color:"light",size:"xs",disabled:!n[35]||n[35].getWithdrawableVaults()?.value?.length===0,"data-testid":"withdraw-all-button",$$slots:{default:[pa]},$$scope:{ctx:n}}}),e.$on("click",t),{c(){k(e.$$.fragment)},l(l){T(e.$$.fragment,l)},m(l,a){D(e,l,a),r=!0},p(l,a){n=l;const o={};a[0]&1073741824&&(o.disabled=!n[35]||n[35].getWithdrawableVaults()?.value?.length===0),a[1]&2048&&(o.$$scope={dirty:a,ctx:n}),e.$set(o)},i(l){r||(g(e.$$.fragment,l),r=!0)},o(l){p(e.$$.fragment,l),r=!1},d(l){E(e,l)}}}function pa(n){let e,r,t;return e=new Ae({props:{size:"xs",class:"mr-2"}}),{c(){k(e.$$.fragment),r=S(`
										Withdraw all`)},l(l){T(e.$$.fragment,l),r=B(l,`
										Withdraw all`)},m(l,a){D(e,l,a),v(l,r,a),t=!0},p:X,i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){l&&_(r),E(e,l)}}}function ba(n){let e,r,t=n[31]+"",l,a,o,i,s=n[32]==="inputOutput"&&ga(n),f=n[11]&&lt(n);return{c(){e=R("div"),r=R("div"),l=S(t),a=y(),s&&s.c(),o=y(),f&&f.c(),this.h()},l(u){e=H(u,"DIV",{class:!0});var c=Q(e);r=H(c,"DIV",{class:!0});var d=Q(r);l=B(d,t),a=A(d),s&&s.l(d),d.forEach(_),o=A(c),f&&f.l(c),c.forEach(_),this.h()},h(){L(r,"class","flex items-center gap-x-2"),L(e,"class","flex items-center justify-between")},m(u,c){v(u,e,c),I(e,r),I(r,l),I(r,a),s&&s.m(r,null),I(e,o),f&&f.m(e,null),i=!0},p(u,c){u[11]?f?(f.p(u,c),c[0]&2048&&g(f,1)):(f=lt(u),f.c(),g(f,1),f.m(e,null)):f&&(j(),p(f,1,1,()=>{f=null}),K())},i(u){i||(g(s),g(f),i=!0)},o(u){p(s),p(f),i=!1},d(u){u&&_(e),s&&s.d(),f&&f.d()}}}function at(n){let e,r,t,l,a;function o(){return n[21](n[38])}r=new ue({props:{color:"light",size:"xs","data-testid":"deposit-button",$$slots:{default:[va]},$$scope:{ctx:n}}}),r.$on("click",o);function i(){return n[22](n[38])}return l=new ue({props:{color:"light",size:"xs","data-testid":"withdraw-button",$$slots:{default:[wa]},$$scope:{ctx:n}}}),l.$on("click",i),{c(){e=R("div"),k(r.$$.fragment),t=y(),k(l.$$.fragment),this.h()},l(s){e=H(s,"DIV",{class:!0});var f=Q(e);T(r.$$.fragment,f),t=A(f),T(l.$$.fragment,f),f.forEach(_),this.h()},h(){L(e,"class","flex gap-1")},m(s,f){v(s,e,f),D(r,e,null),I(e,t),D(l,e,null),a=!0},p(s,f){n=s;const u={};f[1]&2048&&(u.$$scope={dirty:f,ctx:n}),r.$set(u);const c={};f[1]&2048&&(c.$$scope={dirty:f,ctx:n}),l.$set(c)},i(s){a||(g(r.$$.fragment,s),g(l.$$.fragment,s),a=!0)},o(s){p(r.$$.fragment,s),p(l.$$.fragment,s),a=!1},d(s){s&&_(e),E(r),E(l)}}}function va(n){let e,r;return e=new dr({props:{size:"xs"}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p:X,i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function wa(n){let e,r;return e=new Ae({props:{size:"xs"}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p:X,i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function ka(n){let e=n[16](n[38].owner),r,t,l=e&&at(n);return{c(){l&&l.c(),r=Y()},l(a){l&&l.l(a),r=Y()},m(a,o){l&&l.m(a,o),v(a,r,o),t=!0},p(a,o){o[0]&1073741824&&(e=a[16](a[38].owner)),e?l?(l.p(a,o),o[0]&1073741824&&g(l,1)):(l=at(a),l.c(),g(l,1),l.m(r.parentNode,r)):l&&(j(),p(l,1,1,()=>{l=null}),K())},i(a){t||(g(l),t=!0)},o(a){p(l),t=!1},d(a){a&&_(r),l&&l.d(a)}}}function nt(n){let e,r;return e=new Ar({props:{tokenVault:n[38],chainId:n[6],orderbookAddress:n[5],$$slots:{buttons:[ka]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l[0]&1073741824&&(a.tokenVault=t[38]),l[0]&64&&(a.chainId=t[6]),l[0]&32&&(a.orderbookAddress=t[5]),l[0]&1073743360|l[1]&2048&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function Ta(n){let e,r,t=ce(n[34]),l=[];for(let o=0;o<t.length;o+=1)l[o]=nt(Xe(n,t,o));const a=o=>p(l[o],1,1,()=>{l[o]=null});return{c(){e=R("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=H(o,"DIV",{class:!0});var i=Q(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(_),this.h()},h(){L(e,"class","mt-2 space-y-2")},m(o,i){v(o,e,i);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null);r=!0},p(o,i){if(i[0]&1074464352){t=ce(o[34]);let s;for(s=0;s<t.length;s+=1){const f=Xe(o,t,s);l[s]?(l[s].p(f,i),g(l[s],1)):(l[s]=nt(f),l[s].c(),g(l[s],1),l[s].m(e,null))}for(j(),s=t.length;s<l.length;s+=1)a(s);K()}},i(o){if(!r){for(let i=0;i<t.length;i+=1)g(l[i]);r=!0}},o(o){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)p(l[i]);r=!1},d(o){o&&_(e),De(l,o)}}}function st(n){let e,r,t=n[34].length!==0&&rt(n);return{c(){t&&t.c(),e=Y()},l(l){t&&t.l(l),e=Y()},m(l,a){t&&t.m(l,a),v(l,e,a),r=!0},p(l,a){l[34].length!==0?t?(t.p(l,a),a[0]&1073741824&&g(t,1)):(t=rt(l),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(j(),p(t,1,1,()=>{t=null}),K())},i(l){r||(g(t),r=!0)},o(l){p(t),r=!1},d(l){l&&_(e),t&&t.d(l)}}}function ot(n){let e,r;return e=new ue({props:{size:"xs",disabled:!n[14].data?.vaultsList||n[14].data?.vaultsList?.getWithdrawableVaults()?.value?.length===0,"data-testid":"withdraw-all-button",$$slots:{default:[Da]},$$scope:{ctx:n}}}),e.$on("click",n[25]),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l[0]&16384&&(a.disabled=!t[14].data?.vaultsList||t[14].data?.vaultsList?.getWithdrawableVaults()?.value?.length===0),l[1]&2048&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function Da(n){let e,r,t;return e=new Ae({props:{size:"xs",class:"mr-2"}}),{c(){k(e.$$.fragment),r=S(`
					Withdraw all vaults`)},l(l){T(e.$$.fragment,l),r=B(l,`
					Withdraw all vaults`)},m(l,a){D(e,l,a),v(l,r,a),t=!0},p:X,i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){l&&_(r),E(e,l)}}}function Ea(n){let e,r,t,l,a,o,i,s,f;r=new pe({props:{$$slots:{value:[fa],key:[ia]},$$scope:{ctx:n}}}),l=new pe({props:{$$slots:{value:[$a],key:[ua]},$$scope:{ctx:n}}}),o=new pe({props:{$$slots:{value:[_a],key:[da]},$$scope:{ctx:n}}});let u=ce(n[19]),c=[];for(let h=0;h<u.length;h+=1)c[h]=st(Je(n,u,h));const d=h=>p(c[h],1,1,()=>{c[h]=null});let b=n[11]&&ot(n);return{c(){e=R("div"),k(r.$$.fragment),t=y(),k(l.$$.fragment),a=y(),k(o.$$.fragment),i=y();for(let h=0;h<c.length;h+=1)c[h].c();s=y(),b&&b.c(),this.h()},l(h){e=H(h,"DIV",{class:!0});var $=Q(e);T(r.$$.fragment,$),t=A($),T(l.$$.fragment,$),a=A($),T(o.$$.fragment,$),i=A($);for(let m=0;m<c.length;m+=1)c[m].l($);s=A($),b&&b.l($),$.forEach(_),this.h()},h(){L(e,"class","flex flex-col gap-y-6")},m(h,$){v(h,e,$),D(r,e,null),I(e,t),D(l,e,null),I(e,a),D(o,e,null),I(e,i);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null);I(e,s),b&&b.m(e,null),f=!0},p(h,$){const m={};$[0]&1073741824|$[1]&2048&&(m.$$scope={dirty:$,ctx:h}),r.$set(m);const w={};$[0]&1073741888|$[1]&2048&&(w.$$scope={dirty:$,ctx:h}),l.$set(w);const O={};if($[0]&1073741824|$[1]&2048&&(O.$$scope={dirty:$,ctx:h}),o.$set(O),$[0]&1074466400){u=ce(h[19]);let C;for(C=0;C<u.length;C+=1){const M=Je(h,u,C);c[C]?(c[C].p(M,$),g(c[C],1)):(c[C]=st(M),c[C].c(),g(c[C],1),c[C].m(e,s))}for(j(),C=u.length;C<c.length;C+=1)d(C);K()}h[11]?b?(b.p(h,$),$[0]&2048&&g(b,1)):(b=ot(h),b.c(),g(b,1),b.m(e,null)):b&&(j(),p(b,1,1,()=>{b=null}),K())},i(h){if(!f){g(r.$$.fragment,h),g(l.$$.fragment,h),g(o.$$.fragment,h);for(let $=0;$<u.length;$+=1)g(c[$]);g(b),f=!0}},o(h){p(r.$$.fragment,h),p(l.$$.fragment,h),p(o.$$.fragment,h),c=c.filter(Boolean);for(let $=0;$<c.length;$+=1)p(c[$]);p(b),f=!1},d(h){h&&_(e),E(r),E(l),E(o),De(c,h),b&&b.d()}}}function Ca(n){let e,r;return e=new rl({props:{order:n[30],lightweightChartsTheme:n[4],colorTheme:n[2]}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l[0]&1073741824&&(a.order=t[30]),l[0]&16&&(a.lightweightChartsTheme=t[4]),l[0]&4&&(a.colorTheme=t[2]),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function Ia(n){let e,r,t;return r=new ur({props:{order:n[30],codeMirrorTheme:n[13],codeMirrorDisabled:Oa,codeMirrorStyles:n[15]}}),{c(){e=R("div"),k(r.$$.fragment),this.h()},l(l){e=H(l,"DIV",{class:!0});var a=Q(e);T(r.$$.fragment,a),a.forEach(_),this.h()},h(){L(e,"class","mb-8 overflow-hidden rounded-lg border dark:border-none")},m(l,a){v(l,e,a),D(r,e,null),t=!0},p(l,a){const o={};a[0]&1073741824&&(o.order=l[30]),a[0]&8192&&(o.codeMirrorTheme=l[13]),r.$set(o)},i(l){t||(g(r.$$.fragment,l),t=!0)},o(l){p(r.$$.fragment,l),t=!1},d(l){l&&_(e),E(r)}}}function ya(n){let e,r;return e=new Al({props:{order:n[30],handleDebugTradeModal:n[1],rpcs:n[7]}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l[0]&1073741824&&(a.order=t[30]),l[0]&2&&(a.handleDebugTradeModal=t[1]),l[0]&128&&(a.rpcs=t[7]),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function Aa(n){let e,r="TODO: Issue #1989";return{c(){e=R("div"),e.textContent=r},l(t){e=H(t,"DIV",{"data-svelte-h":!0}),de(e)!=="svelte-up4rgn"&&(e.textContent=r)},m(t,l){v(t,e,l)},p:X,d(t){t&&_(e)}}}function Ma(n){let e,r="TODO: Issue #1989";return{c(){e=R("div"),e.textContent=r},l(t){e=H(t,"DIV",{"data-svelte-h":!0}),de(e)!=="svelte-up4rgn"&&(e.textContent=r)},m(t,l){v(t,e,l)},p:X,d(t){t&&_(e)}}}function Sa(n){let e,r,t,l,a,o,i,s;return e=new he({props:{title:"Rainlang source",$$slots:{default:[Ia]},$$scope:{ctx:n}}}),t=new he({props:{open:!0,title:"Trades",$$slots:{default:[ya]},$$scope:{ctx:n}}}),a=new he({props:{title:"Volume",$$slots:{default:[Aa]},$$scope:{ctx:n}}}),i=new he({props:{title:"APY",$$slots:{default:[Ma]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment),r=y(),k(t.$$.fragment),l=y(),k(a.$$.fragment),o=y(),k(i.$$.fragment)},l(f){T(e.$$.fragment,f),r=A(f),T(t.$$.fragment,f),l=A(f),T(a.$$.fragment,f),o=A(f),T(i.$$.fragment,f)},m(f,u){D(e,f,u),v(f,r,u),D(t,f,u),v(f,l,u),D(a,f,u),v(f,o,u),D(i,f,u),s=!0},p(f,u){const c={};u[0]&1073750016|u[1]&2048&&(c.$$scope={dirty:u,ctx:f}),e.$set(c);const d={};u[0]&1073741954|u[1]&2048&&(d.$$scope={dirty:u,ctx:f}),t.$set(d);const b={};u[1]&2048&&(b.$$scope={dirty:u,ctx:f}),a.$set(b);const h={};u[1]&2048&&(h.$$scope={dirty:u,ctx:f}),i.$set(h)},i(f){s||(g(e.$$.fragment,f),g(t.$$.fragment,f),g(a.$$.fragment,f),g(i.$$.fragment,f),s=!0)},o(f){p(e.$$.fragment,f),p(t.$$.fragment,f),p(a.$$.fragment,f),p(i.$$.fragment,f),s=!1},d(f){f&&(_(r),_(l),_(o)),E(e,f),E(t,f),E(a,f),E(i,f)}}}function Ba(n){let e,r,t,l;return e=new na({props:{order:n[30],handleQuoteDebugModal:n[0]}}),t=new fr({props:{style:"underline",contentClass:"mt-4",defaultClass:"flex flex-wrap space-x-2 rtl:space-x-reverse mt-4 list-none",$$slots:{default:[Sa]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment),r=y(),k(t.$$.fragment)},l(a){T(e.$$.fragment,a),r=A(a),T(t.$$.fragment,a)},m(a,o){D(e,a,o),v(a,r,o),D(t,a,o),l=!0},p(a,o){const i={};o[0]&1073741824&&(i.order=a[30]),o[0]&1&&(i.handleQuoteDebugModal=a[0]),e.$set(i);const s={};o[0]&1073750146|o[1]&2048&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){l||(g(e.$$.fragment,a),g(t.$$.fragment,a),l=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),l=!1},d(a){a&&_(r),E(e,a),E(t,a)}}}function Va(n){let e,r;return e=new mr({props:{query:n[12],emptyMessage:"Order not found",$$slots:{below:[Ba,({data:t})=>({30:t}),({data:t})=>[t?1073741824:0]],chart:[Ca,({data:t})=>({30:t}),({data:t})=>[t?1073741824:0]],card:[Ea,({data:t})=>({30:t}),({data:t})=>[t?1073741824:0]],top:[oa,({data:t})=>({30:t}),({data:t})=>[t?1073741824:0]]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){D(e,t,l),r=!0},p(t,l){const a={};l[0]&4096&&(a.query=t[12]),l[0]&1073770487|l[1]&2048&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}let Oa=!0;function La(n,e,r){let t,l,a=X,o=()=>(a(),a=fe(b,q=>r(13,l=q)),b),i,s=X,f=()=>(s(),s=fe(t,q=>r(14,i=q)),t);n.$$.on_destroy.push(()=>a()),n.$$.on_destroy.push(()=>s());let{handleQuoteDebugModal:u=void 0}=e,{handleDebugTradeModal:c=void 0}=e,{colorTheme:d}=e,{codeMirrorTheme:b}=e;o();let{lightweightChartsTheme:h}=e,{orderbookAddress:$}=e,{orderHash:m}=e,{chainId:w}=e,{rpcs:O=void 0}=e,{onRemove:C}=e,{onDeposit:M}=e,{onWithdraw:N}=e,{onWithdrawAll:W=void 0}=e,z={};const V=Ce(),{matchesAccount:F}=nr(),{errToast:x}=wt(),P=ht(),se=setInterval(async()=>{await ie(V,[m])},1e4);$t(()=>{clearInterval(se)});const ge=async()=>{try{await ie(V,[m])}catch{x("Failed to refresh")}},kt=[{key:"Output vaults",type:"output",getter:"outputsList"},{key:"Input vaults",type:"input",getter:"inputsList"},{key:"Input & output vaults",type:"inputOutput",getter:"inputsOutputsList"}],Tt=q=>M(P,q),Dt=q=>N(P,q),Et=q=>q&&W(P,q),Ct=(q,At)=>At.vaultType===q,It=()=>i.data?.vaultsList&&W(P,i.data.vaultsList),yt=q=>C(P,q);return n.$$set=q=>{"handleQuoteDebugModal"in q&&r(0,u=q.handleQuoteDebugModal),"handleDebugTradeModal"in q&&r(1,c=q.handleDebugTradeModal),"colorTheme"in q&&r(2,d=q.colorTheme),"codeMirrorTheme"in q&&o(r(3,b=q.codeMirrorTheme)),"lightweightChartsTheme"in q&&r(4,h=q.lightweightChartsTheme),"orderbookAddress"in q&&r(5,$=q.orderbookAddress),"orderHash"in q&&r(20,m=q.orderHash),"chainId"in q&&r(6,w=q.chainId),"rpcs"in q&&r(7,O=q.rpcs),"onRemove"in q&&r(8,C=q.onRemove),"onDeposit"in q&&r(9,M=q.onDeposit),"onWithdraw"in q&&r(10,N=q.onWithdraw),"onWithdrawAll"in q&&r(11,W=q.onWithdrawAll)},n.$$.update=()=>{n.$$.dirty[0]&1048672&&f(r(12,t=Ee({queryKey:[m,sr+m],queryFn:async()=>{const q=await P.getOrderByHash(w,$,m);if(q.error)throw new Error(q.error.readableMsg);return q.value}})))},[u,c,d,b,h,$,w,O,C,M,N,W,t,l,i,z,F,P,ge,kt,m,Tt,Dt,Et,Ct,It,yt]}class Na extends te{constructor(e){super(),re(this,e,La,Va,ee,{handleQuoteDebugModal:0,handleDebugTradeModal:1,colorTheme:2,codeMirrorTheme:3,lightweightChartsTheme:4,orderbookAddress:5,orderHash:20,chainId:6,rpcs:7,onRemove:8,onDeposit:9,onWithdraw:10,onWithdrawAll:11},null,[-1,-1])}}function Ra(n){let e,r,t,l,a;return e=new Jt({props:{title:"Order",pathname:n[1].url.pathname}}),l=new Na({props:{chainId:n[3],orderbookAddress:n[4],orderHash:n[2],colorTheme:qt,codeMirrorTheme:Qt,lightweightChartsTheme:Pt,handleQuoteDebugModal:Yt,handleDebugTradeModal:jt,onRemove:n[5],onDeposit:n[6],onWithdraw:n[7],rpcs:n[0]}}),{c(){k(e.$$.fragment),r=y(),t=R("div"),k(l.$$.fragment),this.h()},l(o){T(e.$$.fragment,o),r=A(o),t=H(o,"DIV",{"data-testid":!0});var i=Q(t);T(l.$$.fragment,i),i.forEach(_),this.h()},h(){L(t,"data-testid","order-detail")},m(o,i){D(e,o,i),v(o,r,i),v(o,t,i),D(l,t,null),a=!0},p(o,[i]){const s={};i&2&&(s.pathname=o[1].url.pathname),e.$set(s);const f={};i&1&&(f.rpcs=o[0]),l.$set(f)},i(o){a||(g(e.$$.fragment,o),g(l.$$.fragment,o),a=!0)},o(o){p(e.$$.fragment,o),p(l.$$.fragment,o),a=!1},d(o){o&&(_(r),_(t)),E(e,o),E(l)}}}function Ha(n,e,r){let t;Lt(n,Rt,w=>r(1,t=w));const l=Nt(),a=ht(),o=Ce(),{chainId:i,orderbook:s,orderHash:f}=t.params,u=f,c=Number(i),d=s;let b=[];function h(w,O){Kt(O,()=>{ie(o,[u])},l)}function $(w,O){Zt(O,()=>{ie(o,[u])},l)}function m(w,O){Gt(O,()=>{ie(o,[u])},l)}if(a){const w=a.getNetworkByChainId(c);if(w.error)throw new Error(w.error.readableMsg);r(0,b=w.value.rpcs)}return[b,t,u,c,d,h,$,m]}class ln extends te{constructor(e){super(),re(this,e,Ha,Ra,ee,{})}}export{ln as component};
//# sourceMappingURL=5.Cc22DeO1.js.map
