{"version":3,"file":"5.Cc22DeO1.js","sources":["../../../../../../../node_modules/flowbite-svelte-icons/dist/PenSolid.svelte","../../../../../../../packages/ui-components/dist/components/BadgeActive.svelte","../../../../../../../packages/ui-components/dist/components/ButtonVaultLink.svelte","../../../../../../../packages/ui-components/dist/components/ButtonTab.svelte","../../../../../../../packages/ui-components/dist/components/charts/ChartTimeFilters.svelte","../../../../../../../packages/ui-components/dist/components/charts/LightweightChart.svelte","../../../../../../../packages/ui-components/dist/components/charts/transformAndSortData.js","../../../../../../../packages/ui-components/dist/components/charts/TanstackLightweightChartLine.svelte","../../../../../../../packages/ui-components/dist/services/historicalOrderCharts.js","../../../../../../../packages/ui-components/dist/components/charts/OrderTradesChart.svelte","../../../../../../../packages/ui-components/dist/components/charts/TableTimeFilters.svelte","../../../../../../../packages/ui-components/dist/components/tables/OrderTradesListTable.svelte","../../../../../../../packages/ui-components/dist/components/EditableSpan.svelte","../../../../../../../packages/ui-components/dist/components/detail/TanstackOrderQuote.svelte","../../../../../../../packages/ui-components/dist/components/detail/OrderDetail.svelte","../../../../../../src/routes/orders/[chainId]-[orderbook]-[orderHash]/+page.svelte"],"sourcesContent":["<script>import { getContext } from \"svelte\";\nimport { twMerge } from \"tailwind-merge\";\nconst ctx = getContext(\"iconCtx\") ?? {};\nconst sizes = {\n    xs: \"w-3 h-3\",\n    sm: \"w-4 h-4\",\n    md: \"w-5 h-5\",\n    lg: \"w-6 h-6\",\n    xl: \"w-8 h-8\"\n};\nexport let size = ctx.size || \"md\";\nexport let role = ctx.role || \"img\";\nexport let ariaLabel = \"pen solid\";\n</script>\n\n<svg\n  xmlns=\"http://www.w3.org/2000/svg\"\n  fill=\"currentColor\"\n  {...$$restProps}\n  class={twMerge('shrink-0', sizes[size], $$props.class)}\n  {role}\n  aria-label={ariaLabel}\n  viewBox=\"0 0 20 20\"\n  on:click\n  on:keydown\n  on:keyup\n  on:focus\n  on:blur\n  on:mouseenter\n  on:mouseleave\n  on:mouseover\n  on:mouseout\n>\n  <path\n    fill=\"currentColor\"\n    d=\"m13.835 7.578-.005.007-7.137 7.137 2.139 2.138 7.143-7.142-2.14-2.14Zm-10.696 3.59 2.139 2.14 7.138-7.137.007-.005-2.141-2.141-7.143 7.143Zm1.433 4.261L2 12.852.051 18.684a1 1 0 0 0 1.265 1.264L7.147 18l-2.575-2.571Zm14.249-14.25a4.03 4.03 0 0 0-5.693 0L11.7 2.611 17.389 8.3l1.432-1.432a4.029 4.029 0 0 0 0-5.689Z\"\n  />\n</svg>\n\n<!--\n@component\n[Go to docs](https://flowbite-svelte-icons.vercel.app/)\n## Props\n@prop export let size: 'xs' | 'sm' | 'md' | 'lg' | 'xl' = ctx.size || 'md';\n@prop export let role = ctx.role || 'img';\n@prop export let ariaLabel = 'pen solid';\n-->\n","<script>import { Badge } from \"flowbite-svelte\";\nexport let active;\n</script>\n\n{#if active}\n\t<Badge color=\"green\" {...$$props}>Active</Badge>\n{:else}\n\t<Badge color=\"yellow\" {...$$props}>Inactive</Badge>\n{/if}\n","<script>import { toHex } from \"viem\";\nimport Tooltip from \"./Tooltip.svelte\";\nexport let tokenVault;\nexport let chainId;\nexport let orderbookAddress;\n</script>\n\n<div\n\tclass=\"flex cursor-pointer items-center justify-between space-y-2 rounded-lg border border-gray-100 p-2\"\n\tdata-testid=\"vault-link\"\n>\n\t<div class=\"flex flex-col items-start gap-y-2\">\n\t\t<Tooltip triggeredBy={`#token-info-${tokenVault.vaultId}`}>\n\t\t\tID: <span class=\"font-mono\">{toHex(tokenVault.vaultId)}</span>\n\t\t</Tooltip>\n\t\t<a\n\t\t\thref={`/vaults/${chainId}-${orderbookAddress}-${tokenVault.id}`}\n\t\t\tid={`token-info-${tokenVault.vaultId}`}\n\t\t>\n\t\t\t{tokenVault.token.name} ({tokenVault.token.symbol})\n\t\t</a>\n\t\t<span class=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\tBalance: {tokenVault.formattedBalance}\n\t\t</span>\n\t</div>\n\t<div>\n\t\t<slot name=\"buttons\" />\n\t</div>\n</div>\n","<script>import { Button } from \"flowbite-svelte\";\nexport let active = false;\n</script>\n\n<Button on:click disabled={active} {...$$props}>\n\t<slot />\n</Button>\n","<script>import ButtonTab from \"../ButtonTab.svelte\";\nimport { ButtonGroup } from \"flowbite-svelte\";\nconst TIME_DELTA_24_HOURS = 60 * 60 * 24;\nconst TIME_DELTA_7_DAYS = TIME_DELTA_24_HOURS * 7;\nconst TIME_DELTA_30_DAYS = TIME_DELTA_24_HOURS * 30;\nconst TIME_DELTA_1_YEAR = TIME_DELTA_24_HOURS * 365;\nexport let timeDelta = TIME_DELTA_1_YEAR;\n</script>\n\n<ButtonGroup class=\"bg-gray-800\" data-testid=\"lightweightChartYearButtons\">\n\t<ButtonTab\n\t\ton:click={() => (timeDelta = TIME_DELTA_1_YEAR)}\n\t\tactive={timeDelta === TIME_DELTA_1_YEAR}\n\t\tsize=\"xs\"\n\t\tclass=\"px-2 py-1\">1 Year</ButtonTab\n\t>\n\t<ButtonTab\n\t\ton:click={() => (timeDelta = TIME_DELTA_30_DAYS)}\n\t\tactive={timeDelta === TIME_DELTA_30_DAYS}\n\t\tsize=\"xs\"\n\t\tclass=\"px-2 py-1\">30 Days</ButtonTab\n\t>\n\t<ButtonTab\n\t\ton:click={() => (timeDelta = TIME_DELTA_7_DAYS)}\n\t\tactive={timeDelta === TIME_DELTA_7_DAYS}\n\t\tsize=\"xs\"\n\t\tclass=\"px-2 py-1\">7 Days</ButtonTab\n\t>\n\t<ButtonTab\n\t\ton:click={() => (timeDelta = TIME_DELTA_24_HOURS)}\n\t\tactive={timeDelta === TIME_DELTA_24_HOURS}\n\t\tsize=\"xs\"\n\t\tclass=\"px-2 py-1\">24 Hours</ButtonTab\n\t>\n</ButtonGroup>\n","<script generics=\"T extends keyof SeriesOptionsMap, O\">import { Spinner } from \"flowbite-svelte\";\nimport {\n  createChart\n} from \"lightweight-charts\";\nimport { onDestroy, onMount } from \"svelte\";\nimport ChartTimeFilters from \"./ChartTimeFilters.svelte\";\nexport let data = [];\nexport let loading = false;\nexport let emptyMessage = \"None found\";\nexport let title = void 0;\nexport let priceSymbol = void 0;\nexport let createSeries;\nexport let lightweightChartsTheme;\nlet chartElement = void 0;\nlet chart;\nlet series;\nlet timeDelta;\nlet timeFrom;\nlet timeTo;\nlet previousDataLength = 0;\nfunction setTimeScale() {\n  if (chart === void 0) return;\n  timeTo = Math.floor((/* @__PURE__ */ new Date()).getTime() / 1e3);\n  timeFrom = timeTo - timeDelta;\n  chart.timeScale().setVisibleRange({\n    from: timeFrom,\n    to: timeTo\n  });\n}\nfunction setOptions() {\n  if (chart === void 0) return;\n  chart.applyOptions({\n    ...$lightweightChartsTheme,\n    autoSize: true,\n    localization: {\n      priceFormatter: (p) => priceSymbol ? `${p.toFixed(4)} ${priceSymbol}` : p.toFixed(4)\n    }\n  });\n}\nfunction updateNewDataPoints() {\n  if (series === void 0 || data.length === 0) return;\n  if (previousDataLength === 0) {\n    series.setData(data);\n  } else if (data.length > previousDataLength) {\n    const newPoints = data.slice(previousDataLength);\n    newPoints.forEach((point) => {\n      series?.update(point);\n    });\n  }\n  previousDataLength = data.length;\n  setTimeScale();\n}\nfunction destroyChart() {\n  if (chart == void 0) return;\n  chart.remove();\n  chart = void 0;\n}\nfunction setupChart() {\n  if (chartElement === void 0) return;\n  chart = createChart(chartElement);\n  series = createSeries(chart);\n  setOptions();\n  updateNewDataPoints();\n}\n$: if (data || series) updateNewDataPoints();\n$: if (timeDelta) setTimeScale();\n$: if ($lightweightChartsTheme) setOptions();\n$: if (chartElement && data.length > 0 && !chart) setupChart();\nonMount(() => {\n  setupChart();\n});\nonDestroy(() => {\n  destroyChart();\n});\n</script>\n\n<div\n\tclass=\"flex h-full flex-col overflow-hidden rounded-lg border bg-gray-50 dark:border-none dark:bg-gray-700\"\n>\n\t<div class=\"flex w-full justify-between border-b p-3 pb-0 dark:border-gray-700\">\n\t\t<div class=\"text-gray-900 dark:text-white\">\n\t\t\t{#if title !== undefined}\n\t\t\t\t<div data-testid=\"lightweightChartTitle\" class=\"mb-2 text-xl\">{title}</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div>\n\t\t\t{#if loading}\n\t\t\t\t<Spinner data-testid=\"lightweightChartSpinner\" class=\"mr-2 h-4 w-4\" color=\"white\" />\n\t\t\t{/if}\n\t\t\t{#if data.length > 0}\n\t\t\t\t<ChartTimeFilters bind:timeDelta />\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n\t<div class=\"relative flex w-full grow items-center justify-center bg-white dark:bg-gray-800\">\n\t\t{#if data.length === 0 && !loading}\n\t\t\t<div class=\"text-gray-800 dark:text-gray-400\" data-testid=\"lightweightChartEmptyMessage\">\n\t\t\t\t{emptyMessage}\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div\n\t\t\t\tbind:this={chartElement}\n\t\t\t\tclass=\"h-full w-full overflow-hidden\"\n\t\t\t\t{...$$props}\n\t\t\t\tdata-testid=\"lightweightChartElement\"\n\t\t\t></div>\n\t\t{/if}\n\t</div>\n</div>\n","import { sortBy } from 'lodash';\n/**\n * Filters out data points with duplicate timestamps, keeping only the first occurrence.\n *\n * @param data Array of data points with time and value properties\n * @returns A new array with only unique timestamps\n */\nexport const deduplicateByTime = (data) => {\n    const uniqueData = [];\n    const seenTimes = new Set();\n    for (const dataPoint of data) {\n        if (!seenTimes.has(dataPoint.time)) {\n            uniqueData.push(dataPoint);\n            seenTimes.add(dataPoint.time);\n        }\n    }\n    return uniqueData;\n};\n/**\n * Transforms and sorts data, ensuring unique timestamps.\n *\n * @param data The source data to transform\n * @param options Configuration object with transform functions\n * @returns Transformed, sorted, and deduplicated data\n */\nexport const transformAndSortData = (data, options) => {\n    const { valueTransform, timeTransform } = options;\n    const transformedData = data.map((d) => ({\n        value: valueTransform(d),\n        time: timeTransform(d)\n    }));\n    const sortedData = sortBy(transformedData, (d) => d.time);\n    return deduplicateByTime(sortedData);\n};\nif (import.meta.vitest) {\n    const { it, expect, describe } = import.meta.vitest;\n    describe('deduplicateByTime', () => {\n        it('should remove entries with duplicate timestamps', () => {\n            const data = [\n                { time: 100, value: 10 },\n                { time: 200, value: 20 },\n                { time: 200, value: 25 }, // Duplicate timestamp\n                { time: 300, value: 30 }\n            ];\n            const result = deduplicateByTime(data);\n            const expected = [\n                { time: 100, value: 10 },\n                { time: 200, value: 20 }, // First occurrence kept\n                { time: 300, value: 30 }\n            ];\n            expect(result).toEqual(expected);\n        });\n        it('should handle multiple duplicate timestamps', () => {\n            const data = [\n                { time: 100, value: 10 },\n                { time: 100, value: 15 }, // Duplicate\n                { time: 100, value: 18 }, // Duplicate\n                { time: 200, value: 20 }\n            ];\n            const result = deduplicateByTime(data);\n            const expected = [\n                { time: 100, value: 10 }, // Only first one kept\n                { time: 200, value: 20 }\n            ];\n            expect(result).toEqual(expected);\n        });\n        it('should return original array if no duplicates', () => {\n            const data = [\n                { time: 100, value: 10 },\n                { time: 200, value: 20 },\n                { time: 300, value: 30 }\n            ];\n            const result = deduplicateByTime(data);\n            expect(result).toEqual(data);\n            expect(result).not.toBe(data);\n        });\n        it('should handle empty array', () => {\n            const data = [];\n            const result = deduplicateByTime(data);\n            expect(result).toEqual([]);\n        });\n    });\n    describe('transformAndSortData', () => {\n        it('should transform, sort, and deduplicate data', () => {\n            const rawData = [\n                { timestamp: 3000, price: 300 },\n                { timestamp: 1000, price: 100 },\n                { timestamp: 2000, price: 200 },\n                { timestamp: 2000, price: 250 } // Duplicate timestamp\n            ];\n            const result = transformAndSortData(rawData, {\n                valueTransform: (item) => item.price,\n                timeTransform: (item) => item.timestamp\n            });\n            const expected = [\n                { time: 1000, value: 100 },\n                { time: 2000, value: 200 }, // First occurrence kept after sorting\n                { time: 3000, value: 300 }\n            ];\n            expect(result).toEqual(expected);\n        });\n        it('should handle empty data array', () => {\n            const rawData = [];\n            const result = transformAndSortData(rawData, {\n                valueTransform: (item) => item.price,\n                timeTransform: (item) => item.timestamp\n            });\n            expect(result).toEqual([]);\n        });\n    });\n}\n","<script generics=\"T\">import LightweightChart from \"./LightweightChart.svelte\";\nimport { transformAndSortData } from \"./transformAndSortData\";\nexport let query;\nexport let timeTransform;\nexport let valueTransform;\nexport let lightweightChartsTheme;\n$: data = transformAndSortData($query.data ?? [], {\n  valueTransform,\n  timeTransform\n});\nconst createSeries = (chart) => chart.addLineSeries({ lineWidth: 1 });\n</script>\n\n<LightweightChart\n\t{createSeries}\n\t{data}\n\tloading={$query.isLoading}\n\t{...$$props}\n\t{lightweightChartsTheme}\n/>\n","import { timestampSecondsToUTCTimestamp } from '../services/time';\nimport { sortBy } from 'lodash';\nexport function prepareHistoricalOrderChartData(takeOrderEntities, colorTheme) {\n    const transformedData = takeOrderEntities.map((d) => ({\n        value: Math.abs(Number(d.inputVaultBalanceChange.formattedAmount) /\n            Number(d.outputVaultBalanceChange.formattedAmount)),\n        time: timestampSecondsToUTCTimestamp(BigInt(d.timestamp)),\n        color: colorTheme == 'dark' ? '#5178FF' : '#4E4AF6',\n        outputAmount: Number(d.outputVaultBalanceChange.amount)\n    }));\n    // if we have multiple object in the array with the same timestamp, we need to merge them\n    // we do this by taking the weighted average of the ioratio values for objects that share the same timestamp.\n    const uniqueTimestamps = Array.from(new Set(transformedData.map((d) => d.time)));\n    const finalData = [];\n    uniqueTimestamps.forEach((timestamp) => {\n        const objectsWithSameTimestamp = transformedData.filter((d) => d.time === timestamp);\n        if (objectsWithSameTimestamp.length > 1) {\n            // calculate a weighted average of the ioratio values using the amount of the output token as the weight\n            const ioratioSum = objectsWithSameTimestamp.reduce((acc, d) => acc + d.value * d.outputAmount, 0);\n            const outputAmountSum = objectsWithSameTimestamp.reduce((acc, d) => acc + d.outputAmount, 0);\n            const ioratioAverage = ioratioSum / outputAmountSum;\n            finalData.push({\n                value: ioratioAverage,\n                time: timestamp,\n                color: objectsWithSameTimestamp[0].color\n            });\n        }\n        else {\n            finalData.push(objectsWithSameTimestamp[0]);\n        }\n    });\n    return sortBy(finalData, (d) => d.time);\n}\nif (import.meta.vitest) {\n    const { it, expect } = import.meta.vitest;\n    it('transforms and sorts data as expected', () => {\n        const takeOrderEntities = [\n            {\n                id: '1',\n                timestamp: BigInt(1632000000),\n                transaction: {\n                    id: 'transaction_id',\n                    from: '0xsender_address',\n                    timestamp: BigInt(1632000000),\n                    blockNumber: BigInt(0)\n                },\n                outputVaultBalanceChange: {\n                    amount: BigInt(100),\n                    formattedAmount: '100',\n                    vaultId: BigInt(1),\n                    __typename: 'Withdraw',\n                    token: {\n                        id: 'output_token',\n                        address: '0xoutput_token',\n                        name: 'output_token',\n                        symbol: 'output_token',\n                        decimals: BigInt(1)\n                    },\n                    newBalance: BigInt(0),\n                    formattedNewBalance: '0',\n                    oldBalance: BigInt(0),\n                    formattedOldBalance: '0',\n                    timestamp: BigInt(0),\n                    transaction: {\n                        id: 'transaction_id',\n                        from: 'sender_address',\n                        timestamp: BigInt(1632000000),\n                        blockNumber: BigInt(0)\n                    },\n                    orderbook: '0x1'\n                },\n                orderHash: 'orderHash',\n                inputVaultBalanceChange: {\n                    vaultId: BigInt(1),\n                    token: {\n                        id: 'output_token',\n                        address: '0xoutput_token',\n                        name: 'output_token',\n                        symbol: 'output_token',\n                        decimals: BigInt(1)\n                    },\n                    amount: BigInt(50),\n                    formattedAmount: '50',\n                    __typename: 'Withdraw',\n                    newBalance: BigInt(0),\n                    formattedNewBalance: '0',\n                    oldBalance: BigInt(0),\n                    formattedOldBalance: '0',\n                    timestamp: BigInt(0),\n                    transaction: {\n                        id: 'transaction_id',\n                        from: '0xsender_address',\n                        timestamp: BigInt(1632000000),\n                        blockNumber: BigInt(0)\n                    },\n                    orderbook: '0x1'\n                },\n                orderbook: '0x00'\n            },\n            {\n                id: '2',\n                timestamp: BigInt(1631000000),\n                transaction: {\n                    id: 'transaction_id',\n                    from: '0xsender_address',\n                    timestamp: BigInt(1631000000),\n                    blockNumber: BigInt(0)\n                },\n                outputVaultBalanceChange: {\n                    amount: BigInt(100),\n                    formattedAmount: '100',\n                    vaultId: BigInt(1),\n                    token: {\n                        id: 'output_token',\n                        address: '0xoutput_token',\n                        name: 'output_token',\n                        symbol: 'output_token',\n                        decimals: BigInt(1)\n                    },\n                    newBalance: BigInt(0),\n                    formattedNewBalance: '0',\n                    oldBalance: BigInt(0),\n                    formattedOldBalance: '0',\n                    __typename: 'Withdraw',\n                    timestamp: BigInt(0),\n                    transaction: {\n                        id: 'transaction_id',\n                        from: '0xsender_address',\n                        timestamp: BigInt(1632000000),\n                        blockNumber: BigInt(0)\n                    },\n                    orderbook: '0x1'\n                },\n                orderHash: 'orderHash',\n                inputVaultBalanceChange: {\n                    vaultId: BigInt(1),\n                    token: {\n                        id: 'output_token',\n                        address: '0xoutput_token',\n                        name: 'output_token',\n                        symbol: 'output_token',\n                        decimals: BigInt(1)\n                    },\n                    amount: BigInt(50),\n                    formattedAmount: '50',\n                    __typename: 'Withdraw',\n                    newBalance: BigInt(0),\n                    formattedNewBalance: '0',\n                    oldBalance: BigInt(0),\n                    formattedOldBalance: '0',\n                    timestamp: BigInt(0),\n                    transaction: {\n                        id: 'transaction_id',\n                        from: '0xsender_address',\n                        timestamp: BigInt(1632000000),\n                        blockNumber: BigInt(0)\n                    },\n                    orderbook: '0x1'\n                },\n                orderbook: '0x00'\n            },\n            {\n                id: '3',\n                timestamp: BigInt(1630000000),\n                transaction: {\n                    id: 'transaction_id',\n                    from: '0xsender_address',\n                    timestamp: BigInt(1630000000),\n                    blockNumber: BigInt(0)\n                },\n                outputVaultBalanceChange: {\n                    amount: BigInt(100),\n                    formattedAmount: '100',\n                    vaultId: BigInt(1),\n                    token: {\n                        id: 'output_token',\n                        address: '0xoutput_token',\n                        name: 'output_token',\n                        symbol: 'output_token',\n                        decimals: BigInt(1)\n                    },\n                    newBalance: BigInt(0),\n                    formattedNewBalance: '0',\n                    oldBalance: BigInt(0),\n                    formattedOldBalance: '0',\n                    __typename: 'Withdraw',\n                    timestamp: BigInt(0),\n                    transaction: {\n                        id: 'transaction_id',\n                        from: 'sender_address',\n                        timestamp: BigInt(1632000000),\n                        blockNumber: BigInt(0)\n                    },\n                    orderbook: '0x1'\n                },\n                orderHash: 'orderHash',\n                inputVaultBalanceChange: {\n                    vaultId: BigInt(1),\n                    token: {\n                        id: 'output_token',\n                        address: '0xoutput_token',\n                        name: 'output_token',\n                        symbol: 'output_token',\n                        decimals: BigInt(1)\n                    },\n                    newBalance: BigInt(0),\n                    formattedNewBalance: '0',\n                    oldBalance: BigInt(0),\n                    formattedOldBalance: '0',\n                    amount: BigInt(50),\n                    formattedAmount: '50',\n                    __typename: 'Withdraw',\n                    timestamp: BigInt(0),\n                    transaction: {\n                        id: 'transaction_id',\n                        from: 'sender_address',\n                        timestamp: BigInt(1632000000),\n                        blockNumber: BigInt(0)\n                    },\n                    orderbook: '0x1'\n                },\n                orderbook: '0x00'\n            }\n        ];\n        const result = prepareHistoricalOrderChartData(takeOrderEntities, 'dark');\n        expect(result.length).toEqual(3);\n        expect(result[0].value).toEqual(0.5);\n        expect(result[0].time).toEqual(1630000000);\n        expect(result[1].value).toEqual(0.5);\n        expect(result[1].time).toEqual(1631000000);\n        expect(result[2].value).toEqual(0.5);\n        expect(result[2].time).toEqual(1632000000);\n        // check the color\n        expect(result[0].color).toEqual('#5178FF');\n        expect(result[1].color).toEqual('#5178FF');\n        expect(result[2].color).toEqual('#5178FF');\n    });\n    it('handles the case where multiple trades have the same timestamp', () => {\n        const takeOrderEntities = [\n            {\n                id: '1',\n                timestamp: BigInt(1632000000),\n                transaction: {\n                    id: 'transaction_id',\n                    from: '0xsender_address',\n                    timestamp: BigInt(1632000000),\n                    blockNumber: BigInt(0)\n                },\n                outputVaultBalanceChange: {\n                    amount: BigInt(100),\n                    formattedAmount: '100',\n                    vaultId: BigInt(1),\n                    token: {\n                        id: 'output_token',\n                        address: '0xoutput_token',\n                        name: 'output_token',\n                        symbol: 'output_token',\n                        decimals: BigInt(1)\n                    },\n                    newBalance: BigInt(0),\n                    formattedNewBalance: '0',\n                    oldBalance: BigInt(0),\n                    formattedOldBalance: '0',\n                    timestamp: BigInt(0),\n                    transaction: {\n                        id: 'transaction_id',\n                        from: '0xsender_address',\n                        timestamp: BigInt(1632000000),\n                        blockNumber: BigInt(0)\n                    },\n                    __typename: 'Withdraw',\n                    orderbook: '0x1'\n                },\n                orderHash: 'orderHash',\n                inputVaultBalanceChange: {\n                    vaultId: BigInt(1),\n                    token: {\n                        id: 'output_token',\n                        address: '0xoutput_token',\n                        name: 'output_token',\n                        symbol: 'output_token',\n                        decimals: BigInt(1)\n                    },\n                    amount: BigInt(50),\n                    formattedAmount: '50',\n                    newBalance: BigInt(0),\n                    formattedNewBalance: '0',\n                    oldBalance: BigInt(0),\n                    formattedOldBalance: '0',\n                    timestamp: BigInt(0),\n                    transaction: {\n                        id: 'transaction_id',\n                        from: '0xsender_address',\n                        timestamp: BigInt(1632000000),\n                        blockNumber: BigInt(0)\n                    },\n                    orderbook: '0x1'\n                },\n                orderbook: '0x00'\n            },\n            {\n                id: '2',\n                timestamp: BigInt(1632000000),\n                transaction: {\n                    id: 'transaction_id',\n                    from: '0xsender_address',\n                    timestamp: BigInt(1632000000),\n                    blockNumber: BigInt(0)\n                },\n                outputVaultBalanceChange: {\n                    amount: BigInt(200),\n                    formattedAmount: '200',\n                    vaultId: BigInt(1),\n                    token: {\n                        id: 'output_token',\n                        address: '0xoutput_token',\n                        name: 'output_token',\n                        symbol: 'output_token',\n                        decimals: BigInt(1)\n                    },\n                    newBalance: BigInt(0),\n                    formattedNewBalance: '0',\n                    oldBalance: BigInt(0),\n                    formattedOldBalance: '0',\n                    timestamp: BigInt(0),\n                    transaction: {\n                        id: 'transaction_id',\n                        from: '0xsender_address',\n                        timestamp: BigInt(1632000000),\n                        blockNumber: BigInt(0)\n                    },\n                    orderbook: '0x1'\n                },\n                orderHash: 'orderHash',\n                inputVaultBalanceChange: {\n                    vaultId: BigInt(1),\n                    token: {\n                        id: 'output_token',\n                        address: '0xoutput_token',\n                        name: 'output_token',\n                        symbol: 'output_token',\n                        decimals: BigInt(1)\n                    },\n                    amount: BigInt(50),\n                    formattedAmount: '50',\n                    newBalance: BigInt(0),\n                    formattedNewBalance: '0',\n                    oldBalance: BigInt(0),\n                    formattedOldBalance: '0',\n                    timestamp: BigInt(0),\n                    transaction: {\n                        id: 'transaction_id',\n                        from: '0xsender_address',\n                        timestamp: BigInt(1632000000),\n                        blockNumber: BigInt(0)\n                    },\n                    orderbook: '0x1'\n                },\n                orderbook: '0x00'\n            },\n            {\n                id: '3',\n                timestamp: BigInt(1632000000),\n                transaction: {\n                    id: 'transaction_id',\n                    from: '0xsender_address',\n                    timestamp: BigInt(1632000000),\n                    blockNumber: BigInt(0)\n                },\n                outputVaultBalanceChange: {\n                    amount: BigInt(400),\n                    formattedAmount: '400',\n                    vaultId: BigInt(1),\n                    token: {\n                        id: 'output_token',\n                        address: '0xoutput_token',\n                        name: 'output_token',\n                        symbol: 'output_token',\n                        decimals: BigInt(1)\n                    },\n                    newBalance: BigInt(0),\n                    formattedNewBalance: '0',\n                    oldBalance: BigInt(0),\n                    formattedOldBalance: '0',\n                    timestamp: BigInt(0),\n                    transaction: {\n                        id: 'transaction_id',\n                        from: '0xsender_address',\n                        timestamp: BigInt(1632000000),\n                        blockNumber: BigInt(0)\n                    },\n                    orderbook: '0x1'\n                },\n                orderHash: 'orderHash',\n                inputVaultBalanceChange: {\n                    vaultId: BigInt(1),\n                    token: {\n                        id: 'output_token_id',\n                        address: '0xoutput_token',\n                        name: 'output_token',\n                        symbol: 'output_token',\n                        decimals: BigInt(1)\n                    },\n                    amount: BigInt(50),\n                    formattedAmount: '50',\n                    newBalance: BigInt(0),\n                    formattedNewBalance: '0',\n                    oldBalance: BigInt(0),\n                    formattedOldBalance: '0',\n                    timestamp: BigInt(0),\n                    transaction: {\n                        id: 'transaction_id',\n                        from: '0xsender_address',\n                        timestamp: BigInt(1632000000),\n                        blockNumber: BigInt(0)\n                    },\n                    orderbook: '0x1'\n                },\n                orderbook: '0x00'\n            }\n        ];\n        const result = prepareHistoricalOrderChartData(takeOrderEntities, 'dark');\n        // calculate the weighted average of the ioratio values\n        const ioratioSum = 0.5 * 100 + 0.25 * 200 + 0.125 * 400;\n        const outputAmountSum = 100 + 200 + 400;\n        const ioratioAverage = ioratioSum / outputAmountSum;\n        expect(result.length).toEqual(1);\n        expect(result[0].value).toEqual(ioratioAverage);\n    });\n}\n","<script>import {} from \"@rainlanguage/orderbook\";\nimport { prepareHistoricalOrderChartData } from \"../../services/historicalOrderCharts\";\nimport TanstackLightweightChartLine from \"./TanstackLightweightChartLine.svelte\";\nimport { createQuery } from \"@tanstack/svelte-query\";\nimport { QKEY_ORDER_TRADES_LIST } from \"../../queries/keys\";\nexport let order;\nexport let colorTheme;\nexport let lightweightChartsTheme;\n$: query = createQuery({\n  queryKey: [QKEY_ORDER_TRADES_LIST, order.id],\n  queryFn: async () => {\n    const data = await order.getTradesList(BigInt(1e3), void 0, 1);\n    if (data.error) throw new Error(data.error.readableMsg);\n    return prepareHistoricalOrderChartData(data.value, $colorTheme);\n  }\n});\n</script>\n\n<TanstackLightweightChartLine\n\ttitle=\"Trades\"\n\t{query}\n\ttimeTransform={(d) => d.time}\n\tvalueTransform={(d) => d.value}\n\temptyMessage=\"No trades found\"\n\t{lightweightChartsTheme}\n/>\n","<script>import ButtonTab from \"../ButtonTab.svelte\";\nimport { ButtonGroup } from \"flowbite-svelte\";\nconst TIME_DELTA_24_HOURS = 60 * 60 * 24;\nconst TIME_DELTA_48_HOURS = TIME_DELTA_24_HOURS * 2;\nlet now = Math.floor((/* @__PURE__ */ new Date()).getTime() / 1e3);\nlet timeDelta;\nfunction setNow() {\n  now = Math.floor((/* @__PURE__ */ new Date()).getTime() / 1e3);\n}\nexport let startTimestamp;\nexport let endTimestamp;\n</script>\n\n<ButtonGroup class=\"bg-gray-800\" data-testid=\"lightweightChartYearButtons\">\n\t<ButtonTab\n\t\ton:click={() => {\n\t\t\tsetNow();\n\t\t\ttimeDelta = undefined;\n\t\t\tstartTimestamp = undefined;\n\t\t\tendTimestamp = undefined;\n\t\t}}\n\t\tactive={timeDelta === undefined}\n\t\tsize=\"xs\"\n\t\tclass=\"px-2 py-1\">All Time</ButtonTab\n\t>\n\t<ButtonTab\n\t\ton:click={() => {\n\t\t\tsetNow();\n\t\t\ttimeDelta = TIME_DELTA_48_HOURS;\n\t\t\tstartTimestamp = now - TIME_DELTA_48_HOURS;\n\t\t\tendTimestamp = now;\n\t\t}}\n\t\tactive={timeDelta === TIME_DELTA_48_HOURS}\n\t\tsize=\"xs\"\n\t\tclass=\"px-2 py-1\">48 Hours</ButtonTab\n\t>\n\t<ButtonTab\n\t\ton:click={() => {\n\t\t\tsetNow();\n\t\t\ttimeDelta = TIME_DELTA_24_HOURS;\n\t\t\tstartTimestamp = now - TIME_DELTA_24_HOURS;\n\t\t\tendTimestamp = now;\n\t\t}}\n\t\tactive={timeDelta === TIME_DELTA_24_HOURS}\n\t\tsize=\"xs\"\n\t\tclass=\"px-2 py-1\">24 Hours</ButtonTab\n\t>\n</ButtonGroup>\n","<script>import { createInfiniteQuery } from \"@tanstack/svelte-query\";\nimport TanstackAppTable from \"../TanstackAppTable.svelte\";\nimport { QKEY_ORDER_TRADES_LIST } from \"../../queries/keys\";\nimport { DEFAULT_PAGE_SIZE } from \"../../queries/constants\";\nimport { TableBodyCell, TableHeadCell } from \"flowbite-svelte\";\nimport { formatTimestampSecondsAsLocal } from \"../../services/time\";\nimport Hash, { HashType } from \"../Hash.svelte\";\nimport { BugOutline } from \"flowbite-svelte-icons\";\nimport TableTimeFilters from \"../charts/TableTimeFilters.svelte\";\nexport let order;\nexport let rpcs = void 0;\nexport let handleDebugTradeModal = void 0;\nlet startTimestamp;\nlet endTimestamp;\nlet tradesCount;\n$: orderTradesQuery = createInfiniteQuery({\n  queryKey: [order.id, QKEY_ORDER_TRADES_LIST + order.id],\n  queryFn: async ({ pageParam }) => {\n    tradesCount = void 0;\n    const [countResult, tradesResult] = await Promise.all([\n      order.getTradeCount(\n        startTimestamp ? BigInt(startTimestamp) : void 0,\n        endTimestamp ? BigInt(endTimestamp) : void 0\n      ),\n      order.getTradesList(\n        startTimestamp ? BigInt(startTimestamp) : void 0,\n        endTimestamp ? BigInt(endTimestamp) : void 0,\n        pageParam + 1\n      )\n    ]);\n    if (countResult.error) throw new Error(countResult.error.readableMsg);\n    if (tradesResult.error) throw new Error(tradesResult.error.readableMsg);\n    const count = countResult.value;\n    const trades = tradesResult.value;\n    if (typeof count === \"number\") {\n      tradesCount = count;\n    }\n    return trades;\n  },\n  initialPageParam: 0,\n  getNextPageParam: (lastPage, _allPages, lastPageParam) => {\n    return lastPage.length === DEFAULT_PAGE_SIZE ? lastPageParam + 1 : void 0;\n  }\n});\nconst AppTable = TanstackAppTable;\n</script>\n\n<AppTable\n\tquery={orderTradesQuery}\n\temptyMessage=\"No trades found\"\n\trowHoverable={false}\n\tqueryKey={order.id}\n>\n\t<svelte:fragment slot=\"info\">\n\t\t{#if tradesCount !== undefined}\n\t\t\t<div class=\"px-2\">{tradesCount} Trades</div>\n\t\t{/if}\n\t</svelte:fragment>\n\t<svelte:fragment slot=\"timeFilter\">\n\t\t<TableTimeFilters bind:startTimestamp bind:endTimestamp />\n\t</svelte:fragment>\n\t<svelte:fragment slot=\"head\">\n\t\t<TableHeadCell padding=\"p-4\">Date</TableHeadCell>\n\t\t<TableHeadCell padding=\"p-0\">Sender</TableHeadCell>\n\t\t<TableHeadCell padding=\"p-0\">Transaction Hash</TableHeadCell>\n\t\t<TableHeadCell padding=\"p-0\">Input</TableHeadCell>\n\t\t<TableHeadCell padding=\"p-0\">Output</TableHeadCell>\n\t\t<TableHeadCell padding=\"p-0\">IO Ratio</TableHeadCell>\n\t\t<TableHeadCell padding=\"p-0\"></TableHeadCell>\n\t</svelte:fragment>\n\n\t<svelte:fragment slot=\"bodyRow\" let:item>\n\t\t<TableBodyCell tdClass=\"px-4 py-2\">\n\t\t\t{formatTimestampSecondsAsLocal(BigInt(item.timestamp))}\n\t\t</TableBodyCell>\n\t\t<TableBodyCell tdClass=\"break-all py-2 min-w-32\">\n\t\t\t<Hash type={HashType.Wallet} value={item.transaction.from} />\n\t\t</TableBodyCell>\n\t\t<TableBodyCell tdClass=\"break-all py-2 min-w-32\">\n\t\t\t<Hash type={HashType.Transaction} value={item.transaction.id} />\n\t\t</TableBodyCell>\n\t\t<TableBodyCell tdClass=\"break-all py-2\">\n\t\t\t{item.inputVaultBalanceChange.formattedAmount}\n\t\t\t{item.inputVaultBalanceChange.token.symbol}\n\t\t</TableBodyCell>\n\t\t<TableBodyCell tdClass=\"break-all py-2\">\n\t\t\t{item.outputVaultBalanceChange.formattedAmount}\n\t\t\t{item.outputVaultBalanceChange.token.symbol}\n\t\t</TableBodyCell>\n\t\t<TableBodyCell tdClass=\"break-all py-2\" data-testid=\"io-ratio\">\n\t\t\t{Math.abs(\n\t\t\t\tNumber(item.inputVaultBalanceChange.formattedAmount) /\n\t\t\t\t\tNumber(item.outputVaultBalanceChange.formattedAmount)\n\t\t\t)}\n\t\t\t<span class=\"text-gray-400\">\n\t\t\t\t({Math.abs(\n\t\t\t\t\tNumber(item.outputVaultBalanceChange.formattedAmount) /\n\t\t\t\t\t\tNumber(item.inputVaultBalanceChange.formattedAmount)\n\t\t\t\t)})\n\t\t\t</span>\n\t\t</TableBodyCell>\n\t\t{#if rpcs && handleDebugTradeModal}\n\t\t\t<TableBodyCell tdClass=\"py-2\">\n\t\t\t\t<button\n\t\t\t\t\tdata-testid=\"debug-trade-button\"\n\t\t\t\t\tclass=\"text-gray-500 hover:text-gray-700\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tif (rpcs) handleDebugTradeModal(item.transaction.id, rpcs);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<BugOutline size=\"xs\" />\n\t\t\t\t</button>\n\t\t\t</TableBodyCell>\n\t\t{/if}\n\t</svelte:fragment>\n</AppTable>\n","<script>import { createEventDispatcher } from \"svelte\";\nimport { PenSolid } from \"flowbite-svelte-icons\";\nexport let displayValue;\nlet textContent;\nlet editableSpan;\nlet dispatch = createEventDispatcher();\nconst inputBlurred = () => {\n  displayValue = textContent;\n  dispatch(\"blur\", { value: textContent });\n};\nconst handleKeyDown = (event) => {\n  if (event.key === \"Enter\") {\n    editableSpan.blur();\n  }\n};\n</script>\n\n<!-- svelte-ignore a11y-no-static-element-interactions -->\n<div\n\tdata-testid=\"editableSpanWrapper\"\n\tclass=\"flex items-center gap-x-1 border-b-2 border-dotted text-sm text-gray-400 dark:text-gray-400\"\n>\n\t<PenSolid class=\"h-3 w-3 cursor-pointer\" />\n\t<span>Block:</span>\n\t<div class=\"relative\">\n\t\t<span\n\t\t\tdata-testid=\"editableSpan\"\n\t\t\tbind:this={editableSpan}\n\t\t\tbind:textContent\n\t\t\tcontenteditable=\"true\"\n\t\t\ton:keydown={handleKeyDown}\n\t\t\ton:blur={inputBlurred}>{displayValue}</span\n\t\t>\n\t</div>\n</div>\n","<script>import { useToasts } from \"../../providers/toasts/useToasts\";\nimport { invalidateTanstackQueries } from \"../../queries/queryClient\";\nimport Refresh from \"../icon/Refresh.svelte\";\nimport EditableSpan from \"../EditableSpan.svelte\";\nimport { QKEY_ORDER_QUOTE } from \"../../queries/keys\";\nimport { hexToNumber, isHex } from \"viem\";\nimport { createQuery, useQueryClient } from \"@tanstack/svelte-query\";\nimport {\n  Table,\n  TableBody,\n  TableBodyCell,\n  TableBodyRow,\n  TableHead,\n  TableHeadCell\n} from \"flowbite-svelte\";\nimport { BugOutline, ClipboardOutline, PauseSolid, PlaySolid } from \"flowbite-svelte-icons\";\nimport Tooltip from \"../Tooltip.svelte\";\nexport let order;\nexport let handleQuoteDebugModal = void 0;\nlet enabled = true;\nconst queryClient = useQueryClient();\nconst { errToast, addToast } = useToasts();\nconst refreshQuotes = async () => {\n  try {\n    await invalidateTanstackQueries(queryClient, [order.id, QKEY_ORDER_QUOTE + order.id]);\n  } catch {\n    errToast(\"Failed to refresh\");\n  }\n};\nconst copyQuoteError = async (error) => {\n  if (!error) {\n    errToast(\"No quote error to copy\");\n    return;\n  }\n  try {\n    if (typeof navigator === \"undefined\" || !navigator.clipboard?.writeText) {\n      throw new Error(\"Clipboard API unavailable\");\n    }\n    await navigator.clipboard.writeText(error);\n    addToast({\n      message: \"Copied quote error\",\n      type: \"success\",\n      color: \"green\"\n    });\n  } catch (copyError) {\n    errToast(\n      \"Failed to copy quote error\",\n      copyError instanceof Error ? copyError.message : void 0\n    );\n  }\n};\n$: orderQuoteQuery = createQuery({\n  queryKey: [order.id, QKEY_ORDER_QUOTE + order.id],\n  queryFn: async () => {\n    const result = await order.getQuotes(blockNumber);\n    if (result.error) throw new Error(result.error.msg);\n    return result.value;\n  },\n  enabled: !!order.id && enabled\n});\nlet blockNumber;\n$: orderModalArg = order;\n</script>\n\n<div class=\"mt-4\">\n\t<div class=\"mb-4 flex items-center justify-between\">\n\t\t<h2 class=\"text-lg font-semibold\">Order quotes</h2>\n\t\t<div class=\"flex items-center gap-x-1\">\n\t\t\t{#if $orderQuoteQuery.data && $orderQuoteQuery.data.length > 0 && isHex($orderQuoteQuery.data[0].blockNumber)}\n\t\t\t\t<EditableSpan\n\t\t\t\t\tdisplayValue={blockNumber?.toString() ||\n\t\t\t\t\t\thexToNumber($orderQuoteQuery.data[0].blockNumber).toString()}\n\t\t\t\t\ton:focus={() => {\n\t\t\t\t\t\tenabled = false;\n\t\t\t\t\t}}\n\t\t\t\t\ton:blur={({ detail: { value } }) => {\n\t\t\t\t\t\tblockNumber = BigInt(value);\n\t\t\t\t\t\trefreshQuotes();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t{/if}\n\t\t\t<span></span>\n\t\t\t<Refresh\n\t\t\t\tdata-testid=\"refresh-button\"\n\t\t\t\tclass=\"h-8 w-5 cursor-pointer text-gray-400 dark:text-gray-400\"\n\t\t\t\ton:click={refreshQuotes}\n\t\t\t\tspin={$orderQuoteQuery.isLoading || $orderQuoteQuery.isFetching}\n\t\t\t/>\n\t\t\t<PauseSolid\n\t\t\t\tclass={`ml-2 h-8 w-3 cursor-pointer text-gray-400 dark:text-gray-400 ${!enabled ? 'hidden' : ''}`}\n\t\t\t\ton:click={() => {\n\t\t\t\t\tenabled = false;\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<PlaySolid\n\t\t\t\ton:click={() => {\n\t\t\t\t\tenabled = true;\n\t\t\t\t\tblockNumber = undefined;\n\t\t\t\t\trefreshQuotes();\n\t\t\t\t}}\n\t\t\t\tclass={`ml-2 h-8 w-3 cursor-pointer text-gray-400 dark:text-gray-400 ${enabled ? 'hidden' : ''}`}\n\t\t\t/>\n\t\t</div>\n\t</div>\n\n\t<Table divClass=\"rounded-lg lg:overflow-hidden overflow-auto dark:border-none border\">\n\t\t<TableHead data-testid=\"head\">\n\t\t\t<TableHeadCell class=\"w-[80px]\" data-testid=\"orderQuotesPair\">Pair</TableHeadCell>\n\t\t\t<TableHeadCell class=\"w-1/4\" data-testid=\"orderQuotesMaxOutput\">Maximum Output</TableHeadCell>\n\t\t\t<TableHeadCell class=\"w-1/4\" data-testid=\"orderQuotesPrice\">Price</TableHeadCell>\n\t\t\t<TableHeadCell data-testid=\"orderQuotesPrice\">Maximum Input</TableHeadCell>\n\t\t\t<TableHeadCell class=\"w-[50px]\" />\n\t\t</TableHead>\n\n\t\t<TableBody>\n\t\t\t{#if $orderQuoteQuery.data && $orderQuoteQuery.data.length > 0}\n\t\t\t\t{#each $orderQuoteQuery.data as item, index}\n\t\t\t\t\t{#if item.success && item.data}\n\t\t\t\t\t\t<TableBodyRow data-testid=\"bodyRow\">\n\t\t\t\t\t\t\t<TableBodyCell>{item.pair.pairName}</TableBodyCell>\n\t\t\t\t\t\t\t<TableBodyCell>{item.data.formattedMaxOutput}</TableBodyCell>\n\t\t\t\t\t\t\t<TableBodyCell\n\t\t\t\t\t\t\t\t>{item.data.formattedRatio}\n\t\t\t\t\t\t\t\t<span class=\"text-gray-400\">({item.data.formattedInverseRatio})</span\n\t\t\t\t\t\t\t\t></TableBodyCell\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TableBodyCell>{item.data.formattedMaxInput}</TableBodyCell>\n\t\t\t\t\t\t\t<TableBodyCell>\n\t\t\t\t\t\t\t\t{#if handleQuoteDebugModal}\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ton:click={() =>\n\t\t\t\t\t\t\t\t\t\t\thandleQuoteDebugModal(\n\t\t\t\t\t\t\t\t\t\t\t\torderModalArg,\n\t\t\t\t\t\t\t\t\t\t\t\titem.pair.inputIndex,\n\t\t\t\t\t\t\t\t\t\t\t\titem.pair.outputIndex,\n\t\t\t\t\t\t\t\t\t\t\t\titem.pair.pairName,\n\t\t\t\t\t\t\t\t\t\t\t\tBigInt($orderQuoteQuery.data[0].blockNumber)\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<BugOutline size=\"sm\" color=\"grey\" />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</TableBodyCell>\n\t\t\t\t\t\t</TableBodyRow>\n\t\t\t\t\t{:else if !item.success && item.error}\n\t\t\t\t\t\t<TableBodyRow>\n\t\t\t\t\t\t\t<TableBodyCell>{item.pair.pairName}</TableBodyCell>\n\t\t\t\t\t\t\t<TableBodyCell colspan=\"3\" class=\"text-sm text-red-500 dark:text-red-400\">\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\ttriggeredBy={`#quote-error-${index}`}\n\t\t\t\t\t\t\t\t\tcustomClass=\"max-w-sm whitespace-pre-wrap break-words\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{item.error}\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t<div class=\"flex items-start gap-2\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tclass=\"mt-0.5 rounded border border-transparent p-1 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-gray-100\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"Copy quote error\"\n\t\t\t\t\t\t\t\t\t\ton:click={() => copyQuoteError(item.error)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ClipboardOutline size=\"sm\" />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tid={`quote-error-${index}`}\n\t\t\t\t\t\t\t\t\t\tclass=\"max-w-xl cursor-pointer self-start truncate border-dotted border-red-500 pr-2\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{item.error}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</TableBodyCell>\n\t\t\t\t\t\t\t<TableBodyCell>\n\t\t\t\t\t\t\t\t{#if handleQuoteDebugModal}\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ton:click={() =>\n\t\t\t\t\t\t\t\t\t\t\thandleQuoteDebugModal(\n\t\t\t\t\t\t\t\t\t\t\t\torder,\n\t\t\t\t\t\t\t\t\t\t\t\titem.pair.inputIndex,\n\t\t\t\t\t\t\t\t\t\t\t\titem.pair.outputIndex,\n\t\t\t\t\t\t\t\t\t\t\t\titem.pair.pairName,\n\t\t\t\t\t\t\t\t\t\t\t\tBigInt($orderQuoteQuery.data[0].blockNumber)\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<BugOutline size=\"sm\" color=\"grey\" />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</TableBodyCell>\n\t\t\t\t\t\t</TableBodyRow>\n\t\t\t\t\t{/if}\n\t\t\t\t{/each}\n\t\t\t{:else if $orderQuoteQuery.isError}\n\t\t\t\t<TableBodyRow>\n\t\t\t\t\t<TableBodyCell colspan=\"3\" class=\"text-center text-red-500 dark:text-red-400\">\n\t\t\t\t\t\t{'Error fetching quotes:'} <br />\n\t\t\t\t\t\t{$orderQuoteQuery.error}\n\t\t\t\t\t</TableBodyCell>\n\t\t\t\t</TableBodyRow>\n\t\t\t{/if}\n\t\t</TableBody>\n\t</Table>\n</div>\n","<script>import Hash, { HashType } from \"../Hash.svelte\";\nimport BadgeActive from \"../BadgeActive.svelte\";\nimport OrderTradesChart from \"../charts/OrderTradesChart.svelte\";\nimport OrderTradesListTable from \"../tables/OrderTradesListTable.svelte\";\nimport TanstackOrderQuote from \"./TanstackOrderQuote.svelte\";\nimport TanstackPageContentDetail from \"./TanstackPageContentDetail.svelte\";\nimport CardProperty from \"../CardProperty.svelte\";\nimport { formatTimestampSecondsAsLocal } from \"../../services/time\";\nimport ButtonVaultLink from \"../ButtonVaultLink.svelte\";\nimport { QKEY_ORDER } from \"../../queries/keys\";\nimport CodeMirrorRainlang from \"../CodeMirrorRainlang.svelte\";\nimport { createQuery, useQueryClient } from \"@tanstack/svelte-query\";\nimport { Button, TabItem, Tabs, Tooltip } from \"flowbite-svelte\";\nimport { onDestroy } from \"svelte\";\nimport Refresh from \"../icon/Refresh.svelte\";\nimport { invalidateTanstackQueries } from \"../../queries/queryClient\";\nimport {\n  ArrowDownToBracketOutline,\n  ArrowUpFromBracketOutline,\n  InfoCircleOutline,\n  WalletOutline\n} from \"flowbite-svelte-icons\";\nimport { getExplorerLink } from \"../../services/getExplorerLink\";\nimport { useAccount } from \"../../providers/wallet/useAccount\";\nimport {\n  RaindexClient,\n  RaindexOrder,\n  RaindexVault,\n  RaindexVaultsList\n} from \"@rainlanguage/orderbook\";\nimport { useToasts } from \"../../providers/toasts/useToasts\";\nimport { useRaindexClient } from \"../../hooks/useRaindexClient\";\nexport let handleQuoteDebugModal = void 0;\nexport let handleDebugTradeModal = void 0;\nexport let colorTheme;\nexport let codeMirrorTheme;\nexport let lightweightChartsTheme;\nexport let orderbookAddress;\nexport let orderHash;\nexport let chainId;\nexport let rpcs = void 0;\nexport let onRemove;\nexport let onDeposit;\nexport let onWithdraw;\nexport let onWithdrawAll = void 0;\nlet codeMirrorDisabled = true;\nlet codeMirrorStyles = {};\nconst queryClient = useQueryClient();\nconst { matchesAccount } = useAccount();\nconst { errToast } = useToasts();\nconst raindexClient = useRaindexClient();\n$: orderDetailQuery = createQuery({\n  queryKey: [orderHash, QKEY_ORDER + orderHash],\n  queryFn: async () => {\n    const result = await raindexClient.getOrderByHash(chainId, orderbookAddress, orderHash);\n    if (result.error) throw new Error(result.error.readableMsg);\n    return result.value;\n  }\n});\nconst interval = setInterval(async () => {\n  await invalidateTanstackQueries(queryClient, [orderHash]);\n}, 1e4);\nonDestroy(() => {\n  clearInterval(interval);\n});\nconst handleRefresh = async () => {\n  try {\n    await invalidateTanstackQueries(queryClient, [orderHash]);\n  } catch {\n    errToast(\"Failed to refresh\");\n  }\n};\nconst vaultTypesMap = [\n  { key: \"Output vaults\", type: \"output\", getter: \"outputsList\" },\n  { key: \"Input vaults\", type: \"input\", getter: \"inputsList\" },\n  {\n    key: \"Input & output vaults\",\n    type: \"inputOutput\",\n    getter: \"inputsOutputsList\"\n  }\n];\n</script>\n\n<TanstackPageContentDetail query={orderDetailQuery} emptyMessage=\"Order not found\">\n\t<svelte:fragment slot=\"top\" let:data>\n\t\t<div\n\t\t\tclass=\"flex w-full flex-wrap items-center justify-between gap-4 text-3xl font-medium lg:justify-between dark:text-white\"\n\t\t>\n\t\t\t<div class=\"flex items-center gap-x-2\">\n\t\t\t\t<div class=\"flex gap-x-2\">\n\t\t\t\t\t<span class=\"font-light\">Order</span>\n\t\t\t\t\t<Hash shorten value={data.orderHash} />\n\t\t\t\t</div>\n\t\t\t\t<BadgeActive active={data.active} large />\n\t\t\t</div>\n\n\t\t\t<div class=\"flex items-center gap-2\">\n\t\t\t\t{#if matchesAccount(data.owner)}\n\t\t\t\t\t{#if data.active}\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ton:click={() => onRemove(raindexClient, data)}\n\t\t\t\t\t\t\tdata-testid=\"remove-button\"\n\t\t\t\t\t\t\taria-label=\"Remove order\">Remove</Button\n\t\t\t\t\t\t>\n\t\t\t\t\t{/if}\n\t\t\t\t{/if}\n\n\t\t\t\t<Refresh\n\t\t\t\t\ttestId=\"top-refresh\"\n\t\t\t\t\ton:click={handleRefresh}\n\t\t\t\t\tspin={$orderDetailQuery.isLoading || $orderDetailQuery.isFetching}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</svelte:fragment>\n\t<svelte:fragment slot=\"card\" let:data>\n\t\t<div class=\"flex flex-col gap-y-6\">\n\t\t\t<CardProperty>\n\t\t\t\t<svelte:fragment slot=\"key\">Orderbook</svelte:fragment>\n\t\t\t\t<svelte:fragment slot=\"value\">\n\t\t\t\t\t<Hash type={HashType.Identifier} shorten={false} value={data.orderbook} />\n\t\t\t\t</svelte:fragment>\n\t\t\t</CardProperty>\n\n\t\t\t<CardProperty>\n\t\t\t\t<svelte:fragment slot=\"key\">Owner</svelte:fragment>\n\t\t\t\t<svelte:fragment slot=\"value\">\n\t\t\t\t\t{@const explorerLink = getExplorerLink(data.owner, chainId, 'address')}\n\t\t\t\t\t{#if explorerLink}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={explorerLink}\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\tclass=\"flex items-center justify-start space-x-2 text-left text-blue-500 hover:underline\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WalletOutline size=\"sm\" />\n\t\t\t\t\t\t\t<span>{data.owner}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<Hash type={HashType.Wallet} shorten={false} value={data.owner} />\n\t\t\t\t\t{/if}\n\t\t\t\t</svelte:fragment>\n\t\t\t</CardProperty>\n\n\t\t\t<CardProperty>\n\t\t\t\t<svelte:fragment slot=\"key\">Created</svelte:fragment>\n\t\t\t\t<svelte:fragment slot=\"value\">\n\t\t\t\t\t{formatTimestampSecondsAsLocal(data.timestampAdded)}\n\t\t\t\t</svelte:fragment>\n\t\t\t</CardProperty>\n\n\t\t\t{#each vaultTypesMap as { key, type, getter }}\n\t\t\t\t{@const filteredVaults = data.vaultsList.items.filter((vault) => vault.vaultType === type)}\n\t\t\t\t{@const vaultsListByType = data[getter]}\n\t\t\t\t{#if filteredVaults.length !== 0}\n\t\t\t\t\t<CardProperty>\n\t\t\t\t\t\t<svelte:fragment slot=\"key\">\n\t\t\t\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t<div class=\"flex items-center gap-x-2\">\n\t\t\t\t\t\t\t\t\t{key}\n\t\t\t\t\t\t\t\t\t{#if type === 'inputOutput'}\n\t\t\t\t\t\t\t\t\t\t<InfoCircleOutline class=\"h-4 w-4\" /><Tooltip\n\t\t\t\t\t\t\t\t\t\t\t>{'These vaults can be an input or an output for this order'}</Tooltip\n\t\t\t\t\t\t\t\t\t\t>{/if}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{#if onWithdrawAll}\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tcolor=\"light\"\n\t\t\t\t\t\t\t\t\t\tsize=\"xs\"\n\t\t\t\t\t\t\t\t\t\ton:click={() =>\n\t\t\t\t\t\t\t\t\t\t\tvaultsListByType && onWithdrawAll(raindexClient, vaultsListByType)}\n\t\t\t\t\t\t\t\t\t\tdisabled={!vaultsListByType ||\n\t\t\t\t\t\t\t\t\t\t\tvaultsListByType.getWithdrawableVaults()?.value?.length === 0}\n\t\t\t\t\t\t\t\t\t\tdata-testid=\"withdraw-all-button\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ArrowUpFromBracketOutline size=\"xs\" class=\"mr-2\" />\n\t\t\t\t\t\t\t\t\t\tWithdraw all\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</svelte:fragment>\n\t\t\t\t\t\t<svelte:fragment slot=\"value\">\n\t\t\t\t\t\t\t<div class=\"mt-2 space-y-2\">\n\t\t\t\t\t\t\t\t{#each filteredVaults as vault}\n\t\t\t\t\t\t\t\t\t<ButtonVaultLink tokenVault={vault} {chainId} {orderbookAddress}>\n\t\t\t\t\t\t\t\t\t\t<svelte:fragment slot=\"buttons\">\n\t\t\t\t\t\t\t\t\t\t\t{#if matchesAccount(vault.owner)}\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-testid=\"deposit-button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => onDeposit(raindexClient, vault)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ArrowDownToBracketOutline size=\"xs\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-testid=\"withdraw-button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => onWithdraw(raindexClient, vault)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ArrowUpFromBracketOutline size=\"xs\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</svelte:fragment>\n\t\t\t\t\t\t\t\t\t</ButtonVaultLink>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</svelte:fragment>\n\t\t\t\t\t</CardProperty>\n\t\t\t\t{/if}\n\t\t\t{/each}\n\t\t\t{#if onWithdrawAll}\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"xs\"\n\t\t\t\t\ton:click={() =>\n\t\t\t\t\t\t$orderDetailQuery.data?.vaultsList &&\n\t\t\t\t\t\tonWithdrawAll(raindexClient, $orderDetailQuery.data.vaultsList)}\n\t\t\t\t\tdisabled={!$orderDetailQuery.data?.vaultsList ||\n\t\t\t\t\t\t$orderDetailQuery.data?.vaultsList?.getWithdrawableVaults()?.value?.length === 0}\n\t\t\t\t\tdata-testid=\"withdraw-all-button\"\n\t\t\t\t>\n\t\t\t\t\t<ArrowUpFromBracketOutline size=\"xs\" class=\"mr-2\" />\n\t\t\t\t\tWithdraw all vaults\n\t\t\t\t</Button>\n\t\t\t{/if}\n\t\t</div>\n\t</svelte:fragment>\n\t<svelte:fragment slot=\"chart\" let:data>\n\t\t<OrderTradesChart order={data} {lightweightChartsTheme} {colorTheme} />\n\t</svelte:fragment>\n\t<svelte:fragment slot=\"below\" let:data>\n\t\t<TanstackOrderQuote order={data} {handleQuoteDebugModal} />\n\t\t<Tabs\n\t\t\tstyle=\"underline\"\n\t\t\tcontentClass=\"mt-4\"\n\t\t\tdefaultClass=\"flex flex-wrap space-x-2 rtl:space-x-reverse mt-4 list-none\"\n\t\t>\n\t\t\t<TabItem title=\"Rainlang source\">\n\t\t\t\t<div class=\"mb-8 overflow-hidden rounded-lg border dark:border-none\">\n\t\t\t\t\t<CodeMirrorRainlang\n\t\t\t\t\t\torder={data}\n\t\t\t\t\t\tcodeMirrorTheme={$codeMirrorTheme}\n\t\t\t\t\t\t{codeMirrorDisabled}\n\t\t\t\t\t\t{codeMirrorStyles}\n\t\t\t\t\t></CodeMirrorRainlang>\n\t\t\t\t</div>\n\t\t\t</TabItem>\n\t\t\t<TabItem open title=\"Trades\">\n\t\t\t\t<OrderTradesListTable order={data} {handleDebugTradeModal} {rpcs} />\n\t\t\t</TabItem>\n\t\t\t<TabItem title=\"Volume\">\n\t\t\t\t<div>TODO: Issue #1989</div>\n\t\t\t\t<!-- <OrderVaultsVolTable order={data} /> -->\n\t\t\t</TabItem>\n\t\t\t<TabItem title=\"APY\">\n\t\t\t\t<div>TODO: Issue #1989</div>\n\t\t\t\t<!-- <OrderApy order={data} /> -->\n\t\t\t</TabItem>\n\t\t</Tabs>\n\t</svelte:fragment>\n</TanstackPageContentDetail>\n","<script lang=\"ts\">\n  import {\n    invalidateTanstackQueries,\n    PageHeader,\n    useRaindexClient,\n  } from '@rainlanguage/ui-components';\n  import { page } from '$app/stores';\n  import { OrderDetail } from '@rainlanguage/ui-components';\n  import { codeMirrorTheme, lightweightChartsTheme, colorTheme } from '$lib/stores/darkMode';\n  import {\n    handleQuoteDebugModal,\n    handleDepositModal,\n    handleWithdrawModal,\n    handleOrderRemoveModal,\n    handleDebugTradeModal,\n  } from '$lib/services/modal';\n  import type {\n    Address,\n    Hex,\n    RaindexClient,\n    RaindexOrder,\n    RaindexVault,\n  } from '@rainlanguage/orderbook';\n  import { useQueryClient } from '@tanstack/svelte-query';\n  import { getAllContexts } from 'svelte';\n\n  const context = getAllContexts();\n\n  const raindexClient = useRaindexClient();\n  const queryClient = useQueryClient();\n\n  const { chainId, orderbook, orderHash } = $page.params;\n  const parsedOrderHash = orderHash as Hex;\n  const parsedChainId = Number(chainId);\n  const orderbookAddress = orderbook as Address;\n\n  let rpcs: string[] = [];\n\n  $: if (raindexClient) {\n    const networks = raindexClient.getNetworkByChainId(parsedChainId);\n    if (networks.error) throw new Error(networks.error.readableMsg);\n    rpcs = networks.value.rpcs;\n  }\n\n  function onRemove(_raindexClient: RaindexClient, order: RaindexOrder) {\n    handleOrderRemoveModal(\n      order,\n      () => {\n        invalidateTanstackQueries(queryClient, [parsedOrderHash]);\n      },\n      context,\n    );\n  }\n\n  function onDeposit(_raindexClient: RaindexClient, vault: RaindexVault) {\n    handleDepositModal(\n      vault,\n      () => {\n        invalidateTanstackQueries(queryClient, [parsedOrderHash]);\n      },\n      context,\n    );\n  }\n\n  function onWithdraw(_raindexClient: RaindexClient, vault: RaindexVault) {\n    handleWithdrawModal(\n      vault,\n      () => {\n        invalidateTanstackQueries(queryClient, [parsedOrderHash]);\n      },\n      context,\n    );\n  }\n</script>\n\n<PageHeader title=\"Order\" pathname={$page.url.pathname} />\n\n<div data-testid=\"order-detail\">\n  <OrderDetail\n    chainId={parsedChainId}\n    {orderbookAddress}\n    orderHash={parsedOrderHash}\n    {colorTheme}\n    {codeMirrorTheme}\n    {lightweightChartsTheme}\n    {handleQuoteDebugModal}\n    {handleDebugTradeModal}\n    {onRemove}\n    {onDeposit}\n    {onWithdraw}\n    {rpcs}\n  />\n</div>\n"],"names":["ctx","twMerge","insert_hydration","target","svg","anchor","append_hydration","path","svg_class_value","getContext","sizes","size","$$props","role","ariaLabel","active","toHex","span","set_data","t1","t1_value","t7_value","attr","a_href_value","a_id_value","div2","div0","div1","dirty","tooltip_changes","t3","t3_value","current","t7","tokenVault","chainId","orderbookAddress","button_spread_levels","buttontab0_changes","buttontab1_changes","buttontab2_changes","buttontab3_changes","timeDelta","click_handler","$$invalidate","click_handler_1","click_handler_2","click_handler_3","div","if_block0","create_if_block_3","create_if_block_2","create_if_block_1","create_if_block","div4","div3","data","loading","emptyMessage","title","priceSymbol","createSeries","lightweightChartsTheme","chartElement","chart","series","timeFrom","timeTo","previousDataLength","setTimeScale","setOptions","$lightweightChartsTheme","p","updateNewDataPoints","point","destroyChart","setupChart","createChart","onMount","onDestroy","$$value","deduplicateByTime","uniqueData","seenTimes","dataPoint","transformAndSortData","options","valueTransform","timeTransform","transformedData","d","sortedData","sortBy","query","$query","prepareHistoricalOrderChartData","takeOrderEntities","colorTheme","timestampSecondsToUTCTimestamp","uniqueTimestamps","finalData","timestamp","objectsWithSameTimestamp","ioratioSum","acc","outputAmountSum","ioratioAverage","order","createQuery","QKEY_ORDER_TRADES_LIST","$colorTheme","now","setNow","startTimestamp","endTimestamp","if_block","t_value","formatTimestampSecondsAsLocal","t","HashType","t2_value","t0","t0_value","t2","button","apptable_changes","rpcs","handleDebugTradeModal","tradesCount","AppTable","TanstackAppTable","item","orderTradesQuery","createInfiniteQuery","pageParam","countResult","tradesResult","count","trades","lastPage","_allPages","lastPageParam","DEFAULT_PAGE_SIZE","span0","span1","displayValue","textContent","editableSpan","dispatch","createEventDispatcher","inputBlurred","handleKeyDown","event","hexToNumber","editablespan_changes","each_value","ensure_array_like","i","each_blocks","br","create_if_block_4","show_if","isHex","h2","refresh_changes","handleQuoteDebugModal","enabled","queryClient","useQueryClient","errToast","addToast","useToasts","refreshQuotes","invalidateTanstackQueries","QKEY_ORDER_QUOTE","copyQuoteError","error","copyError","blockNumber","blur_handler","value","orderModalArg","$orderQuoteQuery","click_handler_4","$$subscribe_orderQuoteQuery","orderQuoteQuery","result","constants_0","child_ctx","args","constants_1","getExplorerLink","create_if_block_7","hash_changes","badgeactive_changes","a","button_changes","codeMirrorDisabled","codeMirrorTheme","orderHash","onRemove","onDeposit","onWithdraw","onWithdrawAll","codeMirrorStyles","matchesAccount","useAccount","raindexClient","useRaindexClient","interval","handleRefresh","vaultTypesMap","vault","vaultsListByType","func","type","$orderDetailQuery","$$subscribe_orderDetailQuery","orderDetailQuery","QKEY_ORDER","context","getAllContexts","orderbook","$page","parsedOrderHash","parsedChainId","_raindexClient","handleOrderRemoveModal","handleDepositModal","handleWithdrawModal","networks"],"mappings":"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","x_google_ignoreList":[0]}