import{s as ut,w as oc,q as Ar,e as re,c as ie,b as oe,f as T,R as Cl,i as O,y as ac,z as sc,A as fc,r as Ro,u as Fo,D as Al,E as Nl,m as Q,F as Il,h as X,G as qe,n as De,H as cc,I as Xb,v as Jt,N as st,a as ee,g as te,O as xt,ad as Kb,x as $e,L as At,C as Zb,t as se,d as fe,j as ke,X as Qb,l as jr,k as gt,J as Ll}from"../chunks/scheduler.D5AhQk_9.js";import{S as ht,i as dt,t as E,b as I,f as Mt,c as W,a as q,m as V,d as H,g as Ee,e as Ce}from"../chunks/index.Y9UT4V4X.js";import{e as Ie}from"../chunks/each.Ce8sEY8x.js";import{u as Eo,F as Jb,a as e_}from"../chunks/asyncDebounce.BeyyoRY2.js";import{t as Xs,B as Ed,a as t_}from"../chunks/darkMode.B5NsPcRX.js";import{i as lc,j as uc,k as hc,T as zt,l as va,a as ft,I as Cd,R as n_,c as r_,o as i_,b as o_,p as a_,M as s_,q as f_,r as c_,s as l_,v as u_,L as h_}from"../chunks/modal.B6hU_23M.js";import{l as Je,i as xa,A as d_,B as p_,S as m_}from"../chunks/index.BrNZflL2.js";import{a as g_,P as b_,B as __,T as dc,b as wr,I as y_,C as w_}from"../chunks/CodeMirrorRainlang.DNXB18Q9.js";import{C as $_,o as v_,E as x_,R as M_}from"../chunks/index.UKMZCmwG.js";import{at as k_,as as Ad,au as Ks,C as S_,M as T_,c as E_,u as C_,a8 as A_,ap as N_}from"../chunks/queryClient.C7JPW2eR.js";import{d as I_,w as Nd}from"../chunks/index.CVS4X9MZ.js";import{p as L_,G as D_,r as Mr,C as fi,S as Id,F as R_,s as Ld,g as Oo}from"../chunks/sentry.zpUroXQM.js";import{g as Dd}from"../chunks/spread.CgU5AtxT.js";import{p as F_}from"../chunks/stores.DVn3eyy9.js";import{g as O_,b as P_}from"../chunks/config.CmCm7d54.js";import{P as B_}from"../chunks/PageHeader.Du46ENG9.js";import{p as z_}from"../chunks/time.gXuYjysI.js";import{D as U_,C as W_,R as q_}from"../chunks/ChevronDownSolid.NOnF8OUd.js";function V_(e){let t,n;const r=e[16].default,i=oc(r,e,e[15],null);let o=[e[1],{class:e[0]}],a={};for(let s=0;s<o.length;s+=1)a=Ar(a,o[s]);return{c(){t=re("p"),i&&i.c(),this.h()},l(s){t=ie(s,"P",{class:!0});var f=oe(t);i&&i.l(f),f.forEach(T),this.h()},h(){Cl(t,a)},m(s,f){O(s,t,f),i&&i.m(t,null),n=!0},p(s,[f]){i&&i.p&&(!n||f&32768)&&ac(i,r,s,s[15],n?fc(r,s[15],f,null):sc(s[15]),null),Cl(t,a=Dd(o,[f&2&&s[1],(!n||f&1)&&{class:s[0]}]))},i(s){n||(E(i,s),n=!0)},o(s){I(i,s),n=!1},d(s){s&&T(t),i&&i.d(s)}}}function H_(e,t,n){let r,i;const o=["color","height","align","justify","italic","firstupper","upperClass","opacity","whitespace","size","space","weight"];let a=Ro(t,o),{$$slots:s={},$$scope:f}=t,{color:c="text-gray-900 dark:text-white"}=t,{height:l="normal"}=t,{align:h="left"}=t,{justify:u=!1}=t,{italic:d=!1}=t,{firstupper:m=!1}=t,{upperClass:p="first-line:uppercase first-line:tracking-widest first-letter:text-7xl first-letter:font-bold first-letter:text-gray-900 dark:first-letter:text-gray-100 first-letter:me-3 first-letter:float-left"}=t,{opacity:g=void 0}=t,{whitespace:b="normal"}=t,{size:_="base"}=t,{space:w=void 0}=t,{weight:y="normal"}=t;const v={xs:"text-xs",sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl","9xl":"text-9xl"},$={thin:"font-thin",extralight:"font-extralight",light:"font-light",normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold",extrabold:"font-extrabold",black:"font-black"},M={tighter:"tracking-tighter",tight:"tracking-tight",normal:"tracking-normal",wide:"tracking-wide",wider:"tracking-wider",widest:"tracking-widest"},k={normal:"leading-normal",relaxed:"leading-relaxed",loose:"leading-loose"},S={left:"text-left",center:"text-center",right:"text-right"},A={normal:"whitespace-normal",nowrap:"whitespace-nowrap",pre:"whitespace-pre",preline:"whitespace-pre-line",prewrap:"whitespace-pre-wrap"};return e.$$set=x=>{n(23,t=Ar(Ar({},t),Fo(x))),n(1,a=Ro(t,o)),"color"in x&&n(2,c=x.color),"height"in x&&n(3,l=x.height),"align"in x&&n(4,h=x.align),"justify"in x&&n(5,u=x.justify),"italic"in x&&n(6,d=x.italic),"firstupper"in x&&n(7,m=x.firstupper),"upperClass"in x&&n(8,p=x.upperClass),"opacity"in x&&n(9,g=x.opacity),"whitespace"in x&&n(10,b=x.whitespace),"size"in x&&n(11,_=x.size),"space"in x&&n(12,w=x.space),"weight"in x&&n(13,y=x.weight),"$$scope"in x&&n(15,f=x.$$scope)},e.$$.update=()=>{e.$$.dirty&516&&n(14,r=c.split(" ").map(x=>x.trim()).map(x=>x+"/"+String(g)).join(" ")),n(0,i=Xs(_&&v[_],g&&r||c&&c,l&&k[l],y&&$[y],w&&M[w],h&&S[h],u&&"text-justify",d&&"italic",m&&p,b&&A[b],t.class))},t=Fo(t),[i,a,c,l,h,u,d,m,p,g,b,_,w,y,r,f,s]}class Dl extends ht{constructor(t){super(),dt(this,t,H_,V_,ut,{color:2,height:3,align:4,justify:5,italic:6,firstupper:7,upperClass:8,opacity:9,whitespace:10,size:11,space:12,weight:13})}}function Y_(e){let t,n,r,i,o,a=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},e[7],{class:r=Xs("shrink-0",e[6][e[0]],e[8].class)},{role:e[1]},{"aria-label":e[5]},{viewBox:"0 0 20 18"}],s={};for(let f=0;f<a.length;f+=1)s=Ar(s,a[f]);return{c(){t=Al("svg"),n=Al("path"),this.h()},l(f){t=Nl(f,"svg",{xmlns:!0,fill:!0,class:!0,role:!0,"aria-label":!0,viewBox:!0});var c=oe(t);n=Nl(c,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),oe(n).forEach(T),c.forEach(T),this.h()},h(){Q(n,"stroke","currentColor"),Q(n,"stroke-linecap",e[2]),Q(n,"stroke-linejoin",e[3]),Q(n,"stroke-width",e[4]),Q(n,"d","M15 13v2.833A1.166 1.166 0 0 1 13.833 17H2.167A1.167 1.167 0 0 1 1 15.833V4.167A1.166 1.166 0 0 1 2.167 3h6.616m5.521-.156 2.852 2.852m1.253-4.105a2.017 2.017 0 0 1 0 2.852l-7.844 7.844L7 13l.713-3.565 7.844-7.844a2.016 2.016 0 0 1 2.852 0Z"),Il(t,s)},m(f,c){O(f,t,c),X(t,n),i||(o=[qe(t,"click",e[9]),qe(t,"keydown",e[10]),qe(t,"keyup",e[11]),qe(t,"focus",e[12]),qe(t,"blur",e[13]),qe(t,"mouseenter",e[14]),qe(t,"mouseleave",e[15]),qe(t,"mouseover",e[16]),qe(t,"mouseout",e[17])],i=!0)},p(f,[c]){c&4&&Q(n,"stroke-linecap",f[2]),c&8&&Q(n,"stroke-linejoin",f[3]),c&16&&Q(n,"stroke-width",f[4]),Il(t,s=Dd(a,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},c&128&&f[7],c&257&&r!==(r=Xs("shrink-0",f[6][f[0]],f[8].class))&&{class:r},c&2&&{role:f[1]},c&32&&{"aria-label":f[5]},{viewBox:"0 0 20 18"}]))},i:De,o:De,d(f){f&&T(t),i=!1,cc(o)}}}function j_(e,t,n){const r=["size","role","strokeLinecap","strokeLinejoin","strokeWidth","ariaLabel"];let i=Ro(t,r);const o=Xb("iconCtx")??{},a={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:s=o.size||"md"}=t,{role:f=o.role||"img"}=t,{strokeLinecap:c=o.strokeLinecap||"round"}=t,{strokeLinejoin:l=o.strokeLinejoin||"round"}=t,{strokeWidth:h=o.strokeWidth||"2"}=t,{ariaLabel:u="edit outline"}=t;function d($){Jt.call(this,e,$)}function m($){Jt.call(this,e,$)}function p($){Jt.call(this,e,$)}function g($){Jt.call(this,e,$)}function b($){Jt.call(this,e,$)}function _($){Jt.call(this,e,$)}function w($){Jt.call(this,e,$)}function y($){Jt.call(this,e,$)}function v($){Jt.call(this,e,$)}return e.$$set=$=>{n(8,t=Ar(Ar({},t),Fo($))),n(7,i=Ro(t,r)),"size"in $&&n(0,s=$.size),"role"in $&&n(1,f=$.role),"strokeLinecap"in $&&n(2,c=$.strokeLinecap),"strokeLinejoin"in $&&n(3,l=$.strokeLinejoin),"strokeWidth"in $&&n(4,h=$.strokeWidth),"ariaLabel"in $&&n(5,u=$.ariaLabel)},t=Fo(t),[s,f,c,l,h,u,a,i,t,d,m,p,g,b,_,w,y,v]}class G_ extends ht{constructor(t){super(),dt(this,t,j_,Y_,ut,{size:0,role:1,strokeLinecap:2,strokeLinejoin:3,strokeWidth:4,ariaLabel:5})}}function Rl(e,t,n){const r=e.slice();return r[9]=t[n][0],r[10]=t[n][1],r}const X_=e=>({option:e&8,ref:e&8}),Fl=e=>({option:e[10],ref:e[9]}),K_=e=>({selectedRef:e&1,selectedOption:e&3}),Ol=e=>({selectedRef:e[0],selectedOption:e[0]!==void 0?e[1][e[0]]:void 0});function Z_(e){let t,n,r,i;const o=e[4].content,a=oc(o,e,e[7],Ol);return r=new W_({props:{class:"mx-2 h-3 w-3 text-black dark:text-white"}}),{c(){t=re("div"),a&&a.c(),n=ee(),W(r.$$.fragment),this.h()},l(s){t=ie(s,"DIV",{class:!0});var f=oe(t);a&&a.l(f),f.forEach(T),n=te(s),q(r.$$.fragment,s),this.h()},h(){Q(t,"class","flex-grow overflow-hidden")},m(s,f){O(s,t,f),a&&a.m(t,null),O(s,n,f),V(r,s,f),i=!0},p(s,f){a&&a.p&&(!i||f&131)&&ac(a,o,s,s[7],i?fc(o,s[7],f,K_):sc(s[7]),Ol)},i(s){i||(E(a,s),E(r.$$.fragment,s),i=!0)},o(s){I(a,s),I(r.$$.fragment,s),i=!1},d(s){s&&(T(t),T(n)),a&&a.d(s),H(r,s)}}}function Q_(e){let t,n,r;const i=e[4].option,o=oc(i,e,e[7],Fl);return{c(){t=re("div"),o&&o.c(),n=ee(),this.h()},l(a){t=ie(a,"DIV",{class:!0});var s=oe(t);o&&o.l(s),s.forEach(T),n=te(a),this.h()},h(){Q(t,"class","ml-2")},m(a,s){O(a,t,s),o&&o.m(t,null),O(a,n,s),r=!0},p(a,s){o&&o.p&&(!r||s&136)&&ac(o,i,a,a[7],r?fc(i,a[7],s,X_):sc(a[7]),Fl)},i(a){r||(E(o,a),r=!0)},o(a){I(o,a),r=!1},d(a){a&&(T(t),T(n)),o&&o.d(a)}}}function Pl(e){let t,n,r;function i(a){e[5](a)}let o={value:e[9],class:"w-full rounded-lg p-3 hover:bg-gray-100 dark:hover:bg-gray-600",$$slots:{default:[Q_]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.group=e[0]),t=new q_({props:o}),st.push(()=>Mt(t,"group",i)),{c(){W(t.$$.fragment)},l(a){q(t.$$.fragment,a)},m(a,s){V(t,a,s),r=!0},p(a,s){const f={};s&8&&(f.value=a[9]),s&136&&(f.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,f.group=a[0],xt(()=>n=!1)),t.$set(f)},i(a){r||(E(t.$$.fragment,a),r=!0)},o(a){I(t.$$.fragment,a),r=!1},d(a){H(t,a)}}}function J_(e){let t,n,r=Ie(e[3]),i=[];for(let a=0;a<r.length;a+=1)i[a]=Pl(Rl(e,r,a));const o=a=>I(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=$e()},l(a){for(let s=0;s<i.length;s+=1)i[s].l(a);t=$e()},m(a,s){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(a,s);O(a,t,s),n=!0},p(a,s){if(s&137){r=Ie(a[3]);let f;for(f=0;f<r.length;f+=1){const c=Rl(a,r,f);i[f]?(i[f].p(c,s),E(i[f],1)):(i[f]=Pl(c),i[f].c(),E(i[f],1),i[f].m(t.parentNode,t))}for(Ee(),f=r.length;f<i.length;f+=1)o(f);Ce()}},i(a){if(!n){for(let s=0;s<r.length;s+=1)E(i[s]);n=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)I(i[s]);n=!1},d(a){a&&T(t),At(i,a)}}}function e2(e){let t,n,r,i,o;t=new Ed({props:{color:"alternative",class:"flex w-full justify-between overflow-hidden overflow-ellipsis pl-2 pr-0 text-left","data-testid":"dropdown-button",$$slots:{default:[Z_]},$$scope:{ctx:e}}});function a(f){e[6](f)}let s={"data-testid":"dropdown",$$slots:{default:[J_]},$$scope:{ctx:e}};return e[2]!==void 0&&(s.open=e[2]),r=new U_({props:s}),st.push(()=>Mt(r,"open",a)),{c(){W(t.$$.fragment),n=ee(),W(r.$$.fragment)},l(f){q(t.$$.fragment,f),n=te(f),q(r.$$.fragment,f)},m(f,c){V(t,f,c),O(f,n,c),V(r,f,c),o=!0},p(f,[c]){const l={};c&131&&(l.$$scope={dirty:c,ctx:f}),t.$set(l);const h={};c&137&&(h.$$scope={dirty:c,ctx:f}),!i&&c&4&&(i=!0,h.open=f[2],xt(()=>i=!1)),r.$set(h)},i(f){o||(E(t.$$.fragment,f),E(r.$$.fragment,f),o=!0)},o(f){I(t.$$.fragment,f),I(r.$$.fragment,f),o=!1},d(f){f&&T(n),H(t,f),H(r,f)}}}function t2(e,t,n){let r,{$$slots:i={},$$scope:o}=t;const a=Kb();let{options:s={}}=t,{value:f=void 0}=t,c=!1;function l(u){f=u,n(0,f)}function h(u){c=u,n(2,c),n(0,f)}return e.$$set=u=>{"options"in u&&n(1,s=u.options),"value"in u&&n(0,f=u.value),"$$scope"in u&&n(7,o=u.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&(a("change",{value:f}),f&&n(2,c=!1)),e.$$.dirty&2&&n(3,r=Je.sortBy(Object.entries(s),u=>u[0]))},[f,s,c,r,i,l,h,o]}class n2 extends ht{constructor(t){super(),dt(this,t,t2,e2,ut,{options:1,value:0})}}function r2(e){let t,n,r;return n=new $_({props:{value:e[0]||"",extensions:[e[3]],theme:e[4],readonly:e[1],useTab:!0,tabSize:2,styles:{"&":{width:"100%"},...e[2]}}}),n.$on("change",e[6]),n.$on("ready",e[7]),{c(){t=re("div"),W(n.$$.fragment),this.h()},l(i){t=ie(i,"DIV",{"data-testid":!0});var o=oe(t);q(n.$$.fragment,o),o.forEach(T),this.h()},h(){Q(t,"data-testid","codemirror-dotrain")},m(i,o){O(i,t,o),V(n,t,null),r=!0},p(i,[o]){const a={};o&1&&(a.value=i[0]||""),o&8&&(a.extensions=[i[3]]),o&16&&(a.theme=i[4]),o&2&&(a.readonly=i[1]),o&4&&(a.styles={"&":{width:"100%"},...i[2]}),n.$set(a)},i(i){r||(E(n.$$.fragment,i),r=!0)},o(i){I(n.$$.fragment,i),r=!1},d(i){i&&T(t),H(n)}}}function i2(e,t,n){let{rainlangText:r=void 0}=t,{disabled:i=!1}=t,{styles:o={}}=t,{rainlangExtension:a}=t,{codeMirrorTheme:s}=t,{onTextChange:f}=t;const c=h=>{f(h.detail)},l=h=>{v_(h.detail)};return e.$$set=h=>{"rainlangText"in h&&n(0,r=h.rainlangText),"disabled"in h&&n(1,i=h.disabled),"styles"in h&&n(2,o=h.styles),"rainlangExtension"in h&&n(3,a=h.rainlangExtension),"codeMirrorTheme"in h&&n(4,s=h.codeMirrorTheme),"onTextChange"in h&&n(5,f=h.onTextChange)},[r,i,o,a,s,f,c,l]}class o2 extends ht{constructor(t){super(),dt(this,t,i2,r2,ut,{rainlangText:0,disabled:1,styles:2,rainlangExtension:3,codeMirrorTheme:4,onTextChange:5})}}async function a2(e){return L_({__tauriModule:"Clipboard",message:{cmd:"writeText",data:e}})}function s2(e,t,n,r,i){const o=D_(e,t,r,i),a=Nd(!1),{subscribe:s}=I_([o,a],([c,l])=>({value:c,isFetching:l}));async function f(c){a.set(!0);try{const l=await n(c);o.set(l)}catch(l){Mr(l),fi.error(l)}a.set(!1)}return{subscribe:s,set:c=>o.set(c.value),fetch:f}}const f2=(e,t)=>s2(e,0,t,n=>n.toString(),n=>parseInt(n)),Bl=f2("forkBlockNumber",async e=>k_(e));async function c2(e,t,n,r){try{return await Bl.fetch(e),await xa("call_lsp_problems",{textDocument:t,rpcs:e,blockNumber:Zb(Bl).value,bindings:n,deployer:r})}catch(i){return Mr(i,Id.Info),[{msg:typeof i=="string"?i:i instanceof Error?i.message:"something went wrong!",position:[0,0],code:x_.NativeParserError}]}}const l2=async(e,t)=>xa("make_charts",{dotrain:e,settings:t}),u2=async(e,t,n)=>xa("make_deployment_debug",{dotrain:e,settings:t,blockNumbers:n});function et(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ma(e){let t,n,r;e.length!==2?(t=et,n=(s,f)=>et(e(s),f),r=(s,f)=>e(s)-f):(t=e===et||e===Pi?e:h2,n=e,r=e);function i(s,f,c=0,l=s.length){if(c<l){if(t(f,f)!==0)return l;do{const h=c+l>>>1;n(s[h],f)<0?c=h+1:l=h}while(c<l)}return c}function o(s,f,c=0,l=s.length){if(c<l){if(t(f,f)!==0)return l;do{const h=c+l>>>1;n(s[h],f)<=0?c=h+1:l=h}while(c<l)}return c}function a(s,f,c=0,l=s.length){const h=i(s,f,c,l-1);return h>c&&r(s[h-1],f)>-r(s[h],f)?h-1:h}return{left:i,center:a,right:o}}function h2(){return 0}function Rd(e){return e===null?NaN:+e}function*d2(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const p2=Ma(et),ka=p2.right;Ma(Rd).center;function pc(e,t){let n=0;for(let r of e)r!=null&&(r=+r)>=r&&++n;return n}function m2(e){return e.length|0}function g2(e){return!(e>0)}function b2(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function _2(e){return t=>e(...t)}function y2(...e){const t=typeof e[e.length-1]=="function"&&_2(e.pop());e=e.map(b2);const n=e.map(m2),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(g2))return o;for(;;){o.push(i.map((s,f)=>e[f][s]));let a=r;for(;++i[a]===n[a];){if(a===0)return t?o.map(t):o;i[a--]=0}}}function w2(e,t){var n=0;return Float64Array.from(e,r=>n+=+r||0)}function Fd(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i))}if(n>1)return o/(n-1)}function Od(e,t){const n=Fd(e,t);return n&&Math.sqrt(n)}function _t(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Qn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=t+o,s=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);s&&(n[r++]=s),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class Jn extends Map{constructor(t,n=zd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Zs(this,t))}has(t){return super.has(Zs(this,t))}set(t,n){return super.set(Pd(this,t),n)}delete(t){return super.delete(Bd(this,t))}}class Sa extends Set{constructor(t,n=zd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(Zs(this,t))}add(t){return super.add(Pd(this,t))}delete(t){return super.delete(Bd(this,t))}}function Zs({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Pd({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Bd({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function zd(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Qs(e){return e}function Ta(e,...t){return mc(e,Qs,Qs,t)}function kr(e,t,...n){return mc(e,Qs,t,n)}function $2(e,t,...n){return mc(e,Array.from,t,n)}function mc(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new Jn,f=r[a++];let c=-1;for(const l of o){const h=f(l,++c,o),u=s.get(h);u?u.push(l):s.set(h,[l])}for(const[l,h]of s)s.set(l,i(h,a));return t(s)}(e,0)}function v2(e,t){return Array.from(t,n=>e[n])}function Po(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(const a of t){const s=Bo(a[i],a[o]);if(s)return s}})):(n=e.map(n),r.sort((i,o)=>Bo(n[i],n[o]))),v2(e,r)}return e.sort(Ud(n))}function Ud(e=et){if(e===et)return Bo;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Bo(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function gc(e,t,n){return(t.length!==2?Po(kr(e,t,n),([r,i],[o,a])=>et(i,a)||et(r,o)):Po(Ta(e,n),([r,i],[o,a])=>t(i,a)||et(r,o))).map(([r])=>r)}const x2=Math.sqrt(50),M2=Math.sqrt(10),k2=Math.sqrt(2);function zo(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=x2?10:o>=M2?5:o>=k2?2:1;let s,f,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),f=Math.round(t*c),s/c<e&&++s,f/c>t&&--f,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),f=Math.round(t/c),s*c<e&&++s,f*c>t&&--f),f<s&&.5<=n&&n<2?zo(e,t,n*2):[s,f,c]}function xi(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?zo(t,e,n):zo(e,t,n);if(!(o>=i))return[];const s=o-i+1,f=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)f[c]=(o-c)/-a;else for(let c=0;c<s;++c)f[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)f[c]=(i+c)/-a;else for(let c=0;c<s;++c)f[c]=(i+c)*a;return f}function Uo(e,t,n){return t=+t,e=+e,n=+n,zo(e,t,n)[2]}function Js(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Uo(t,e,n):Uo(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function S2(e){return Math.max(1,Math.ceil(Math.log(pc(e))/Math.LN2)+1)}function Nt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function T2(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function pn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function E2(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Wd(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Bo:Ud(i);r>n;){if(r-n>600){const f=r-n+1,c=t-n+1,l=Math.log(f),h=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*h*(f-h)/f)*(c-f/2<0?-1:1),d=Math.max(n,Math.floor(t-c*h/f+u)),m=Math.min(r,Math.floor(t+(f-c)*h/f+u));Wd(e,t,d,m,i)}const o=e[t];let a=n,s=r;for(ti(e,n,t),i(e[r],o)>0&&ti(e,n,r);a<s;){for(ti(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?ti(e,n,s):(++s,ti(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function ti(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function qd(e,t=et){let n,r=!1;if(t.length===1){let i;for(const o of e){const a=t(o);(r?et(a,i)>0:et(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Nr(e,t,n){if(e=Float64Array.from(d2(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return pn(e);if(t>=1)return Nt(e);var r,i=(r-1)*t,o=Math.floor(i),a=Nt(Wd(e,o).subarray(0,o+1)),s=pn(e.subarray(o+1));return a+(s-a)*(i-o)}}function C2(e,t,n=Rd){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function A2(e,t,n){const r=pc(e),i=Nr(e,.75)-Nr(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function Vd(e,t,n){const r=pc(e),i=Od(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function N2(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function ef(e,t){return Nr(e,.5,t)}function*I2(e){for(const t of e)yield*t}function Hd(e){return Array.from(I2(e))}function L2(e,t){const n=new Jn;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function D2(e,t=R2){const n=[];let r,i=!1;for(const o of e)i&&n.push(t(r,o)),r=o,i=!0;return n}function R2(e,t){return[e,t]}function tf(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Cn(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Wo(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function F2(e){return e}var O2=3,zl=1e-6;function P2(e){return"translate("+e+",0)"}function B2(e){return t=>+e(t)}function z2(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function U2(){return!this.__axis}function W2(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,l="y",h=P2;function u(d){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),p=i??(t.tickFormat?t.tickFormat.apply(t,n):F2),g=Math.max(o,0)+s,b=t.range(),_=+b[0]+f,w=+b[b.length-1]+f,y=(t.bandwidth?z2:B2)(t.copy(),f),v=d.selection?d.selection():d,$=v.selectAll(".domain").data([null]),M=v.selectAll(".tick").data(m,t).order(),k=M.exit(),S=M.enter().append("g").attr("class","tick"),A=M.select("line"),x=M.select("text");$=$.merge($.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(S),A=A.merge(S.append("line").attr("stroke","currentColor").attr(l+"2",c*o)),x=x.merge(S.append("text").attr("fill","currentColor").attr(l,c*g).attr("dy","0.71em")),d!==v&&($=$.transition(d),M=M.transition(d),A=A.transition(d),x=x.transition(d),k=k.transition(d).attr("opacity",zl).attr("transform",function(B){return isFinite(B=y(B))?h(B+f):this.getAttribute("transform")}),S.attr("opacity",zl).attr("transform",function(B){var R=this.parentNode.__axis;return h((R&&isFinite(R=R(B))?R:y(B))+f)})),k.remove(),$.attr("d",a?"M"+_+","+c*a+"V"+f+"H"+w+"V"+c*a:"M"+_+","+f+"H"+w),M.attr("opacity",1).attr("transform",function(B){return h(y(B)+f)}),A.attr(l+"2",c*o),x.attr(l,c*g).text(p),v.filter(U2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),v.each(function(){this.__axis=y})}return u.scale=function(d){return arguments.length?(t=d,u):t},u.ticks=function(){return n=Array.from(arguments),u},u.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),u):n.slice()},u.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),u):r&&r.slice()},u.tickFormat=function(d){return arguments.length?(i=d,u):i},u.tickSize=function(d){return arguments.length?(o=a=+d,u):o},u.tickSizeInner=function(d){return arguments.length?(o=+d,u):o},u.tickSizeOuter=function(d){return arguments.length?(a=+d,u):a},u.tickPadding=function(d){return arguments.length?(s=+d,u):s},u.offset=function(d){return arguments.length?(f=+d,u):f},u}function q2(e){return W2(O2,e)}var V2={value:()=>{}};function Yd(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Co(n)}function Co(e){this._=e}function H2(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Co.prototype=Yd.prototype={constructor:Co,on:function(e,t){var n=this._,r=H2(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=Y2(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=Ul(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Ul(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Co(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Y2(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Ul(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=V2,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var nf="http://www.w3.org/1999/xhtml";const Ir={svg:"http://www.w3.org/2000/svg",xhtml:nf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ea(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ir.hasOwnProperty(t)?{space:Ir[t],local:e}:e}function j2(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===nf&&t.documentElement.namespaceURI===nf?t.createElement(e):t.createElementNS(n,e)}}function G2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ca(e){var t=Ea(e);return(t.local?G2:j2)(t)}function X2(){}function bc(e){return e==null?X2:function(){return this.querySelector(e)}}function K2(e){typeof e!="function"&&(e=bc(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),f,c,l=0;l<a;++l)(f=o[l])&&(c=e.call(f,f.__data__,l,o))&&("__data__"in f&&(c.__data__=f.__data__),s[l]=c);return new ct(r,this._parents)}function Z2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Q2(){return[]}function jd(e){return e==null?Q2:function(){return this.querySelectorAll(e)}}function J2(e){return function(){return Z2(e.apply(this,arguments))}}function ey(e){typeof e=="function"?e=J2(e):e=jd(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,f,c=0;c<s;++c)(f=a[c])&&(r.push(e.call(f,f.__data__,c,a)),i.push(f));return new ct(r,i)}function Gd(e){return function(){return this.matches(e)}}function Xd(e){return function(t){return t.matches(e)}}var ty=Array.prototype.find;function ny(e){return function(){return ty.call(this.children,e)}}function ry(){return this.firstElementChild}function iy(e){return this.select(e==null?ry:ny(typeof e=="function"?e:Xd(e)))}var oy=Array.prototype.filter;function ay(){return Array.from(this.children)}function sy(e){return function(){return oy.call(this.children,e)}}function fy(e){return this.selectAll(e==null?ay:sy(typeof e=="function"?e:Xd(e)))}function cy(e){typeof e!="function"&&(e=Gd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],f,c=0;c<a;++c)(f=o[c])&&e.call(f,f.__data__,c,o)&&s.push(f);return new ct(r,this._parents)}function Kd(e){return new Array(e.length)}function ly(){return new ct(this._enter||this._groups.map(Kd),this._parents)}function qo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}qo.prototype={constructor:qo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function uy(e){return function(){return e}}function hy(e,t,n,r,i,o){for(var a=0,s,f=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new qo(e,o[a]);for(;a<f;++a)(s=t[a])&&(i[a]=s)}function dy(e,t,n,r,i,o,a){var s,f,c=new Map,l=t.length,h=o.length,u=new Array(l),d;for(s=0;s<l;++s)(f=t[s])&&(u[s]=d=a.call(f,f.__data__,s,t)+"",c.has(d)?i[s]=f:c.set(d,f));for(s=0;s<h;++s)d=a.call(e,o[s],s,o)+"",(f=c.get(d))?(r[s]=f,f.__data__=o[s],c.delete(d)):n[s]=new qo(e,o[s]);for(s=0;s<l;++s)(f=t[s])&&c.get(u[s])===f&&(i[s]=f)}function py(e){return e.__data__}function my(e,t){if(!arguments.length)return Array.from(this,py);var n=t?dy:hy,r=this._parents,i=this._groups;typeof e!="function"&&(e=uy(e));for(var o=i.length,a=new Array(o),s=new Array(o),f=new Array(o),c=0;c<o;++c){var l=r[c],h=i[c],u=h.length,d=gy(e.call(l,l&&l.__data__,c,r)),m=d.length,p=s[c]=new Array(m),g=a[c]=new Array(m),b=f[c]=new Array(u);n(l,h,p,g,b,d,t);for(var _=0,w=0,y,v;_<m;++_)if(y=p[_]){for(_>=w&&(w=_+1);!(v=g[w])&&++w<m;);y._next=v||null}}return a=new ct(a,r),a._enter=s,a._exit=f,a}function gy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function by(){return new ct(this._exit||this._groups.map(Kd),this._parents)}function _y(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function yy(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),f=0;f<a;++f)for(var c=n[f],l=r[f],h=c.length,u=s[f]=new Array(h),d,m=0;m<h;++m)(d=c[m]||l[m])&&(u[m]=d);for(;f<i;++f)s[f]=n[f];return new ct(s,this._parents)}function wy(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function $y(e){e||(e=vy);function t(h,u){return h&&u?e(h.__data__,u.__data__):!h-!u}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,f=i[o]=new Array(s),c,l=0;l<s;++l)(c=a[l])&&(f[l]=c);f.sort(t)}return new ct(i,this._parents).order()}function vy(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xy(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function My(){return Array.from(this)}function ky(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Sy(){let e=0;for(const t of this)++e;return e}function Ty(){return!this.node()}function Ey(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function Cy(e){return function(){this.removeAttribute(e)}}function Ay(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ny(e,t){return function(){this.setAttribute(e,t)}}function Iy(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ly(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Dy(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ry(e,t){var n=Ea(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Ay:Cy:typeof t=="function"?n.local?Dy:Ly:n.local?Iy:Ny)(n,t))}function Zd(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Fy(e){return function(){this.style.removeProperty(e)}}function Oy(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Py(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function By(e,t,n){return arguments.length>1?this.each((t==null?Fy:typeof t=="function"?Py:Oy)(e,t,n??"")):Lr(this.node(),e)}function Lr(e,t){return e.style.getPropertyValue(t)||Zd(e).getComputedStyle(e,null).getPropertyValue(t)}function zy(e){return function(){delete this[e]}}function Uy(e,t){return function(){this[e]=t}}function Wy(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function qy(e,t){return arguments.length>1?this.each((t==null?zy:typeof t=="function"?Wy:Uy)(e,t)):this.node()[e]}function Qd(e){return e.trim().split(/^|\s+/)}function _c(e){return e.classList||new Jd(e)}function Jd(e){this._node=e,this._names=Qd(e.getAttribute("class")||"")}Jd.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function e0(e,t){for(var n=_c(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function t0(e,t){for(var n=_c(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Vy(e){return function(){e0(this,e)}}function Hy(e){return function(){t0(this,e)}}function Yy(e,t){return function(){(t.apply(this,arguments)?e0:t0)(this,e)}}function jy(e,t){var n=Qd(e+"");if(arguments.length<2){for(var r=_c(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Yy:t?Vy:Hy)(n,t))}function Gy(){this.textContent=""}function Xy(e){return function(){this.textContent=e}}function Ky(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Zy(e){return arguments.length?this.each(e==null?Gy:(typeof e=="function"?Ky:Xy)(e)):this.node().textContent}function Qy(){this.innerHTML=""}function Jy(e){return function(){this.innerHTML=e}}function ew(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function tw(e){return arguments.length?this.each(e==null?Qy:(typeof e=="function"?ew:Jy)(e)):this.node().innerHTML}function nw(){this.nextSibling&&this.parentNode.appendChild(this)}function rw(){return this.each(nw)}function iw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ow(){return this.each(iw)}function aw(e){var t=typeof e=="function"?e:Ca(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function sw(){return null}function fw(e,t){var n=typeof e=="function"?e:Ca(e),r=t==null?sw:typeof t=="function"?t:bc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function cw(){var e=this.parentNode;e&&e.removeChild(this)}function lw(){return this.each(cw)}function uw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dw(e){return this.select(e?hw:uw)}function pw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function mw(e){return function(t){e.call(this,t,this.__data__)}}function gw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function bw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function _w(e,t,n){return function(){var r=this.__on,i,o=mw(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function yw(e,t,n){var r=gw(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var f=0,c=s.length,l;f<c;++f)for(i=0,l=s[f];i<o;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(s=t?_w:bw,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function n0(e,t,n){var r=Zd(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ww(e,t){return function(){return n0(this,e,t)}}function $w(e,t){return function(){return n0(this,e,t.apply(this,arguments))}}function vw(e,t){return this.each((typeof t=="function"?$w:ww)(e,t))}function*xw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var r0=[null];function ct(e,t){this._groups=e,this._parents=t}function Bi(){return new ct([[document.documentElement]],r0)}function Mw(){return this}ct.prototype=Bi.prototype={constructor:ct,select:K2,selectAll:ey,selectChild:iy,selectChildren:fy,filter:cy,data:my,enter:ly,exit:by,join:_y,merge:yy,selection:Mw,order:wy,sort:$y,call:xy,nodes:My,node:ky,size:Sy,empty:Ty,each:Ey,attr:Ry,style:By,property:qy,classed:jy,text:Zy,html:tw,raise:rw,lower:ow,append:aw,insert:fw,remove:lw,clone:dw,datum:pw,on:yw,dispatch:vw,[Symbol.iterator]:xw};function Sr(e){return typeof e=="string"?new ct([[document.querySelector(e)]],[document.documentElement]):new ct([[e]],r0)}function kw(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Sw(e,t){if(e=kw(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function Gr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zi(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Fn(){}var er=.7,Dr=1/er,Tr="\\s*([+-]?\\d+)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tw=/^#([0-9a-f]{3,8})$/,Ew=new RegExp(`^rgb\\(${Tr},${Tr},${Tr}\\)$`),Cw=new RegExp(`^rgb\\(${Ht},${Ht},${Ht}\\)$`),Aw=new RegExp(`^rgba\\(${Tr},${Tr},${Tr},${Mi}\\)$`),Nw=new RegExp(`^rgba\\(${Ht},${Ht},${Ht},${Mi}\\)$`),Iw=new RegExp(`^hsl\\(${Mi},${Ht},${Ht}\\)$`),Lw=new RegExp(`^hsla\\(${Mi},${Ht},${Ht},${Mi}\\)$`),Wl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gr(Fn,tr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ql,formatHex:ql,formatHex8:Dw,formatHsl:Rw,formatRgb:Vl,toString:Vl});function ql(){return this.rgb().formatHex()}function Dw(){return this.rgb().formatHex8()}function Rw(){return i0(this).formatHsl()}function Vl(){return this.rgb().formatRgb()}function tr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Tw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Hl(t):n===3?new ze(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?so(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?so(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ew.exec(e))?new ze(t[1],t[2],t[3],1):(t=Cw.exec(e))?new ze(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Aw.exec(e))?so(t[1],t[2],t[3],t[4]):(t=Nw.exec(e))?so(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Iw.exec(e))?Gl(t[1],t[2]/100,t[3]/100,1):(t=Lw.exec(e))?Gl(t[1],t[2]/100,t[3]/100,t[4]):Wl.hasOwnProperty(e)?Hl(Wl[e]):e==="transparent"?new ze(NaN,NaN,NaN,0):null}function Hl(e){return new ze(e>>16&255,e>>8&255,e&255,1)}function so(e,t,n,r){return r<=0&&(e=t=n=NaN),new ze(e,t,n,r)}function yc(e){return e instanceof Fn||(e=tr(e)),e?(e=e.rgb(),new ze(e.r,e.g,e.b,e.opacity)):new ze}function An(e,t,n,r){return arguments.length===1?yc(e):new ze(e,t,n,r??1)}function ze(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Gr(ze,An,zi(Fn,{brighter(e){return e=e==null?Dr:Math.pow(Dr,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?er:Math.pow(er,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ze(Xn(this.r),Xn(this.g),Xn(this.b),Vo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yl,formatHex:Yl,formatHex8:Fw,formatRgb:jl,toString:jl}));function Yl(){return`#${jn(this.r)}${jn(this.g)}${jn(this.b)}`}function Fw(){return`#${jn(this.r)}${jn(this.g)}${jn(this.b)}${jn((isNaN(this.opacity)?1:this.opacity)*255)}`}function jl(){const e=Vo(this.opacity);return`${e===1?"rgb(":"rgba("}${Xn(this.r)}, ${Xn(this.g)}, ${Xn(this.b)}${e===1?")":`, ${e})`}`}function Vo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jn(e){return e=Xn(e),(e<16?"0":"")+e.toString(16)}function Gl(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Et(e,t,n,r)}function i0(e){if(e instanceof Et)return new Et(e.h,e.s,e.l,e.opacity);if(e instanceof Fn||(e=tr(e)),!e)return new Et;if(e instanceof Et)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,f=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=f<.5?o+i:2-o-i,a*=60):s=f>0&&f<1?0:a,new Et(a,s,f,e.opacity)}function rf(e,t,n,r){return arguments.length===1?i0(e):new Et(e,t,n,r??1)}function Et(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Gr(Et,rf,zi(Fn,{brighter(e){return e=e==null?Dr:Math.pow(Dr,e),new Et(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?er:Math.pow(er,e),new Et(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ze(hs(e>=240?e-240:e+120,i,r),hs(e,i,r),hs(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Et(Xl(this.h),fo(this.s),fo(this.l),Vo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vo(this.opacity);return`${e===1?"hsl(":"hsla("}${Xl(this.h)}, ${fo(this.s)*100}%, ${fo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Xl(e){return e=(e||0)%360,e<0?e+360:e}function fo(e){return Math.max(0,Math.min(1,e||0))}function hs(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const o0=Math.PI/180,a0=180/Math.PI,Ho=18,s0=.96422,f0=1,c0=.82521,l0=4/29,Er=6/29,u0=3*Er*Er,Ow=Er*Er*Er;function h0(e){if(e instanceof Yt)return new Yt(e.l,e.a,e.b,e.opacity);if(e instanceof cn)return d0(e);e instanceof ze||(e=yc(e));var t=gs(e.r),n=gs(e.g),r=gs(e.b),i=ds((.2225045*t+.7168786*n+.0606169*r)/f0),o,a;return t===n&&n===r?o=a=i:(o=ds((.4360747*t+.3850649*n+.1430804*r)/s0),a=ds((.0139322*t+.0971045*n+.7141733*r)/c0)),new Yt(116*i-16,500*(o-i),200*(i-a),e.opacity)}function of(e,t,n,r){return arguments.length===1?h0(e):new Yt(e,t,n,r??1)}function Yt(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Gr(Yt,of,zi(Fn,{brighter(e){return new Yt(this.l+Ho*(e??1),this.a,this.b,this.opacity)},darker(e){return new Yt(this.l-Ho*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=s0*ps(t),e=f0*ps(e),n=c0*ps(n),new ze(ms(3.1338561*t-1.6168667*e-.4906146*n),ms(-.9787684*t+1.9161415*e+.033454*n),ms(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function ds(e){return e>Ow?Math.pow(e,1/3):e/u0+l0}function ps(e){return e>Er?e*e*e:u0*(e-l0)}function ms(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function gs(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Pw(e){if(e instanceof cn)return new cn(e.h,e.c,e.l,e.opacity);if(e instanceof Yt||(e=h0(e)),e.a===0&&e.b===0)return new cn(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*a0;return new cn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function af(e,t,n,r){return arguments.length===1?Pw(e):new cn(e,t,n,r??1)}function cn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function d0(e){if(isNaN(e.h))return new Yt(e.l,0,0,e.opacity);var t=e.h*o0;return new Yt(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Gr(cn,af,zi(Fn,{brighter(e){return new cn(this.h,this.c,this.l+Ho*(e??1),this.opacity)},darker(e){return new cn(this.h,this.c,this.l-Ho*(e??1),this.opacity)},rgb(){return d0(this).rgb()}}));var p0=-.14861,wc=1.78277,$c=-.29227,Aa=-.90649,ki=1.97294,Kl=ki*Aa,Zl=ki*wc,Ql=wc*$c-Aa*p0;function Bw(e){if(e instanceof Kn)return new Kn(e.h,e.s,e.l,e.opacity);e instanceof ze||(e=yc(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Ql*r+Kl*t-Zl*n)/(Ql+Kl-Zl),o=r-i,a=(ki*(n-i)-$c*o)/Aa,s=Math.sqrt(a*a+o*o)/(ki*i*(1-i)),f=s?Math.atan2(a,o)*a0-120:NaN;return new Kn(f<0?f+360:f,s,i,e.opacity)}function jt(e,t,n,r){return arguments.length===1?Bw(e):new Kn(e,t,n,r??1)}function Kn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Gr(Kn,jt,zi(Fn,{brighter(e){return e=e==null?Dr:Math.pow(Dr,e),new Kn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?er:Math.pow(er,e),new Kn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*o0,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ze(255*(t+n*(p0*r+wc*i)),255*(t+n*($c*r+Aa*i)),255*(t+n*(ki*r)),this.opacity)}}));function zw(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function Uw(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return zw((n-r/t)*t,a,i,o,s)}}const Na=e=>()=>e;function m0(e,t){return function(n){return e+n*t}}function Ww(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function vc(e,t){var n=t-e;return n?m0(e,n>180||n<-180?n-360*Math.round(n/360):n):Na(isNaN(e)?t:e)}function qw(e){return(e=+e)==1?Ge:function(t,n){return n-t?Ww(t,n,e):Na(isNaN(t)?n:t)}}function Ge(e,t){var n=t-e;return n?m0(e,n):Na(isNaN(e)?t:e)}const nr=function e(t){var n=qw(t);function r(i,o){var a=n((i=An(i)).r,(o=An(o)).r),s=n(i.g,o.g),f=n(i.b,o.b),c=Ge(i.opacity,o.opacity);return function(l){return i.r=a(l),i.g=s(l),i.b=f(l),i.opacity=c(l),i+""}}return r.gamma=e,r}(1);function Vw(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=An(t[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=e(r),i=e(i),o=e(o),s.opacity=1,function(f){return s.r=r(f),s.g=i(f),s.b=o(f),s+""}}}var Hw=Vw(Uw);function Yw(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function jw(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Gw(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Ui(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Xw(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function je(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Kw(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ui(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var sf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bs=new RegExp(sf.source,"g");function Zw(e){return function(){return e}}function Qw(e){return function(t){return e(t)+""}}function g0(e,t){var n=sf.lastIndex=bs.lastIndex=0,r,i,o,a=-1,s=[],f=[];for(e=e+"",t=t+"";(r=sf.exec(e))&&(i=bs.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,f.push({i:a,x:je(r,i)})),n=bs.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?f[0]?Qw(f[0].x):Zw(t):(t=f.length,function(c){for(var l=0,h;l<t;++l)s[(h=f[l]).i]=h.x(c);return s.join("")})}function Ui(e,t){var n=typeof t,r;return t==null||n==="boolean"?Na(t):(n==="number"?je:n==="string"?(r=tr(t))?(t=r,nr):g0:t instanceof tr?nr:t instanceof Date?Xw:jw(t)?Yw:Array.isArray(t)?Gw:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Kw:je)(e,t)}function xc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Jl=180/Math.PI,ff={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function b0(e,t,n,r,i,o){var a,s,f;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(f=e*n+t*r)&&(n-=e*f,r-=t*f),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,f/=s),e*r<t*n&&(e=-e,t=-t,f=-f,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Jl,skewX:Math.atan(f)*Jl,scaleX:a,scaleY:s}}var co;function Jw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ff:b0(t.a,t.b,t.c,t.d,t.e,t.f)}function e$(e){return e==null||(co||(co=document.createElementNS("http://www.w3.org/2000/svg","g")),co.setAttribute("transform",e),!(e=co.transform.baseVal.consolidate()))?ff:(e=e.matrix,b0(e.a,e.b,e.c,e.d,e.e,e.f))}function _0(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,l,h,u,d,m){if(c!==h||l!==u){var p=d.push("translate(",null,t,null,n);m.push({i:p-4,x:je(c,h)},{i:p-2,x:je(l,u)})}else(h||u)&&d.push("translate("+h+t+u+n)}function a(c,l,h,u){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),u.push({i:h.push(i(h)+"rotate(",null,r)-2,x:je(c,l)})):l&&h.push(i(h)+"rotate("+l+r)}function s(c,l,h,u){c!==l?u.push({i:h.push(i(h)+"skewX(",null,r)-2,x:je(c,l)}):l&&h.push(i(h)+"skewX("+l+r)}function f(c,l,h,u,d,m){if(c!==h||l!==u){var p=d.push(i(d)+"scale(",null,",",null,")");m.push({i:p-4,x:je(c,h)},{i:p-2,x:je(l,u)})}else(h!==1||u!==1)&&d.push(i(d)+"scale("+h+","+u+")")}return function(c,l){var h=[],u=[];return c=e(c),l=e(l),o(c.translateX,c.translateY,l.translateX,l.translateY,h,u),a(c.rotate,l.rotate,h,u),s(c.skewX,l.skewX,h,u),f(c.scaleX,c.scaleY,l.scaleX,l.scaleY,h,u),c=l=null,function(d){for(var m=-1,p=u.length,g;++m<p;)h[(g=u[m]).i]=g.x(d);return h.join("")}}}var t$=_0(Jw,"px, ","px)","deg)"),n$=_0(e$,", ",")",")");function r$(e){return function(t,n){var r=e((t=rf(t)).h,(n=rf(n)).h),i=Ge(t.s,n.s),o=Ge(t.l,n.l),a=Ge(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const i$=r$(vc);function o$(e,t){var n=Ge((e=of(e)).l,(t=of(t)).l),r=Ge(e.a,t.a),i=Ge(e.b,t.b),o=Ge(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function a$(e){return function(t,n){var r=e((t=af(t)).h,(n=af(n)).h),i=Ge(t.c,n.c),o=Ge(t.l,n.l),a=Ge(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const s$=a$(vc);function y0(e){return function t(n){n=+n;function r(i,o){var a=e((i=jt(i)).h,(o=jt(o)).h),s=Ge(i.s,o.s),f=Ge(i.l,o.l),c=Ge(i.opacity,o.opacity);return function(l){return i.h=a(l),i.s=s(l),i.l=f(Math.pow(l,n)),i.opacity=c(l),i+""}}return r.gamma=t,r}(1)}y0(vc);var Mc=y0(Ge);function Ia(e,t){t===void 0&&(t=e,e=Ui);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function It(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var Rr=0,ci=0,ni=0,w0=1e3,Yo,li,jo=0,rr=0,La=0,Si=typeof performance=="object"&&performance.now?performance:Date,$0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function kc(){return rr||($0(f$),rr=Si.now()+La)}function f$(){rr=0}function Go(){this._call=this._time=this._next=null}Go.prototype=v0.prototype={constructor:Go,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?kc():+n)+(t==null?0:+t),!this._next&&li!==this&&(li?li._next=this:Yo=this,li=this),this._call=e,this._time=n,cf()},stop:function(){this._call&&(this._call=null,this._time=1/0,cf())}};function v0(e,t,n){var r=new Go;return r.restart(e,t,n),r}function c$(){kc(),++Rr;for(var e=Yo,t;e;)(t=rr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Rr}function eu(){rr=(jo=Si.now())+La,Rr=ci=0;try{c$()}finally{Rr=0,u$(),rr=0}}function l$(){var e=Si.now(),t=e-jo;t>w0&&(La-=t,jo=e)}function u$(){for(var e,t=Yo,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Yo=n);li=e,cf(r)}function cf(e){if(!Rr){ci&&(ci=clearTimeout(ci));var t=e-rr;t>24?(e<1/0&&(ci=setTimeout(eu,e-Si.now()-La)),ni&&(ni=clearInterval(ni))):(ni||(jo=Si.now(),ni=setInterval(l$,w0)),Rr=1,$0(eu))}}function tu(e,t,n){var r=new Go;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var h$=Yd("start","end","cancel","interrupt"),d$=[],x0=0,nu=1,lf=2,Ao=3,ru=4,uf=5,No=6;function Da(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;p$(e,n,{name:t,index:r,group:i,on:h$,tween:d$,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:x0})}function Sc(e,t){var n=Ft(e,t);if(n.state>x0)throw new Error("too late; already scheduled");return n}function Kt(e,t){var n=Ft(e,t);if(n.state>Ao)throw new Error("too late; already running");return n}function Ft(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function p$(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=v0(o,0,n.time);function o(c){n.state=nu,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var l,h,u,d;if(n.state!==nu)return f();for(l in r)if(d=r[l],d.name===n.name){if(d.state===Ao)return tu(a);d.state===ru?(d.state=No,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[l]):+l<t&&(d.state=No,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[l])}if(tu(function(){n.state===Ao&&(n.state=ru,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=lf,n.on.call("start",e,e.__data__,n.index,n.group),n.state===lf){for(n.state=Ao,i=new Array(u=n.tween.length),l=0,h=-1;l<u;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function s(c){for(var l=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(f),n.state=uf,1),h=-1,u=i.length;++h<u;)i[h].call(e,l);n.state===uf&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=No,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function m$(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>lf&&r.state<uf,r.state=No,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function g$(e){return this.each(function(){m$(this,e)})}function b$(e,t){var n,r;return function(){var i=Kt(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function _$(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Kt(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},f=0,c=i.length;f<c;++f)if(i[f].name===t){i[f]=s;break}f===c&&i.push(s)}o.tween=i}}function y$(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ft(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?b$:_$)(n,e,t))}function Tc(e,t,n){var r=e._id;return e.each(function(){var i=Kt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ft(i,r).value[t]}}function M0(e,t){var n;return(typeof t=="number"?je:t instanceof tr?nr:(n=tr(t))?(t=n,nr):g0)(e,t)}function w$(e){return function(){this.removeAttribute(e)}}function $$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function v$(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function x$(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function M$(e,t,n){var r,i,o;return function(){var a,s=n(this),f;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),f=s+"",a===f?null:a===r&&f===i?o:(i=f,o=t(r=a,s)))}}function k$(e,t,n){var r,i,o;return function(){var a,s=n(this),f;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),f=s+"",a===f?null:a===r&&f===i?o:(i=f,o=t(r=a,s)))}}function S$(e,t){var n=Ea(e),r=n==="transform"?n$:M0;return this.attrTween(e,typeof t=="function"?(n.local?k$:M$)(n,r,Tc(this,"attr."+e,t)):t==null?(n.local?$$:w$)(n):(n.local?x$:v$)(n,r,t))}function T$(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function E$(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function C$(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&E$(e,o)),n}return i._value=t,i}function A$(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&T$(e,o)),n}return i._value=t,i}function N$(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ea(e);return this.tween(n,(r.local?C$:A$)(r,t))}function I$(e,t){return function(){Sc(this,e).delay=+t.apply(this,arguments)}}function L$(e,t){return t=+t,function(){Sc(this,e).delay=t}}function D$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?I$:L$)(t,e)):Ft(this.node(),t).delay}function R$(e,t){return function(){Kt(this,e).duration=+t.apply(this,arguments)}}function F$(e,t){return t=+t,function(){Kt(this,e).duration=t}}function O$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?R$:F$)(t,e)):Ft(this.node(),t).duration}function P$(e,t){if(typeof t!="function")throw new Error;return function(){Kt(this,e).ease=t}}function B$(e){var t=this._id;return arguments.length?this.each(P$(t,e)):Ft(this.node(),t).ease}function z$(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Kt(this,e).ease=n}}function U$(e){if(typeof e!="function")throw new Error;return this.each(z$(this._id,e))}function W$(e){typeof e!="function"&&(e=Gd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],f,c=0;c<a;++c)(f=o[c])&&e.call(f,f.__data__,c,o)&&s.push(f);return new mn(r,this._parents,this._name,this._id)}function q$(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var f=t[s],c=n[s],l=f.length,h=a[s]=new Array(l),u,d=0;d<l;++d)(u=f[d]||c[d])&&(h[d]=u);for(;s<r;++s)a[s]=t[s];return new mn(a,this._parents,this._name,this._id)}function V$(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function H$(e,t,n){var r,i,o=V$(t)?Sc:Kt;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function Y$(e,t){var n=this._id;return arguments.length<2?Ft(this.node(),n).on.on(e):this.each(H$(n,e,t))}function j$(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function G$(){return this.on("end.remove",j$(this._id))}function X$(e){var t=this._name,n=this._id;typeof e!="function"&&(e=bc(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],f=s.length,c=o[a]=new Array(f),l,h,u=0;u<f;++u)(l=s[u])&&(h=e.call(l,l.__data__,u,s))&&("__data__"in l&&(h.__data__=l.__data__),c[u]=h,Da(c[u],t,n,u,c,Ft(l,n)));return new mn(o,this._parents,t,n)}function K$(e){var t=this._name,n=this._id;typeof e!="function"&&(e=jd(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var f=r[s],c=f.length,l,h=0;h<c;++h)if(l=f[h]){for(var u=e.call(l,l.__data__,h,f),d,m=Ft(l,n),p=0,g=u.length;p<g;++p)(d=u[p])&&Da(d,t,n,p,u,m);o.push(u),a.push(l)}return new mn(o,a,t,n)}var Z$=Bi.prototype.constructor;function Q$(){return new Z$(this._groups,this._parents)}function J$(e,t){var n,r,i;return function(){var o=Lr(this,e),a=(this.style.removeProperty(e),Lr(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function k0(e){return function(){this.style.removeProperty(e)}}function e6(e,t,n){var r,i=n+"",o;return function(){var a=Lr(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function t6(e,t,n){var r,i,o;return function(){var a=Lr(this,e),s=n(this),f=s+"";return s==null&&(f=s=(this.style.removeProperty(e),Lr(this,e))),a===f?null:a===r&&f===i?o:(i=f,o=t(r=a,s))}}function n6(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var f=Kt(this,e),c=f.on,l=f.value[o]==null?s||(s=k0(t)):void 0;(c!==n||i!==l)&&(r=(n=c).copy()).on(a,i=l),f.on=r}}function r6(e,t,n){var r=(e+="")=="transform"?t$:M0;return t==null?this.styleTween(e,J$(e,r)).on("end.style."+e,k0(e)):typeof t=="function"?this.styleTween(e,t6(e,r,Tc(this,"style."+e,t))).each(n6(this._id,e)):this.styleTween(e,e6(e,r,t),n).on("end.style."+e,null)}function i6(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function o6(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&i6(e,a,n)),r}return o._value=t,o}function a6(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,o6(e,t,n??""))}function s6(e){return function(){this.textContent=e}}function f6(e){return function(){var t=e(this);this.textContent=t??""}}function c6(e){return this.tween("text",typeof e=="function"?f6(Tc(this,"text",e)):s6(e==null?"":e+""))}function l6(e){return function(t){this.textContent=e.call(this,t)}}function u6(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&l6(i)),t}return r._value=e,r}function h6(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,u6(e))}function d6(){for(var e=this._name,t=this._id,n=S0(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,f,c=0;c<s;++c)if(f=a[c]){var l=Ft(f,t);Da(f,e,n,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new mn(r,this._parents,e,n)}function p6(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},f={value:function(){--i===0&&o()}};n.each(function(){var c=Kt(this,r),l=c.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(f)),c.on=t}),i===0&&o()})}var m6=0;function mn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function S0(){return++m6}var en=Bi.prototype;mn.prototype={constructor:mn,select:X$,selectAll:K$,selectChild:en.selectChild,selectChildren:en.selectChildren,filter:W$,merge:q$,selection:Q$,transition:d6,call:en.call,nodes:en.nodes,node:en.node,size:en.size,empty:en.empty,each:en.each,on:Y$,attr:S$,attrTween:N$,style:r6,styleTween:a6,text:c6,textTween:h6,remove:G$,tween:y$,delay:D$,duration:O$,ease:B$,easeVarying:U$,end:p6,[Symbol.iterator]:en[Symbol.iterator]};function g6(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var b6={time:null,delay:0,duration:250,ease:g6};function _6(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function y6(e){var t,n;e instanceof mn?(t=e._id,e=e._name):(t=S0(),(n=b6).time=kc(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,f,c=0;c<s;++c)(f=a[c])&&Da(f,e,t,c,a,n||_6(f,t));return new mn(r,this._parents,e,t)}Bi.prototype.interrupt=g$;Bi.prototype.transition=y6;const hf=Math.PI,df=2*hf,Vn=1e-6,w6=df-Vn;function T0(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function $6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return T0;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class E0{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?T0:$6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,f=r-t,c=i-n,l=a-t,h=s-n,u=l*l+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(u>Vn)if(!(Math.abs(h*f-c*l)>Vn)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-a,m=i-s,p=f*f+c*c,g=d*d+m*m,b=Math.sqrt(p),_=Math.sqrt(u),w=o*Math.tan((hf-Math.acos((p+u-g)/(2*b*_)))/2),y=w/_,v=w/b;Math.abs(y-1)>Vn&&this._append`L${t+y*l},${n+y*h}`,this._append`A${o},${o},0,0,${+(h*d>l*m)},${this._x1=t+v*f},${this._y1=n+v*c}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),f=r*Math.sin(i),c=t+s,l=n+f,h=1^a,u=a?i-o:o-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>Vn||Math.abs(this._y1-l)>Vn)&&this._append`L${c},${l}`,r&&(u<0&&(u=u%df+df),u>w6?this._append`A${r},${r},0,1,${h},${t-s},${n-f}A${r},${r},0,1,${h},${this._x1=c},${this._y1=l}`:u>Vn&&this._append`A${r},${r},0,${+(u>=hf)},${h},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Gn(e=3){return new E0(+e)}function v6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xo(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Fr(e){return e=Xo(Math.abs(e)),e?e[1]:NaN}function x6(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],f=0;i>0&&s>0&&(f+s+1>r&&(s=Math.max(1,r-f)),o.push(n.substring(i-=s,i+s)),!((f+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function M6(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var k6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ti(e){if(!(t=k6.exec(e)))throw new Error("invalid format: "+e);var t;return new Ec({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ti.prototype=Ec.prototype;function Ec(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ec.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S6(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var C0;function T6(e,t){var n=Xo(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(C0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Xo(e,Math.max(0,t+o-1))[0]}function iu(e,t){var n=Xo(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ou={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:v6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>iu(e*100,t),r:iu,s:T6,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function au(e){return e}var su=Array.prototype.map,fu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function E6(e){var t=e.grouping===void 0||e.thousands===void 0?au:x6(su.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?au:M6(su.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function c(h){h=Ti(h);var u=h.fill,d=h.align,m=h.sign,p=h.symbol,g=h.zero,b=h.width,_=h.comma,w=h.precision,y=h.trim,v=h.type;v==="n"?(_=!0,v="g"):ou[v]||(w===void 0&&(w=12),y=!0,v="g"),(g||u==="0"&&d==="=")&&(g=!0,u="0",d="=");var $=p==="$"?n:p==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",M=p==="$"?r:/[%p]/.test(v)?a:"",k=ou[v],S=/[defgprs%]/.test(v);w=w===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(x){var B=$,R=M,L,C,U;if(v==="c")R=k(x)+R,x="";else{x=+x;var z=x<0||1/x<0;if(x=isNaN(x)?f:k(Math.abs(x),w),y&&(x=S6(x)),z&&+x==0&&m!=="+"&&(z=!1),B=(z?m==="("?m:s:m==="-"||m==="("?"":m)+B,R=(v==="s"?fu[8+C0/3]:"")+R+(z&&m==="("?")":""),S){for(L=-1,C=x.length;++L<C;)if(U=x.charCodeAt(L),48>U||U>57){R=(U===46?i+x.slice(L+1):x.slice(L))+R,x=x.slice(0,L);break}}}_&&!g&&(x=t(x,1/0));var ne=B.length+x.length+R.length,N=ne<b?new Array(b-ne+1).join(u):"";switch(_&&g&&(x=t(N+x,N.length?b-R.length:1/0),N=""),d){case"<":x=B+x+R+N;break;case"=":x=B+N+x+R;break;case"^":x=N.slice(0,ne=N.length>>1)+B+x+R+N.slice(ne);break;default:x=N+B+x+R;break}return o(x)}return A.toString=function(){return h+""},A}function l(h,u){var d=c((h=Ti(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Fr(u)/3)))*3,p=Math.pow(10,-m),g=fu[8+m/3];return function(b){return d(p*b)+g}}return{format:c,formatPrefix:l}}var lo,Xr,A0;C6({thousands:",",grouping:[3],currency:["$",""]});function C6(e){return lo=E6(e),Xr=lo.format,A0=lo.formatPrefix,lo}function A6(e){return Math.max(0,-Fr(Math.abs(e)))}function N6(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fr(t)/3)))*3-Fr(Math.abs(e)))}function I6(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fr(t)-Fr(e))+1}var me=1e-6,N0=1e-12,_e=Math.PI,Ne=_e/2,cu=_e/4,lt=_e*2,Xe=180/_e,Ae=_e/180,Me=Math.abs,Kr=Math.atan,gn=Math.atan2,ge=Math.cos,I0=Math.exp,Ko=Math.log,_s=Math.pow,he=Math.sin,yt=Math.sign||function(e){return e>0?1:e<0?-1:0},tt=Math.sqrt,Cc=Math.tan;function L0(e){return e>1?0:e<-1?_e:Math.acos(e)}function kt(e){return e>1?Ne:e<-1?-Ne:Math.asin(e)}function wt(){}function Zo(e,t){e&&uu.hasOwnProperty(e.type)&&uu[e.type](e,t)}var lu={Feature:function(e,t){Zo(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Zo(n[r].geometry,t)}},uu={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){pf(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)pf(n[r],t,0)},Polygon:function(e,t){hu(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)hu(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Zo(n[r],t)}};function pf(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function hu(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)pf(e[n],t,1);t.polygonEnd()}function Hn(e,t){e&&lu.hasOwnProperty(e.type)?lu[e.type](e,t):Zo(e,t)}function mf(e){return[gn(e[1],e[0]),kt(e[2])]}function Or(e){var t=e[0],n=e[1],r=ge(n);return[r*ge(t),r*he(t),he(n)]}function uo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Qo(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ys(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ho(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function gf(e){var t=tt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function bf(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function _f(e,t){return Me(e)>_e&&(e-=Math.round(e/lt)*lt),[e,t]}_f.invert=_f;function D0(e,t,n){return(e%=lt)?t||n?bf(pu(e),mu(t,n)):pu(e):t||n?mu(t,n):_f}function du(e){return function(t,n){return t+=e,Me(t)>_e&&(t-=Math.round(t/lt)*lt),[t,n]}}function pu(e){var t=du(e);return t.invert=du(-e),t}function mu(e,t){var n=ge(e),r=he(e),i=ge(t),o=he(t);function a(s,f){var c=ge(f),l=ge(s)*c,h=he(s)*c,u=he(f),d=u*n+l*r;return[gn(h*i-d*o,l*n-u*r),kt(d*i+h*o)]}return a.invert=function(s,f){var c=ge(f),l=ge(s)*c,h=he(s)*c,u=he(f),d=u*i-h*o;return[gn(h*i+u*o,l*n+d*r),kt(d*n-l*r)]},a}function L6(e){e=D0(e[0]*Ae,e[1]*Ae,e.length>2?e[2]*Ae:0);function t(n){return n=e(n[0]*Ae,n[1]*Ae),n[0]*=Xe,n[1]*=Xe,n}return t.invert=function(n){return n=e.invert(n[0]*Ae,n[1]*Ae),n[0]*=Xe,n[1]*=Xe,n},t}function D6(e,t,n,r,i,o){if(n){var a=ge(t),s=he(t),f=r*n;i==null?(i=t+r*lt,o=t-f/2):(i=gu(a,i),o=gu(a,o),(r>0?i<o:i>o)&&(i+=r*lt));for(var c,l=i;r>0?l>o:l<o;l-=f)c=mf([a,-s*ge(l),-s*he(l)]),e.point(c[0],c[1])}}function gu(e,t){t=Or(t),t[0]-=e,gf(t);var n=L0(-t[1]);return((-t[2]<0?-n:n)+lt-me)%lt}function R0(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:wt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Io(e,t){return Me(e[0]-t[0])<me&&Me(e[1]-t[1])<me}function po(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function F0(e,t,n,r,i){var o=[],a=[],s,f;if(e.forEach(function(m){if(!((p=m.length-1)<=0)){var p,g=m[0],b=m[p],_;if(Io(g,b)){if(!g[2]&&!b[2]){for(i.lineStart(),s=0;s<p;++s)i.point((g=m[s])[0],g[1]);i.lineEnd();return}b[0]+=2*me}o.push(_=new po(g,m,null,!0)),a.push(_.o=new po(g,null,_,!1)),o.push(_=new po(b,m,null,!1)),a.push(_.o=new po(b,null,_,!0))}}),!!o.length){for(a.sort(t),bu(o),bu(a),s=0,f=a.length;s<f;++s)a[s].e=n=!n;for(var c=o[0],l,h;;){for(var u=c,d=!0;u.v;)if((u=u.n)===c)return;l=u.z,i.lineStart();do{if(u.v=u.o.v=!0,u.e){if(d)for(s=0,f=l.length;s<f;++s)i.point((h=l[s])[0],h[1]);else r(u.x,u.n.x,1,i);u=u.n}else{if(d)for(l=u.p.z,s=l.length-1;s>=0;--s)i.point((h=l[s])[0],h[1]);else r(u.x,u.p.x,-1,i);u=u.p}u=u.o,l=u.z,d=!d}while(!u.v);i.lineEnd()}}}function bu(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function ws(e){return Me(e[0])<=_e?e[0]:yt(e[0])*((Me(e[0])+_e)%lt-_e)}function R6(e,t){var n=ws(t),r=t[1],i=he(r),o=[he(n),-ge(n),0],a=0,s=0,f=new Qn;i===1?r=Ne+me:i===-1&&(r=-Ne-me);for(var c=0,l=e.length;c<l;++c)if(u=(h=e[c]).length)for(var h,u,d=h[u-1],m=ws(d),p=d[1]/2+cu,g=he(p),b=ge(p),_=0;_<u;++_,m=y,g=$,b=M,d=w){var w=h[_],y=ws(w),v=w[1]/2+cu,$=he(v),M=ge(v),k=y-m,S=k>=0?1:-1,A=S*k,x=A>_e,B=g*$;if(f.add(gn(B*S*he(A),b*M+B*ge(A))),a+=x?k+S*lt:k,x^m>=n^y>=n){var R=Qo(Or(d),Or(w));gf(R);var L=Qo(o,R);gf(L);var C=(x^k>=0?-1:1)*kt(L[2]);(r>C||r===C&&(R[0]||R[1]))&&(s+=x^k>=0?1:-1)}}return(a<-me||a<me&&f<-N0)^s&1}function O0(e,t,n,r){return function(i){var o=t(i),a=R0(),s=t(a),f=!1,c,l,h,u={point:d,lineStart:p,lineEnd:g,polygonStart:function(){u.point=b,u.lineStart=_,u.lineEnd=w,l=[],c=[]},polygonEnd:function(){u.point=d,u.lineStart=p,u.lineEnd=g,l=Hd(l);var y=R6(c,r);l.length?(f||(i.polygonStart(),f=!0),F0(l,O6,y,n,i)):y&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),l=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(y,v){e(y,v)&&i.point(y,v)}function m(y,v){o.point(y,v)}function p(){u.point=m,o.lineStart()}function g(){u.point=d,o.lineEnd()}function b(y,v){h.push([y,v]),s.point(y,v)}function _(){s.lineStart(),h=[]}function w(){b(h[0][0],h[0][1]),s.lineEnd();var y=s.clean(),v=a.result(),$,M=v.length,k,S,A;if(h.pop(),c.push(h),h=null,!!M){if(y&1){if(S=v[0],(k=S.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),$=0;$<k;++$)i.point((A=S[$])[0],A[1]);i.lineEnd()}return}M>1&&y&2&&v.push(v.pop().concat(v.shift())),l.push(v.filter(F6))}}return u}}function F6(e){return e.length>1}function O6(e,t){return((e=e.x)[0]<0?e[1]-Ne-me:Ne-e[1])-((t=t.x)[0]<0?t[1]-Ne-me:Ne-t[1])}const _u=O0(function(){return!0},P6,z6,[-_e,-Ne]);function P6(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var s=o>0?_e:-_e,f=Me(o-t);Me(f-_e)<me?(e.point(t,n=(n+a)/2>0?Ne:-Ne),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(o,n),i=0):r!==s&&f>=_e&&(Me(t-r)<me&&(t-=r*me),Me(o-s)<me&&(o-=s*me),n=B6(t,n,o,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=o,n=a),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function B6(e,t,n,r){var i,o,a=he(e-n);return Me(a)>me?Kr((he(t)*(o=ge(r))*he(n)-he(r)*(i=ge(t))*he(e))/(i*o*a)):(t+r)/2}function z6(e,t,n,r){var i;if(e==null)i=n*Ne,r.point(-_e,i),r.point(0,i),r.point(_e,i),r.point(_e,0),r.point(_e,-i),r.point(0,-i),r.point(-_e,-i),r.point(-_e,0),r.point(-_e,i);else if(Me(e[0]-t[0])>me){var o=e[0]<t[0]?_e:-_e;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function U6(e){var t=ge(e),n=2*Ae,r=t>0,i=Me(t)>me;function o(l,h,u,d){D6(d,e,n,u,l,h)}function a(l,h){return ge(l)*ge(h)>t}function s(l){var h,u,d,m,p;return{lineStart:function(){m=d=!1,p=1},point:function(g,b){var _=[g,b],w,y=a(g,b),v=r?y?0:c(g,b):y?c(g+(g<0?_e:-_e),b):0;if(!h&&(m=d=y)&&l.lineStart(),y!==d&&(w=f(h,_),(!w||Io(h,w)||Io(_,w))&&(_[2]=1)),y!==d)p=0,y?(l.lineStart(),w=f(_,h),l.point(w[0],w[1])):(w=f(h,_),l.point(w[0],w[1],2),l.lineEnd()),h=w;else if(i&&h&&r^y){var $;!(v&u)&&($=f(_,h,!0))&&(p=0,r?(l.lineStart(),l.point($[0][0],$[0][1]),l.point($[1][0],$[1][1]),l.lineEnd()):(l.point($[1][0],$[1][1]),l.lineEnd(),l.lineStart(),l.point($[0][0],$[0][1],3)))}y&&(!h||!Io(h,_))&&l.point(_[0],_[1]),h=_,d=y,u=v},lineEnd:function(){d&&l.lineEnd(),h=null},clean:function(){return p|(m&&d)<<1}}}function f(l,h,u){var d=Or(l),m=Or(h),p=[1,0,0],g=Qo(d,m),b=uo(g,g),_=g[0],w=b-_*_;if(!w)return!u&&l;var y=t*b/w,v=-t*_/w,$=Qo(p,g),M=ho(p,y),k=ho(g,v);ys(M,k);var S=$,A=uo(M,S),x=uo(S,S),B=A*A-x*(uo(M,M)-1);if(!(B<0)){var R=tt(B),L=ho(S,(-A-R)/x);if(ys(L,M),L=mf(L),!u)return L;var C=l[0],U=h[0],z=l[1],ne=h[1],N;U<C&&(N=C,C=U,U=N);var Y=U-C,G=Me(Y-_e)<me,j=G||Y<me;if(!G&&ne<z&&(N=z,z=ne,ne=N),j?G?z+ne>0^L[1]<(Me(L[0]-C)<me?z:ne):z<=L[1]&&L[1]<=ne:Y>_e^(C<=L[0]&&L[0]<=U)){var J=ho(S,(-A+R)/x);return ys(J,M),[L,mf(J)]}}}function c(l,h){var u=r?e:_e-e,d=0;return l<-u?d|=1:l>u&&(d|=2),h<-u?d|=4:h>u&&(d|=8),d}return O0(a,s,o,r?[0,-e]:[-_e,e-_e])}function W6(e,t,n,r,i,o){var a=e[0],s=e[1],f=t[0],c=t[1],l=0,h=1,u=f-a,d=c-s,m;if(m=n-a,!(!u&&m>0)){if(m/=u,u<0){if(m<l)return;m<h&&(h=m)}else if(u>0){if(m>h)return;m>l&&(l=m)}if(m=i-a,!(!u&&m<0)){if(m/=u,u<0){if(m>h)return;m>l&&(l=m)}else if(u>0){if(m<l)return;m<h&&(h=m)}if(m=r-s,!(!d&&m>0)){if(m/=d,d<0){if(m<l)return;m<h&&(h=m)}else if(d>0){if(m>h)return;m>l&&(l=m)}if(m=o-s,!(!d&&m<0)){if(m/=d,d<0){if(m>h)return;m>l&&(l=m)}else if(d>0){if(m<l)return;m<h&&(h=m)}return l>0&&(e[0]=a+l*u,e[1]=s+l*d),h<1&&(t[0]=a+h*u,t[1]=s+h*d),!0}}}}}var ui=1e9,mo=-ui;function P0(e,t,n,r){function i(c,l){return e<=c&&c<=n&&t<=l&&l<=r}function o(c,l,h,u){var d=0,m=0;if(c==null||(d=a(c,h))!==(m=a(l,h))||f(c,l)<0^h>0)do u.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+h+4)%4)!==m);else u.point(l[0],l[1])}function a(c,l){return Me(c[0]-e)<me?l>0?0:3:Me(c[0]-n)<me?l>0?2:1:Me(c[1]-t)<me?l>0?1:0:l>0?3:2}function s(c,l){return f(c.x,l.x)}function f(c,l){var h=a(c,1),u=a(l,1);return h!==u?h-u:h===0?l[1]-c[1]:h===1?c[0]-l[0]:h===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,h=R0(),u,d,m,p,g,b,_,w,y,v,$,M={point:k,lineStart:B,lineEnd:R,polygonStart:A,polygonEnd:x};function k(C,U){i(C,U)&&l.point(C,U)}function S(){for(var C=0,U=0,z=d.length;U<z;++U)for(var ne=d[U],N=1,Y=ne.length,G=ne[0],j,J,we=G[0],be=G[1];N<Y;++N)j=we,J=be,G=ne[N],we=G[0],be=G[1],J<=r?be>r&&(we-j)*(r-J)>(be-J)*(e-j)&&++C:be<=r&&(we-j)*(r-J)<(be-J)*(e-j)&&--C;return C}function A(){l=h,u=[],d=[],$=!0}function x(){var C=S(),U=$&&C,z=(u=Hd(u)).length;(U||z)&&(c.polygonStart(),U&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),z&&F0(u,s,C,o,c),c.polygonEnd()),l=c,u=d=m=null}function B(){M.point=L,d&&d.push(m=[]),v=!0,y=!1,_=w=NaN}function R(){u&&(L(p,g),b&&y&&h.rejoin(),u.push(h.result())),M.point=k,y&&l.lineEnd()}function L(C,U){var z=i(C,U);if(d&&m.push([C,U]),v)p=C,g=U,b=z,v=!1,z&&(l.lineStart(),l.point(C,U));else if(z&&y)l.point(C,U);else{var ne=[_=Math.max(mo,Math.min(ui,_)),w=Math.max(mo,Math.min(ui,w))],N=[C=Math.max(mo,Math.min(ui,C)),U=Math.max(mo,Math.min(ui,U))];W6(ne,N,e,t,n,r)?(y||(l.lineStart(),l.point(ne[0],ne[1])),l.point(N[0],N[1]),z||l.lineEnd(),$=!1):z&&(l.lineStart(),l.point(C,U),$=!1)}_=C,w=U,y=z}return M}}const yf=e=>e;var $s=new Qn,wf=new Qn,B0,z0,$f,vf,fn={point:wt,lineStart:wt,lineEnd:wt,polygonStart:function(){fn.lineStart=q6,fn.lineEnd=H6},polygonEnd:function(){fn.lineStart=fn.lineEnd=fn.point=wt,$s.add(Me(wf)),wf=new Qn},result:function(){var e=$s/2;return $s=new Qn,e}};function q6(){fn.point=V6}function V6(e,t){fn.point=U0,B0=$f=e,z0=vf=t}function U0(e,t){wf.add(vf*e-$f*t),$f=e,vf=t}function H6(){U0(B0,z0)}var Pr=1/0,Jo=Pr,Ei=-Pr,ea=Ei,ta={point:Y6,lineStart:wt,lineEnd:wt,polygonStart:wt,polygonEnd:wt,result:function(){var e=[[Pr,Jo],[Ei,ea]];return Ei=ea=-(Jo=Pr=1/0),e}};function Y6(e,t){e<Pr&&(Pr=e),e>Ei&&(Ei=e),t<Jo&&(Jo=t),t>ea&&(ea=t)}var xf=0,Mf=0,hi=0,na=0,ra=0,$r=0,kf=0,Sf=0,di=0,W0,q0,Ut,Wt,bt={point:ir,lineStart:yu,lineEnd:wu,polygonStart:function(){bt.lineStart=X6,bt.lineEnd=K6},polygonEnd:function(){bt.point=ir,bt.lineStart=yu,bt.lineEnd=wu},result:function(){var e=di?[kf/di,Sf/di]:$r?[na/$r,ra/$r]:hi?[xf/hi,Mf/hi]:[NaN,NaN];return xf=Mf=hi=na=ra=$r=kf=Sf=di=0,e}};function ir(e,t){xf+=e,Mf+=t,++hi}function yu(){bt.point=j6}function j6(e,t){bt.point=G6,ir(Ut=e,Wt=t)}function G6(e,t){var n=e-Ut,r=t-Wt,i=tt(n*n+r*r);na+=i*(Ut+e)/2,ra+=i*(Wt+t)/2,$r+=i,ir(Ut=e,Wt=t)}function wu(){bt.point=ir}function X6(){bt.point=Z6}function K6(){V0(W0,q0)}function Z6(e,t){bt.point=V0,ir(W0=Ut=e,q0=Wt=t)}function V0(e,t){var n=e-Ut,r=t-Wt,i=tt(n*n+r*r);na+=i*(Ut+e)/2,ra+=i*(Wt+t)/2,$r+=i,i=Wt*e-Ut*t,kf+=i*(Ut+e),Sf+=i*(Wt+t),di+=i*3,ir(Ut=e,Wt=t)}function H0(e){this._context=e}H0.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,lt);break}}},result:wt};var Tf=new Qn,vs,Y0,j0,pi,mi,Ci={point:wt,lineStart:function(){Ci.point=Q6},lineEnd:function(){vs&&G0(Y0,j0),Ci.point=wt},polygonStart:function(){vs=!0},polygonEnd:function(){vs=null},result:function(){var e=+Tf;return Tf=new Qn,e}};function Q6(e,t){Ci.point=G0,Y0=pi=e,j0=mi=t}function G0(e,t){pi-=e,mi-=t,Tf.add(tt(pi*pi+mi*mi)),pi=e,mi=t}let $u,ia,vu,xu;class Mu{constructor(t){this._append=t==null?X0:J6(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==vu||this._append!==ia){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,vu=r,ia=this._append,xu=this._,this._=i}this._+=xu;break}}}result(){const t=this._;return this._="",t.length?t:null}}function X0(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function J6(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return X0;if(t!==$u){const n=10**t;$u=t,ia=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return ia}function Ra(e,t){let n=3,r=4.5,i,o;function a(s){return s&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Hn(s,i(o))),o.result()}return a.area=function(s){return Hn(s,i(fn)),fn.result()},a.measure=function(s){return Hn(s,i(Ci)),Ci.result()},a.bounds=function(s){return Hn(s,i(ta)),ta.result()},a.centroid=function(s){return Hn(s,i(bt)),bt.result()},a.projection=function(s){return arguments.length?(i=s==null?(e=null,yf):(e=s).stream,a):e},a.context=function(s){return arguments.length?(o=s==null?(t=null,new Mu(n)):new H0(t=s),typeof r!="function"&&o.pointRadius(r),a):t},a.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(o.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const f=Math.floor(s);if(!(f>=0))throw new RangeError(`invalid digits: ${s}`);n=f}return t===null&&(o=new Mu(n)),a},a.projection(e).digits(n).context(t)}function Ef(e){return{stream:Fa(e)}}function Fa(e){return function(t){var n=new Cf;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Cf(){}Cf.prototype={constructor:Cf,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ac(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Hn(n,e.stream(ta)),t(ta.result()),r!=null&&e.clipExtent(r),e}function Nc(e,t,n){return Ac(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,f=+t[0][1]+(o-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,f])},n)}function K0(e,t,n){return Nc(e,[[0,0],t],n)}function Z0(e,t,n){return Ac(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];e.scale(150*o).translate([a,s])},n)}function Q0(e,t,n){return Ac(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,s])},n)}var ku=16,e3=ge(30*Ae);function Su(e,t){return+t?n3(e,t):t3(e)}function t3(e){return Fa({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function n3(e,t){function n(r,i,o,a,s,f,c,l,h,u,d,m,p,g){var b=c-r,_=l-i,w=b*b+_*_;if(w>4*t&&p--){var y=a+u,v=s+d,$=f+m,M=tt(y*y+v*v+$*$),k=kt($/=M),S=Me(Me($)-1)<me||Me(o-h)<me?(o+h)/2:gn(v,y),A=e(S,k),x=A[0],B=A[1],R=x-r,L=B-i,C=_*R-b*L;(C*C/w>t||Me((b*R+_*L)/w-.5)>.3||a*u+s*d+f*m<e3)&&(n(r,i,o,a,s,f,x,B,S,y/=M,v/=M,$,p,g),g.point(x,B),n(x,B,S,y,v,$,c,l,h,u,d,m,p,g))}}return function(r){var i,o,a,s,f,c,l,h,u,d,m,p,g={point:b,lineStart:_,lineEnd:y,polygonStart:function(){r.polygonStart(),g.lineStart=v},polygonEnd:function(){r.polygonEnd(),g.lineStart=_}};function b(k,S){k=e(k,S),r.point(k[0],k[1])}function _(){h=NaN,g.point=w,r.lineStart()}function w(k,S){var A=Or([k,S]),x=e(k,S);n(h,u,l,d,m,p,h=x[0],u=x[1],l=k,d=A[0],m=A[1],p=A[2],ku,r),r.point(h,u)}function y(){g.point=b,r.lineEnd()}function v(){_(),g.point=$,g.lineEnd=M}function $(k,S){w(i=k,S),o=h,a=u,s=d,f=m,c=p,g.point=w}function M(){n(h,u,l,d,m,p,o,a,i,s,f,c,ku,r),g.lineEnd=y,y()}return g}}var r3=Fa({point:function(e,t){this.stream.point(e*Ae,t*Ae)}});function i3(e){return Fa({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function o3(e,t,n,r,i){function o(a,s){return a*=r,s*=i,[t+e*a,n-e*s]}return o.invert=function(a,s){return[(a-t)/e*r,(n-s)/e*i]},o}function Tu(e,t,n,r,i,o){if(!o)return o3(e,t,n,r,i);var a=ge(o),s=he(o),f=a*e,c=s*e,l=a/e,h=s/e,u=(s*n-a*t)/e,d=(s*t+a*n)/e;function m(p,g){return p*=r,g*=i,[f*p-c*g+t,n-c*p-f*g]}return m.invert=function(p,g){return[r*(l*p-h*g+u),i*(d-h*p-l*g)]},m}function On(e){return J0(function(){return e})()}function J0(e){var t,n=150,r=480,i=250,o=0,a=0,s=0,f=0,c=0,l,h=0,u=1,d=1,m=null,p=_u,g=null,b,_,w,y=yf,v=.5,$,M,k,S,A;function x(C){return k(C[0]*Ae,C[1]*Ae)}function B(C){return C=k.invert(C[0],C[1]),C&&[C[0]*Xe,C[1]*Xe]}x.stream=function(C){return S&&A===C?S:S=r3(i3(l)(p($(y(A=C)))))},x.preclip=function(C){return arguments.length?(p=C,m=void 0,L()):p},x.postclip=function(C){return arguments.length?(y=C,g=b=_=w=null,L()):y},x.clipAngle=function(C){return arguments.length?(p=+C?U6(m=C*Ae):(m=null,_u),L()):m*Xe},x.clipExtent=function(C){return arguments.length?(y=C==null?(g=b=_=w=null,yf):P0(g=+C[0][0],b=+C[0][1],_=+C[1][0],w=+C[1][1]),L()):g==null?null:[[g,b],[_,w]]},x.scale=function(C){return arguments.length?(n=+C,R()):n},x.translate=function(C){return arguments.length?(r=+C[0],i=+C[1],R()):[r,i]},x.center=function(C){return arguments.length?(o=C[0]%360*Ae,a=C[1]%360*Ae,R()):[o*Xe,a*Xe]},x.rotate=function(C){return arguments.length?(s=C[0]%360*Ae,f=C[1]%360*Ae,c=C.length>2?C[2]%360*Ae:0,R()):[s*Xe,f*Xe,c*Xe]},x.angle=function(C){return arguments.length?(h=C%360*Ae,R()):h*Xe},x.reflectX=function(C){return arguments.length?(u=C?-1:1,R()):u<0},x.reflectY=function(C){return arguments.length?(d=C?-1:1,R()):d<0},x.precision=function(C){return arguments.length?($=Su(M,v=C*C),L()):tt(v)},x.fitExtent=function(C,U){return Nc(x,C,U)},x.fitSize=function(C,U){return K0(x,C,U)},x.fitWidth=function(C,U){return Z0(x,C,U)},x.fitHeight=function(C,U){return Q0(x,C,U)};function R(){var C=Tu(n,0,0,u,d,h).apply(null,t(o,a)),U=Tu(n,r-C[0],i-C[1],u,d,h);return l=D0(s,f,c),M=bf(t,U),k=bf(l,M),$=Su(M,v),L()}function L(){return S=A=null,x}return function(){return t=e.apply(this,arguments),x.invert=t.invert&&B,R()}}function Ic(e){var t=0,n=_e/3,r=J0(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*Ae,n=o[1]*Ae):[t*Xe,n*Xe]},i}function a3(e){var t=ge(e);function n(r,i){return[r*t,he(i)/t]}return n.invert=function(r,i){return[r/t,kt(i*t)]},n}function s3(e,t){var n=he(e),r=(n+he(t))/2;if(Me(r)<me)return a3(e);var i=1+n*(2*r-n),o=tt(i)/r;function a(s,f){var c=tt(i-2*r*he(f))/r;return[c*he(s*=r),o-c*ge(s)]}return a.invert=function(s,f){var c=o-f,l=gn(s,Me(c))*yt(c);return c*r<0&&(l-=_e*yt(s)*yt(c)),[l/r,kt((i-(s*s+c*c)*r*r)/(2*r))]},a}function oa(){return Ic(s3).scale(155.424).center([0,33.6442])}function ep(){return oa().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function f3(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function c3(){var e,t,n=ep(),r,i=oa().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=oa().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,f,c={point:function(u,d){f=[u,d]}};function l(u){var d=u[0],m=u[1];return f=null,r.point(d,m),f||(o.point(d,m),f)||(s.point(d,m),f)}l.invert=function(u){var d=n.scale(),m=n.translate(),p=(u[0]-m[0])/d,g=(u[1]-m[1])/d;return(g>=.12&&g<.234&&p>=-.425&&p<-.214?i:g>=.166&&g<.234&&p>=-.214&&p<-.115?a:n).invert(u)},l.stream=function(u){return e&&t===u?e:e=f3([n.stream(t=u),i.stream(u),a.stream(u)])},l.precision=function(u){return arguments.length?(n.precision(u),i.precision(u),a.precision(u),h()):n.precision()},l.scale=function(u){return arguments.length?(n.scale(u),i.scale(u*.35),a.scale(u),l.translate(n.translate())):n.scale()},l.translate=function(u){if(!arguments.length)return n.translate();var d=n.scale(),m=+u[0],p=+u[1];return r=n.translate(u).clipExtent([[m-.455*d,p-.238*d],[m+.455*d,p+.238*d]]).stream(c),o=i.translate([m-.307*d,p+.201*d]).clipExtent([[m-.425*d+me,p+.12*d+me],[m-.214*d-me,p+.234*d-me]]).stream(c),s=a.translate([m-.205*d,p+.212*d]).clipExtent([[m-.214*d+me,p+.166*d+me],[m-.115*d-me,p+.234*d-me]]).stream(c),h()},l.fitExtent=function(u,d){return Nc(l,u,d)},l.fitSize=function(u,d){return K0(l,u,d)},l.fitWidth=function(u,d){return Z0(l,u,d)},l.fitHeight=function(u,d){return Q0(l,u,d)};function h(){return e=t=null,l}return l.scale(1070)}function tp(e){return function(t,n){var r=ge(t),i=ge(n),o=e(r*i);return o===1/0?[2,0]:[o*i*he(t),o*he(n)]}}function Wi(e){return function(t,n){var r=tt(t*t+n*n),i=e(r),o=he(i),a=ge(i);return[gn(t*o,r*a),kt(r&&n*o/r)]}}var np=tp(function(e){return tt(2/(1+e))});np.invert=Wi(function(e){return 2*kt(e/2)});function l3(){return On(np).scale(124.75).clipAngle(180-.001)}var rp=tp(function(e){return(e=L0(e))&&e/he(e)});rp.invert=Wi(function(e){return e});function u3(){return On(rp).scale(79.4188).clipAngle(180-.001)}function Oa(e,t){return[e,Ko(Cc((Ne+t)/2))]}Oa.invert=function(e,t){return[e,2*Kr(I0(t))-Ne]};function h3(){return ip(Oa).scale(961/lt)}function ip(e){var t=On(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,a=null,s,f,c;t.scale=function(h){return arguments.length?(r(h),l()):r()},t.translate=function(h){return arguments.length?(i(h),l()):i()},t.center=function(h){return arguments.length?(n(h),l()):n()},t.clipExtent=function(h){return arguments.length?(h==null?a=s=f=c=null:(a=+h[0][0],s=+h[0][1],f=+h[1][0],c=+h[1][1]),l()):a==null?null:[[a,s],[f,c]]};function l(){var h=_e*r(),u=t(L6(t.rotate()).invert([0,0]));return o(a==null?[[u[0]-h,u[1]-h],[u[0]+h,u[1]+h]]:e===Oa?[[Math.max(u[0]-h,a),s],[Math.min(u[0]+h,f),c]]:[[a,Math.max(u[1]-h,s)],[f,Math.min(u[1]+h,c)]])}return l()}function go(e){return Cc((Ne+e)/2)}function d3(e,t){var n=ge(e),r=e===t?he(e):Ko(n/ge(t))/Ko(go(t)/go(e)),i=n*_s(go(e),r)/r;if(!r)return Oa;function o(a,s){i>0?s<-Ne+me&&(s=-Ne+me):s>Ne-me&&(s=Ne-me);var f=i/_s(go(s),r);return[f*he(r*a),i-f*ge(r*a)]}return o.invert=function(a,s){var f=i-s,c=yt(r)*tt(a*a+f*f),l=gn(a,Me(f))*yt(f);return f*r<0&&(l-=_e*yt(a)*yt(f)),[l/r,2*Kr(_s(i/c,1/r))-Ne]},o}function p3(){return Ic(d3).scale(109.5).parallels([30,30])}function aa(e,t){return[e,t]}aa.invert=aa;function m3(){return On(aa).scale(152.63)}function g3(e,t){var n=ge(e),r=e===t?he(e):(n-ge(t))/(t-e),i=n/r+e;if(Me(r)<me)return aa;function o(a,s){var f=i-s,c=r*a;return[f*he(c),i-f*ge(c)]}return o.invert=function(a,s){var f=i-s,c=gn(a,Me(f))*yt(f);return f*r<0&&(c-=_e*yt(a)*yt(f)),[c/r,i-yt(r)*tt(a*a+f*f)]},o}function b3(){return Ic(g3).scale(131.154).center([0,13.9389])}var _i=1.340264,yi=-.081106,wi=893e-6,$i=.003796,sa=tt(3)/2,_3=12;function op(e,t){var n=kt(sa*he(t)),r=n*n,i=r*r*r;return[e*ge(n)/(sa*(_i+3*yi*r+i*(7*wi+9*$i*r))),n*(_i+yi*r+i*(wi+$i*r))]}op.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,a,s,f;o<_3&&(s=n*(_i+yi*r+i*(wi+$i*r))-t,f=_i+3*yi*r+i*(7*wi+9*$i*r),n-=a=s/f,r=n*n,i=r*r*r,!(Me(a)<N0));++o);return[sa*e*(_i+3*yi*r+i*(7*wi+9*$i*r))/ge(n),kt(he(n)/sa)]};function y3(){return On(op).scale(177.158)}function ap(e,t){var n=ge(t),r=ge(e)*n;return[n*he(e)/r,he(t)/r]}ap.invert=Wi(Kr);function w3(){return On(ap).scale(144.049).clipAngle(60)}function sp(e,t){return[ge(t)*he(e),he(t)]}sp.invert=Wi(kt);function $3(){return On(sp).scale(249.5).clipAngle(90+me)}function fp(e,t){var n=ge(t),r=1+ge(e)*n;return[n*he(e)/r,he(t)/r]}fp.invert=Wi(function(e){return 2*Kr(e)});function v3(){return On(fp).scale(250).clipAngle(142)}function cp(e,t){return[Ko(Cc((Ne+t)/2)),-e]}cp.invert=function(e,t){return[-t,2*Kr(I0(e))-Ne]};function x3(){var e=ip(cp),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Zt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Pa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Af=Symbol("implicit");function Lc(){var e=new Jn,t=[],n=[],r=Af;function i(o){let a=e.get(o);if(a===void 0){if(r!==Af)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Jn;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Lc(t,n).unknown(r)},Zt.apply(i,arguments),i}function Ba(){var e=Lc().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,f=0,c=0,l=.5;delete e.unknown;function h(){var u=t().length,d=i<r,m=d?i:r,p=d?r:i;o=(p-m)/Math.max(1,u-f+c*2),s&&(o=Math.floor(o)),m+=(p-m-o*(u-f))*l,a=o*(1-f),s&&(m=Math.round(m),a=Math.round(a));var g=tf(u).map(function(b){return m+o*b});return n(d?g.reverse():g)}return e.domain=function(u){return arguments.length?(t(u),h()):t()},e.range=function(u){return arguments.length?([r,i]=u,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(u){return[r,i]=u,r=+r,i=+i,s=!0,h()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(u){return arguments.length?(s=!!u,h()):s},e.padding=function(u){return arguments.length?(f=Math.min(1,c=+u),h()):f},e.paddingInner=function(u){return arguments.length?(f=Math.min(1,u),h()):f},e.paddingOuter=function(u){return arguments.length?(c=+u,h()):c},e.align=function(u){return arguments.length?(l=Math.max(0,Math.min(1,u)),h()):l},e.copy=function(){return Ba(t(),[r,i]).round(s).paddingInner(f).paddingOuter(c).align(l)},Zt.apply(h(),arguments)}function lp(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return lp(t())},e}function M3(){return lp(Ba.apply(null,arguments).paddingInner(1))}function k3(e){return function(){return e}}function Nf(e){return+e}var Eu=[0,1];function $t(e){return e}function If(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:k3(isNaN(t)?NaN:.5)}function S3(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function T3(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=If(i,r),o=n(a,o)):(r=If(r,i),o=n(o,a)),function(s){return o(r(s))}}function E3(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=If(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var f=ka(e,s,1,r)-1;return o[f](i[f](s))}}function qi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function za(){var e=Eu,t=Eu,n=Ui,r,i,o,a=$t,s,f,c;function l(){var u=Math.min(e.length,t.length);return a!==$t&&(a=S3(e[0],e[u-1])),s=u>2?E3:T3,f=c=null,h}function h(u){return u==null||isNaN(u=+u)?o:(f||(f=s(e.map(r),t,n)))(r(a(u)))}return h.invert=function(u){return a(i((c||(c=s(t,e.map(r),je)))(u)))},h.domain=function(u){return arguments.length?(e=Array.from(u,Nf),l()):e.slice()},h.range=function(u){return arguments.length?(t=Array.from(u),l()):t.slice()},h.rangeRound=function(u){return t=Array.from(u),n=xc,l()},h.clamp=function(u){return arguments.length?(a=u?!0:$t,l()):a!==$t},h.interpolate=function(u){return arguments.length?(n=u,l()):n},h.unknown=function(u){return arguments.length?(o=u,h):o},function(u,d){return r=u,i=d,l()}}function up(){return za()($t,$t)}function C3(e,t,n,r){var i=Js(e,t,n),o;switch(r=Ti(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=N6(i,a))&&(r.precision=o),A0(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=I6(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=A6(i))&&(r.precision=o-(r.type==="%")*2);break}}return Xr(r)}function Vi(e){var t=e.domain;return e.ticks=function(n){var r=t();return xi(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return C3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],f,c,l=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);l-- >0;){if(c=Uo(a,s,n),c===f)return r[i]=a,r[o]=s,t(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;f=c}return e},e}function Dc(){var e=up();return e.copy=function(){return qi(e,Dc())},Zt.apply(e,arguments),Vi(e)}function hp(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Nf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return hp(e).unknown(t)},e=arguments.length?Array.from(e,Nf):[0,1],Vi(n)}function dp(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Cu(e){return Math.log(e)}function Au(e){return Math.exp(e)}function A3(e){return-Math.log(-e)}function N3(e){return-Math.exp(-e)}function I3(e){return isFinite(e)?+("1e"+e):e<0?0:e}function L3(e){return e===10?I3:e===Math.E?Math.exp:t=>Math.pow(e,t)}function D3(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Nu(e){return(t,n)=>-e(-t,n)}function pp(e){const t=e(Cu,Au),n=t.domain;let r=10,i,o;function a(){return i=D3(r),o=L3(r),n()[0]<0?(i=Nu(i),o=Nu(o),e(A3,N3)):e(Cu,Au),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const f=n();let c=f[0],l=f[f.length-1];const h=l<c;h&&([c,l]=[l,c]);let u=i(c),d=i(l),m,p;const g=s==null?10:+s;let b=[];if(!(r%1)&&d-u<g){if(u=Math.floor(u),d=Math.ceil(d),c>0){for(;u<=d;++u)for(m=1;m<r;++m)if(p=u<0?m/o(-u):m*o(u),!(p<c)){if(p>l)break;b.push(p)}}else for(;u<=d;++u)for(m=r-1;m>=1;--m)if(p=u>0?m/o(-u):m*o(u),!(p<c)){if(p>l)break;b.push(p)}b.length*2<g&&(b=xi(c,l,g))}else b=xi(u,d,Math.min(d-u,g)).map(o);return h?b.reverse():b},t.tickFormat=(s,f)=>{if(s==null&&(s=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Ti(f)).precision==null&&(f.trim=!0),f=Xr(f)),s===1/0)return f;const c=Math.max(1,r*s/t.ticks().length);return l=>{let h=l/o(Math.round(i(l)));return h*r<r-.5&&(h*=r),h<=c?f(l):""}},t.nice=()=>n(dp(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function mp(){const e=pp(za()).domain([1,10]);return e.copy=()=>qi(e,mp()).base(e.base()),Zt.apply(e,arguments),e}function Iu(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Lu(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gp(e){var t=1,n=e(Iu(t),Lu(t));return n.constant=function(r){return arguments.length?e(Iu(t=+r),Lu(t)):t},Vi(n)}function bp(){var e=gp(za());return e.copy=function(){return qi(e,bp()).constant(e.constant())},Zt.apply(e,arguments)}function Du(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function R3(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function F3(e){return e<0?-e*e:e*e}function _p(e){var t=e($t,$t),n=1;function r(){return n===1?e($t,$t):n===.5?e(R3,F3):e(Du(n),Du(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Vi(t)}function yp(){var e=_p(za());return e.copy=function(){return qi(e,yp()).exponent(e.exponent())},Zt.apply(e,arguments),e}function wp(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=C2(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[ka(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(et),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return wp().domain(e).range(t).unknown(r)},Zt.apply(o,arguments)}function $p(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[ka(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return $p().domain(e).range(t).unknown(n)},Zt.apply(i,arguments)}const xs=new Date,Ms=new Date;function Oe(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const f=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return f;let c;do f.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<a);return f},i.filter=o=>Oe(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(xs.setTime(+o),Ms.setTime(+a),e(xs),e(Ms),Math.floor(n(xs,Ms))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const fa=Oe(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fa.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Oe(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fa);fa.range;const ln=1e3,vt=ln*60,un=vt*60,bn=un*24,Rc=bn*7,Ru=bn*30,ks=bn*365,Ct=Oe(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ln)},(e,t)=>(t-e)/ln,e=>e.getUTCSeconds());Ct.range;const Hi=Oe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ln)},(e,t)=>{e.setTime(+e+t*vt)},(e,t)=>(t-e)/vt,e=>e.getMinutes());Hi.range;const Yi=Oe(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*vt)},(e,t)=>(t-e)/vt,e=>e.getUTCMinutes());Yi.range;const ji=Oe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ln-e.getMinutes()*vt)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getHours());ji.range;const Gi=Oe(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getUTCHours());Gi.range;const fr=Oe(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*vt)/bn,e=>e.getDate()-1);fr.range;const Ua=Oe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bn,e=>e.getUTCDate()-1);Ua.range;const Wa=Oe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bn,e=>Math.floor(e/bn));Wa.range;function cr(e){return Oe(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*vt)/Rc)}const Br=cr(0),Ai=cr(1),vp=cr(2),xp=cr(3),or=cr(4),Mp=cr(5),kp=cr(6);Br.range;Ai.range;vp.range;xp.range;or.range;Mp.range;kp.range;function lr(e){return Oe(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Rc)}const zr=lr(0),Ni=lr(1),Sp=lr(2),Tp=lr(3),ar=lr(4),Ep=lr(5),Cp=lr(6);zr.range;Ni.range;Sp.range;Tp.range;ar.range;Ep.range;Cp.range;const Xi=Oe(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Xi.range;const Ki=Oe(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ki.range;const Lt=Oe(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Lt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Oe(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Lt.range;const Dt=Oe(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Dt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Oe(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Dt.range;function Ap(e,t,n,r,i,o){const a=[[Ct,1,ln],[Ct,5,5*ln],[Ct,15,15*ln],[Ct,30,30*ln],[o,1,vt],[o,5,5*vt],[o,15,15*vt],[o,30,30*vt],[i,1,un],[i,3,3*un],[i,6,6*un],[i,12,12*un],[r,1,bn],[r,2,2*bn],[n,1,Rc],[t,1,Ru],[t,3,3*Ru],[e,1,ks]];function s(c,l,h){const u=l<c;u&&([c,l]=[l,c]);const d=h&&typeof h.range=="function"?h:f(c,l,h),m=d?d.range(c,+l+1):[];return u?m.reverse():m}function f(c,l,h){const u=Math.abs(l-c)/h,d=Ma(([,,g])=>g).right(a,u);if(d===a.length)return e.every(Js(c/ks,l/ks,h));if(d===0)return fa.every(Math.max(Js(c,l,h),1));const[m,p]=a[u/a[d-1][2]<a[d][2]/u?d-1:d];return m.every(p)}return[s,f]}const[O3,Np]=Ap(Dt,Ki,zr,Wa,Gi,Yi),[P3,B3]=Ap(Lt,Xi,Br,fr,ji,Hi);function Ss(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ts(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ri(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function z3(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,f=e.shortMonths,c=ii(i),l=oi(i),h=ii(o),u=oi(o),d=ii(a),m=oi(a),p=ii(s),g=oi(s),b=ii(f),_=oi(f),w={a:z,A:ne,b:N,B:Y,c:null,d:Uu,e:Uu,f:cv,g:yv,G:$v,H:av,I:sv,j:fv,L:Ip,m:lv,M:uv,p:G,q:j,Q:Vu,s:Hu,S:hv,u:dv,U:pv,V:mv,w:gv,W:bv,x:null,X:null,y:_v,Y:wv,Z:vv,"%":qu},y={a:J,A:we,b:be,B:ye,c:null,d:Wu,e:Wu,f:Sv,g:Fv,G:Pv,H:xv,I:Mv,j:kv,L:Dp,m:Tv,M:Ev,p:K,q:ce,Q:Vu,s:Hu,S:Cv,u:Av,U:Nv,V:Iv,w:Lv,W:Dv,x:null,X:null,y:Rv,Y:Ov,Z:Bv,"%":qu},v={a:A,A:x,b:B,B:R,c:L,d:Bu,e:Bu,f:nv,g:Pu,G:Ou,H:zu,I:zu,j:Q3,L:tv,m:Z3,M:J3,p:S,q:K3,Q:iv,s:ov,S:ev,u:H3,U:Y3,V:j3,w:V3,W:G3,x:C,X:U,y:Pu,Y:Ou,Z:X3,"%":rv};w.x=$(n,w),w.X=$(r,w),w.c=$(t,w),y.x=$(n,y),y.X=$(r,y),y.c=$(t,y);function $(P,F){return function(Z){var D=[],pe=-1,ae=0,xe=P.length,Te,Ye,Mn;for(Z instanceof Date||(Z=new Date(+Z));++pe<xe;)P.charCodeAt(pe)===37&&(D.push(P.slice(ae,pe)),(Ye=Fu[Te=P.charAt(++pe)])!=null?Te=P.charAt(++pe):Ye=Te==="e"?" ":"0",(Mn=F[Te])&&(Te=Mn(Z,Ye)),D.push(Te),ae=pe+1);return D.push(P.slice(ae,pe)),D.join("")}}function M(P,F){return function(Z){var D=ri(1900,void 0,1),pe=k(D,P,Z+="",0),ae,xe;if(pe!=Z.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(F&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(ae=Ts(ri(D.y,0,1)),xe=ae.getUTCDay(),ae=xe>4||xe===0?Ni.ceil(ae):Ni(ae),ae=Ua.offset(ae,(D.V-1)*7),D.y=ae.getUTCFullYear(),D.m=ae.getUTCMonth(),D.d=ae.getUTCDate()+(D.w+6)%7):(ae=Ss(ri(D.y,0,1)),xe=ae.getDay(),ae=xe>4||xe===0?Ai.ceil(ae):Ai(ae),ae=fr.offset(ae,(D.V-1)*7),D.y=ae.getFullYear(),D.m=ae.getMonth(),D.d=ae.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),xe="Z"in D?Ts(ri(D.y,0,1)).getUTCDay():Ss(ri(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(xe+5)%7:D.w+D.U*7-(xe+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,Ts(D)):Ss(D)}}function k(P,F,Z,D){for(var pe=0,ae=F.length,xe=Z.length,Te,Ye;pe<ae;){if(D>=xe)return-1;if(Te=F.charCodeAt(pe++),Te===37){if(Te=F.charAt(pe++),Ye=v[Te in Fu?F.charAt(pe++):Te],!Ye||(D=Ye(P,Z,D))<0)return-1}else if(Te!=Z.charCodeAt(D++))return-1}return D}function S(P,F,Z){var D=c.exec(F.slice(Z));return D?(P.p=l.get(D[0].toLowerCase()),Z+D[0].length):-1}function A(P,F,Z){var D=d.exec(F.slice(Z));return D?(P.w=m.get(D[0].toLowerCase()),Z+D[0].length):-1}function x(P,F,Z){var D=h.exec(F.slice(Z));return D?(P.w=u.get(D[0].toLowerCase()),Z+D[0].length):-1}function B(P,F,Z){var D=b.exec(F.slice(Z));return D?(P.m=_.get(D[0].toLowerCase()),Z+D[0].length):-1}function R(P,F,Z){var D=p.exec(F.slice(Z));return D?(P.m=g.get(D[0].toLowerCase()),Z+D[0].length):-1}function L(P,F,Z){return k(P,t,F,Z)}function C(P,F,Z){return k(P,n,F,Z)}function U(P,F,Z){return k(P,r,F,Z)}function z(P){return a[P.getDay()]}function ne(P){return o[P.getDay()]}function N(P){return f[P.getMonth()]}function Y(P){return s[P.getMonth()]}function G(P){return i[+(P.getHours()>=12)]}function j(P){return 1+~~(P.getMonth()/3)}function J(P){return a[P.getUTCDay()]}function we(P){return o[P.getUTCDay()]}function be(P){return f[P.getUTCMonth()]}function ye(P){return s[P.getUTCMonth()]}function K(P){return i[+(P.getUTCHours()>=12)]}function ce(P){return 1+~~(P.getUTCMonth()/3)}return{format:function(P){var F=$(P+="",w);return F.toString=function(){return P},F},parse:function(P){var F=M(P+="",!1);return F.toString=function(){return P},F},utcFormat:function(P){var F=$(P+="",y);return F.toString=function(){return P},F},utcParse:function(P){var F=M(P+="",!0);return F.toString=function(){return P},F}}}var Fu={"-":"",_:" ",0:"0"},Ue=/^\s*\d+/,U3=/^%/,W3=/[\\^$*+?|[\]().{}]/g;function ve(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function q3(e){return e.replace(W3,"\\$&")}function ii(e){return new RegExp("^(?:"+e.map(q3).join("|")+")","i")}function oi(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function V3(e,t,n){var r=Ue.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function H3(e,t,n){var r=Ue.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Y3(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function j3(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function G3(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ou(e,t,n){var r=Ue.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Pu(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function X3(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function K3(e,t,n){var r=Ue.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Z3(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Bu(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Q3(e,t,n){var r=Ue.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zu(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function J3(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ev(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function tv(e,t,n){var r=Ue.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function nv(e,t,n){var r=Ue.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rv(e,t,n){var r=U3.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function iv(e,t,n){var r=Ue.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ov(e,t,n){var r=Ue.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Uu(e,t){return ve(e.getDate(),t,2)}function av(e,t){return ve(e.getHours(),t,2)}function sv(e,t){return ve(e.getHours()%12||12,t,2)}function fv(e,t){return ve(1+fr.count(Lt(e),e),t,3)}function Ip(e,t){return ve(e.getMilliseconds(),t,3)}function cv(e,t){return Ip(e,t)+"000"}function lv(e,t){return ve(e.getMonth()+1,t,2)}function uv(e,t){return ve(e.getMinutes(),t,2)}function hv(e,t){return ve(e.getSeconds(),t,2)}function dv(e){var t=e.getDay();return t===0?7:t}function pv(e,t){return ve(Br.count(Lt(e)-1,e),t,2)}function Lp(e){var t=e.getDay();return t>=4||t===0?or(e):or.ceil(e)}function mv(e,t){return e=Lp(e),ve(or.count(Lt(e),e)+(Lt(e).getDay()===4),t,2)}function gv(e){return e.getDay()}function bv(e,t){return ve(Ai.count(Lt(e)-1,e),t,2)}function _v(e,t){return ve(e.getFullYear()%100,t,2)}function yv(e,t){return e=Lp(e),ve(e.getFullYear()%100,t,2)}function wv(e,t){return ve(e.getFullYear()%1e4,t,4)}function $v(e,t){var n=e.getDay();return e=n>=4||n===0?or(e):or.ceil(e),ve(e.getFullYear()%1e4,t,4)}function vv(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ve(t/60|0,"0",2)+ve(t%60,"0",2)}function Wu(e,t){return ve(e.getUTCDate(),t,2)}function xv(e,t){return ve(e.getUTCHours(),t,2)}function Mv(e,t){return ve(e.getUTCHours()%12||12,t,2)}function kv(e,t){return ve(1+Ua.count(Dt(e),e),t,3)}function Dp(e,t){return ve(e.getUTCMilliseconds(),t,3)}function Sv(e,t){return Dp(e,t)+"000"}function Tv(e,t){return ve(e.getUTCMonth()+1,t,2)}function Ev(e,t){return ve(e.getUTCMinutes(),t,2)}function Cv(e,t){return ve(e.getUTCSeconds(),t,2)}function Av(e){var t=e.getUTCDay();return t===0?7:t}function Nv(e,t){return ve(zr.count(Dt(e)-1,e),t,2)}function Rp(e){var t=e.getUTCDay();return t>=4||t===0?ar(e):ar.ceil(e)}function Iv(e,t){return e=Rp(e),ve(ar.count(Dt(e),e)+(Dt(e).getUTCDay()===4),t,2)}function Lv(e){return e.getUTCDay()}function Dv(e,t){return ve(Ni.count(Dt(e)-1,e),t,2)}function Rv(e,t){return ve(e.getUTCFullYear()%100,t,2)}function Fv(e,t){return e=Rp(e),ve(e.getUTCFullYear()%100,t,2)}function Ov(e,t){return ve(e.getUTCFullYear()%1e4,t,4)}function Pv(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ar(e):ar.ceil(e),ve(e.getUTCFullYear()%1e4,t,4)}function Bv(){return"+0000"}function qu(){return"%"}function Vu(e){return+e}function Hu(e){return Math.floor(+e/1e3)}var gr,Fc,Zi;zv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zv(e){return gr=z3(e),Fc=gr.format,gr.parse,Zi=gr.utcFormat,gr.utcParse,gr}function Uv(e){return new Date(e)}function Wv(e){return e instanceof Date?+e:+new Date(+e)}function Oc(e,t,n,r,i,o,a,s,f,c){var l=up(),h=l.invert,u=l.domain,d=c(".%L"),m=c(":%S"),p=c("%I:%M"),g=c("%I %p"),b=c("%a %d"),_=c("%b %d"),w=c("%B"),y=c("%Y");function v($){return(f($)<$?d:s($)<$?m:a($)<$?p:o($)<$?g:r($)<$?i($)<$?b:_:n($)<$?w:y)($)}return l.invert=function($){return new Date(h($))},l.domain=function($){return arguments.length?u(Array.from($,Wv)):u().map(Uv)},l.ticks=function($){var M=u();return e(M[0],M[M.length-1],$??10)},l.tickFormat=function($,M){return M==null?v:c(M)},l.nice=function($){var M=u();return(!$||typeof $.range!="function")&&($=t(M[0],M[M.length-1],$??10)),$?u(dp(M,$)):l},l.copy=function(){return qi(l,Oc(e,t,n,r,i,o,a,s,f,c))},l}function qv(){return Zt.apply(Oc(P3,B3,Lt,Xi,Br,fr,ji,Hi,Ct,Fc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Vv(){return Zt.apply(Oc(O3,Np,Dt,Ki,zr,Ua,Gi,Yi,Ct,Zi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Va(){var e=0,t=.5,n=1,r=1,i,o,a,s,f,c=$t,l,h=!1,u;function d(p){return isNaN(p=+p)?u:(p=.5+((p=+l(p))-o)*(r*p<r*o?s:f),c(h?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t,n]=p,i=l(e=+e),o=l(t=+t),a=l(n=+n),s=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,d):[e,t,n]},d.clamp=function(p){return arguments.length?(h=!!p,d):h},d.interpolator=function(p){return arguments.length?(c=p,d):c};function m(p){return function(g){var b,_,w;return arguments.length?([b,_,w]=g,c=Ia(p,[b,_,w]),d):[c(0),c(.5),c(1)]}}return d.range=m(Ui),d.rangeRound=m(xc),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return l=p,i=p(e),o=p(t),a=p(n),s=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function Fp(){var e=Vi(Va()($t));return e.copy=function(){return qa(e,Fp())},Pa.apply(e,arguments)}function Op(){var e=pp(Va()).domain([.1,1,10]);return e.copy=function(){return qa(e,Op()).base(e.base())},Pa.apply(e,arguments)}function Pp(){var e=gp(Va());return e.copy=function(){return qa(e,Pp()).constant(e.constant())},Pa.apply(e,arguments)}function Bp(){var e=_p(Va());return e.copy=function(){return qa(e,Bp()).exponent(e.exponent())},Pa.apply(e,arguments)}function de(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Hv=de("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Yv=de("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),jv=de("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Gv=de("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Xv=de("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Kv=de("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Zv=de("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Qv=de("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Jv=de("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),e5=de("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),t5=de("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Se=e=>Hw(e[e.length-1]);var zp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(de);const Up=Se(zp);var Wp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(de);const qp=Se(Wp);var Vp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(de);const Hp=Se(Vp);var Yp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(de);const jp=Se(Yp);var Lf=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(de);const ca=Se(Lf);var Gp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(de);const Xp=Se(Gp);var Df=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(de);const la=Se(Df);var Kp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(de);const Zp=Se(Kp);var Qp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(de);const Jp=Se(Qp);var e1=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(de);const t1=Se(e1);var n1=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(de);const r1=Se(n1);var i1=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(de);const o1=Se(i1);var a1=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(de);const s1=Se(a1);var f1=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(de);const c1=Se(f1);var l1=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(de);const u1=Se(l1);var h1=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(de);const d1=Se(h1);var p1=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(de);const m1=Se(p1);var g1=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(de);const b1=Se(g1);var _1=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(de);const y1=Se(_1);var w1=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(de);const $1=Se(w1);var v1=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(de);const x1=Se(v1);var M1=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(de);const k1=Se(M1);var S1=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(de);const T1=Se(S1);var E1=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(de);const C1=Se(E1);var A1=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(de);const N1=Se(A1);var I1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(de);const L1=Se(I1);var D1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(de);const R1=Se(D1);function F1(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const O1=Mc(jt(300,.5,0),jt(-240,.5,1));var P1=Mc(jt(-100,.75,.35),jt(80,1.5,.8)),B1=Mc(jt(260,.75,.35),jt(80,1.5,.8)),bo=jt();function z1(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return bo.h=360*e-100,bo.s=1.5-1.5*t,bo.l=.8-.9*t,bo+""}var _o=An(),n5=Math.PI/3,r5=Math.PI*2/3;function U1(e){var t;return e=(.5-e)*Math.PI,_o.r=255*(t=Math.sin(e))*t,_o.g=255*(t=Math.sin(e+n5))*t,_o.b=255*(t=Math.sin(e+r5))*t,_o+""}function W1(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Ha(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const q1=Ha(de("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var V1=Ha(de("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),H1=Ha(de("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Y1=Ha(de("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function br(e){return function(){return e}}const j1=Math.cos,Pc=Math.min,ua=Math.sin,Pe=Math.sqrt,Yu=1e-12,ha=Math.PI,Ya=2*ha;function i5(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new E0(t)}function o5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function G1(e){this._context=e}G1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ja(e){return new G1(e)}function a5(e){return e[0]}function s5(e){return e[1]}function f5(e,t){var n=br(!0),r=null,i=ja,o=null,a=i5(s);e=typeof e=="function"?e:e===void 0?a5:br(e),t=typeof t=="function"?t:t===void 0?s5:br(t);function s(f){var c,l=(f=o5(f)).length,h,u=!1,d;for(r==null&&(o=i(d=a())),c=0;c<=l;++c)!(c<l&&n(h=f[c],c,f))===u&&((u=!u)?o.lineStart():o.lineEnd()),u&&o.point(+e(h,c,f),+t(h,c,f));if(d)return o=null,d+""||null}return s.x=function(f){return arguments.length?(e=typeof f=="function"?f:br(+f),s):e},s.y=function(f){return arguments.length?(t=typeof f=="function"?f:br(+f),s):t},s.defined=function(f){return arguments.length?(n=typeof f=="function"?f:br(!!f),s):n},s.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),s):i},s.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),s):r},s}class X1{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function c5(e){return new X1(e,!0)}function l5(e){return new X1(e,!1)}const u5=Pe(3),K1={draw(e,t){const n=Pe(t+Pc(t/28,.75))*.59436,r=n/2,i=r*u5;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Ii={draw(e,t){const n=Pe(t/ha);e.moveTo(n,0),e.arc(0,0,n,0,Ya)}},Z1={draw(e,t){const n=Pe(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Q1=Pe(1/3),h5=Q1*2,J1={draw(e,t){const n=Pe(t/h5),r=n*Q1;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},em={draw(e,t){const n=Pe(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},tm={draw(e,t){const n=Pe(t-Pc(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},nm={draw(e,t){const n=Pe(t),r=-n/2;e.rect(r,r,n,n)}},rm={draw(e,t){const n=Pe(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},d5=.8908130915292852,im=ua(ha/10)/ua(7*ha/10),p5=ua(Ya/10)*im,m5=-j1(Ya/10)*im,om={draw(e,t){const n=Pe(t*d5),r=p5*n,i=m5*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=Ya*o/5,s=j1(a),f=ua(a);e.lineTo(f*n,-s*n),e.lineTo(s*r-f*i,f*r+s*i)}e.closePath()}},Es=Pe(3),am={draw(e,t){const n=-Pe(t/(Es*3));e.moveTo(0,n*2),e.lineTo(-Es*n,-n),e.lineTo(Es*n,-n),e.closePath()}},g5=Pe(3),sm={draw(e,t){const n=Pe(t)*.6824,r=n/2,i=n*g5/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},pt=-.5,mt=Pe(3)/2,Rf=1/Pe(12),b5=(Rf/2+1)*3,fm={draw(e,t){const n=Pe(t/b5),r=n/2,i=n*Rf,o=r,a=n*Rf+n,s=-o,f=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,f),e.lineTo(pt*r-mt*i,mt*r+pt*i),e.lineTo(pt*o-mt*a,mt*o+pt*a),e.lineTo(pt*s-mt*f,mt*s+pt*f),e.lineTo(pt*r+mt*i,pt*i-mt*r),e.lineTo(pt*o+mt*a,pt*a-mt*o),e.lineTo(pt*s+mt*f,pt*f-mt*s),e.closePath()}},cm={draw(e,t){const n=Pe(t-Pc(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},_5=[Ii,Z1,J1,nm,om,am,fm],y5=[Ii,tm,cm,sm,K1,rm,em];function Nn(){}function da(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Ga(e){this._context=e}Ga.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:da(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:da(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w5(e){return new Ga(e)}function lm(e){this._context=e}lm.prototype={areaStart:Nn,areaEnd:Nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:da(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $5(e){return new lm(e)}function um(e){this._context=e}um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:da(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v5(e){return new um(e)}function hm(e,t){this._basis=new Ga(e),this._beta=t}hm.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,s=-1,f;++s<=n;)f=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+f*o),this._beta*t[s]+(1-this._beta)*(i+f*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const x5=function e(t){function n(r){return t===1?new Ga(r):new hm(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function pa(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Bc(e,t){this._context=e,this._k=(1-t)/6}Bc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:pa(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:pa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const M5=function e(t){function n(r){return new Bc(r,t)}return n.tension=function(r){return e(+r)},n}(0);function zc(e,t){this._context=e,this._k=(1-t)/6}zc.prototype={areaStart:Nn,areaEnd:Nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:pa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const k5=function e(t){function n(r){return new zc(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Uc(e,t){this._context=e,this._k=(1-t)/6}Uc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const S5=function e(t){function n(r){return new Uc(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Wc(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Yu){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,f=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/f,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/f}if(e._l23_a>Yu){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/l,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function dm(e,t){this._context=e,this._alpha=t}dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Wc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const T5=function e(t){function n(r){return t?new dm(r,t):new Bc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function pm(e,t){this._context=e,this._alpha=t}pm.prototype={areaStart:Nn,areaEnd:Nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Wc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const E5=function e(t){function n(r){return t?new pm(r,t):new zc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function mm(e,t){this._context=e,this._alpha=t}mm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const C5=function e(t){function n(r){return t?new mm(r,t):new Uc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function gm(e){this._context=e}gm.prototype={areaStart:Nn,areaEnd:Nn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function A5(e){return new gm(e)}function ju(e){return e<0?-1:1}function Gu(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(ju(o)+ju(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Xu(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Cs(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function ma(e){this._context=e}ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cs(this,this._t0,Xu(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Cs(this,Xu(this,n=Gu(this,e,t)),n);break;default:Cs(this,this._t0,n=Gu(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function bm(e){this._context=new _m(e)}(bm.prototype=Object.create(ma.prototype)).point=function(e,t){ma.prototype.point.call(this,t,e)};function _m(e){this._context=e}_m.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function N5(e){return new ma(e)}function I5(e){return new bm(e)}function ym(e){this._context=e}ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Ku(e),i=Ku(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ku(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function L5(e){return new ym(e)}function Xa(e,t){this._context=e,this._t=t}Xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function D5(e){return new Xa(e,.5)}function R5(e){return new Xa(e,0)}function F5(e){return new Xa(e,1)}function gi(e,t,n){this.k=e,this.x=t,this.y=n}gi.prototype={constructor:gi,scale:function(e){return e===1?this:new gi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new gi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};gi.prototype;function In(e){return e!=null&&!Number.isNaN(e)}function Rt(e,t){return+In(t)-+In(e)||et(e,t)}function ga(e,t){return+In(t)-+In(e)||Pi(e,t)}function qc(e){return e!=null&&`${e}`!=""}function wm(e){return isFinite(e)?e:NaN}function Ka(e){return e>0&&isFinite(e)?e:NaN}function Vc(e){return e<0&&isFinite(e)?e:NaN}function O5(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${P5(e.getUTCFullYear())}-${sn(e.getUTCMonth()+1,2)}-${sn(e.getUTCDate(),2)}${n||r||i||o?`T${sn(n,2)}:${sn(r,2)}${i||o?`:${sn(i,2)}${o?`.${sn(o,3)}`:""}`:""}Z`:""}`}function P5(e){return e<0?`-${sn(-e,6)}`:e>9999?`+${sn(e,6)}`:sn(e,4)}function sn(e,t){return`${e}`.padStart(t,"0")}const B5=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function $m(e,t){return B5.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function Ur(e){if(e==null)return;const t=e[0],n=e[e.length-1];return Pi(t,n)}const vr=1e3,Sn=vr*60,Tn=Sn*60,Gt=Tn*24,Bt=Gt*7,Zn=Gt*30,kn=Gt*365,As=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",vr],["5 seconds",5*vr],["15 seconds",15*vr],["30 seconds",30*vr],["minute",Sn],["5 minutes",5*Sn],["15 minutes",15*Sn],["30 minutes",30*Sn],["hour",Tn],["3 hours",3*Tn],["6 hours",6*Tn],["12 hours",12*Tn],["day",Gt],["2 days",2*Gt],["week",Bt],["2 weeks",2*Bt],["month",Zn],["3 months",3*Zn],["6 months",6*Zn],["year",kn],["2 years",2*kn],["5 years",5*kn],["10 years",10*kn],["20 years",20*kn],["50 years",50*kn],["100 years",100*kn]],Hc=new Map([["second",vr],["minute",Sn],["hour",Tn],["day",Gt],["monday",Bt],["tuesday",Bt],["wednesday",Bt],["thursday",Bt],["friday",Bt],["saturday",Bt],["sunday",Bt],["week",Bt],["month",Zn],["year",kn]]),vm=new Map([["second",Ct],["minute",Hi],["hour",ji],["day",fr],["monday",Ai],["tuesday",vp],["wednesday",xp],["thursday",or],["friday",Mp],["saturday",kp],["sunday",Br],["week",Br],["month",Xi],["year",Lt]]),Yc=new Map([["second",Ct],["minute",Yi],["hour",Gi],["day",Wa],["monday",Ni],["tuesday",Sp],["wednesday",Tp],["thursday",ar],["friday",Ep],["saturday",Cp],["sunday",zr],["week",zr],["month",Ki],["year",Dt]]),Qi=Symbol("intervalDuration"),Za=Symbol("intervalType");for(const[e,t]of vm)t[Qi]=Hc.get(e),t[Za]="time";for(const[e,t]of Yc)t[Qi]=Hc.get(e),t[Za]="utc";const bi=[["year",Dt,"utc"],["month",Ki,"utc"],["day",Wa,"utc",6*Zn],["hour",Gi,"utc",3*Gt],["minute",Yi,"utc",6*Tn],["second",Ct,"utc",30*Sn]],Lo=[["year",Lt,"time"],["month",Xi,"time"],["day",fr,"time",6*Zn],["hour",ji,"time",3*Gt],["minute",Hi,"time",6*Tn],["second",Ct,"time",30*Sn]],z5=[bi[0],Lo[0],bi[1],Lo[1],bi[2],Lo[2],...bi.slice(3)];function xm(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(t);switch(r&&(t=t.slice(r[0].length),n=+r[1]),t){case"quarter":t="month",n*=3;break;case"half":t="month",n*=6;break}let i=Yc.get(t);if(!i)throw new Error(`unknown interval: ${e}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,n]}function Mm(e){return km(xm(e),"time")}function jc(e){return km(xm(e),"utc")}function km([e,t],n){let r=(n==="time"?vm:Yc).get(e);return t>1&&(r=r.every(t),r[Qi]=Hc.get(e)*t,r[Za]=n),r}function Zu(e,t){if(!(t>1))return;const n=e[Qi];if(!As.some(([,i])=>i===n)||n%Gt===0&&Gt<n&&n<Zn)return;const[r]=As[Ma(([,i])=>Math.log(i)).center(As,Math.log(n*t))];return(e[Za]==="time"?Mm:jc)(r)}function Qu(e,t,n){const r=t==="time"?Fc:Zi;if(n==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=U5(n);switch(e){case"millisecond":return _r(r(".%L"),r(":%M:%S"),i);case"second":return _r(r(":%S"),r("%-I:%M"),i);case"minute":return _r(r("%-I:%M"),r("%p"),i);case"hour":return _r(r("%-I %p"),r("%b %-d"),i);case"day":return _r(r("%-d"),r("%b"),i);case"month":return _r(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function U5(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function W5(e){return e==="time"?Lo:e==="utc"?bi:z5}function q5(e,t,n){const r=Nt(D2(t,(i,o)=>Math.abs(o-i)));if(r<1e3)return Qu("millisecond","utc",n);for(const[i,o,a,s]of W5(e)){if(r>s||i==="hour"&&!r)break;if(t.every(f=>o.floor(f)>=f))return Qu(i,a,n)}}function _r(e,t,n){return(r,i,o)=>{const a=e(r,i),s=t(r,i),f=i-Ur(o);return i!==f&&o[f]!==void 0&&s===t(o[f],f)?a:n(a,s)}}const Gc=Object.getPrototypeOf(Uint8Array),V5=Object.prototype.toString;function ur(e){return e instanceof Array||e instanceof Gc}function Sm(e){return e instanceof Gc&&!H5(e)}function Tm(e){return e?.prototype instanceof Gc&&!Y5(e)}function H5(e){return e instanceof BigInt64Array||e instanceof BigUint64Array}function Y5(e){return e===BigInt64Array||e===BigUint64Array}const Em=Symbol("reindex");function Fe(e,t,n){const r=typeof t;return r==="string"?Wm(e)?Xc(e.getChild(t),n):Ju(e,Cm(t),n):r==="function"?Ju(e,t,n):r==="number"||t instanceof Date||r==="boolean"?Re(e,hn(t),n):typeof t?.transform=="function"?Ff(t.transform(e),n):j5(Ff(t,n),e?.[Em])}function j5(e,t){return e!=null&&t?Zc(e,t):e}function Ju(e,t,n){return Re(e,Tm(n)?(r,i)=>Kc(t(r,i)):t,n)}function Ff(e,t){return t===void 0?Dn(e):qm(e)?Xc(e,t):e instanceof t?e:t.from(e,Tm(t)&&!Sm(e)?Kc:void 0)}function Xc(e,t){return e==null?e:(t===void 0||t===Array)&&p4(e.type)?Im(e.toArray()):Ff(e.toArray(),t)}const Do=[null],Cm=e=>t=>{const n=t[e];return n===void 0&&t.type==="Feature"?t.properties?.[e]:n},Am={transform:wn},rt={transform:e=>e},G5=()=>1,X5=()=>!0,Ke=e=>e==null?e:`${e}`,Ve=e=>e==null?e:+e,Nm=e=>e?e[0]:void 0,Of=e=>e?e[1]:void 0,hn=e=>()=>e;function K5(e){const t=+`${e}`.slice(1)/100;return(n,r)=>Nr(n,t,r)}function Ln(e){return Sm(e)?e:Re(e,Kc,Float64Array)}function Kc(e){return e==null?NaN:Number(e)}function Im(e){return Re(e,Lm)}function Lm(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?$m(e):e==null||isNaN(e=Number(e))?void 0:new Date(e)}function _n(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:es(e)?[void 0,e]:[e,void 0]}function Ze(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function Dm(e,t,n){if(e!=null)return Ot(e,t,n)}function Ot(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function Wr(e){return Wm(e)?e:Dn(e)}function Dn(e){if(e==null||ur(e))return e;if(qm(e))return Xc(e);switch(e.type){case"FeatureCollection":return e.features;case"GeometryCollection":return e.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[e]}return Array.from(e)}function Re(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function Li(e,t=Array){return e instanceof t?e.slice():t.from(e)}function Z5({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function Rm({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function Q5(e){return Z5(e)||Rm(e)||e.interval!==void 0}function Pn(e){return e?.toString===V5}function Pf(e){return Pn(e)&&(e.type!==void 0||e.domain!==void 0)}function Qa(e){return Pn(e)&&typeof e.transform!="function"}function qr(e){return Qa(e)&&e.value===void 0&&e.channel===void 0}function J5(e,t,n,r=rt){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function Ja(e,t){return e===void 0&&t===void 0?[Nm,Of]:[e,t]}function Fm({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=_n(t)),e===void 0&&([e]=_n(n)),e}function Di(e){return ur(e)?e.length:e?.numRows}function wn(e){const t=Di(e),n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function Zc(e,t){return ur(e)?Re(t,n=>e[n],e.constructor):Re(t,n=>e.at(n))}function e4(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function dn(e){return e!==null&&typeof e=="object"?e.valueOf():e}function t4(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function ba(e){let t;return[{transform:()=>t,label:hr(e)},n=>t=n]}function on(e){return e==null?[e]:ba(e)}function hr(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function Bf(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return nt(r)||nt(i)?Re(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):Re(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:e.label}}function Om(e,t){const n=Pm(t?.interval,t?.type);return n?Re(e,n):e}function Pm(e,t){const n=Qc(e,t);return n&&(r=>In(r)?n.floor(r):r)}function Qc(e,t){if(e!=null){if(typeof e=="number")return n4(e);if(typeof e=="string")return(t==="time"?Mm:jc)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function n4(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:n=>Math.floor(n*t)/t,offset:(n,r=1)=>(n*t+Math.floor(r))/t,range:(n,r)=>tf(Math.ceil(n*t),r*t).map(i=>i/t)}:{floor:n=>Math.floor(n/t)*t,offset:(n,r=1)=>n+t*Math.floor(r),range:(n,r)=>tf(Math.ceil(n/t),r/t).map(i=>i*t)}}function Zr(e,t){if(e=Qc(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function r4(e,t){if(e=Zr(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function i4(e){return xr(e)&&typeof e?.floor=="function"&&e.floor()instanceof Date}function xr(e){return typeof e?.range=="function"}function Ji(e){return e===void 0||Qa(e)?e:{value:e}}function o4(e){return e==null?null:{transform:t=>Fe(t,e,Float64Array),label:hr(e)}}function Bn(e){return e&&typeof e[Symbol.iterator]=="function"}function Bm(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function eh(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function nt(e){for(const t of e)if(t!=null)return t instanceof Date}function a4(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&$m(t)}function s4(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function f4(e){for(const t of e)if(t!=null)return typeof t=="number"}function Ns(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}const c4=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function es(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||c4.has(e))}function l4(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Qe(e){return e==null||Ri(e)}function Ri(e){return/^\s*none\s*$/i.test(e)}function u4(e){return/^\s*round\s*$/i.test(e)}function zf(e,t){return Dm(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function ts(e="middle"){return zf(e,"frameAnchor")}function h4(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const o=r[i];n===e?n={...n,[i]:o}:n[i]=o}return n}function d4(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function zm(e){return Bn(e)?d4(e):e}function Um(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=Ot(e,"clip",["frame","sphere"])),e}function Wm(e){return e&&typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}function qm(e){return e&&typeof e.toArray=="function"&&e.type}function p4(e){return e&&(e.typeId===8||e.typeId===10)&&e.unit===1}const qt=Symbol("position"),$n=Symbol("color"),eo=Symbol("radius"),to=Symbol("length"),no=Symbol("opacity"),ns=Symbol("symbol"),Vm=Symbol("projection"),Le=new Map([["x",qt],["y",qt],["fx",qt],["fy",qt],["r",eo],["color",$n],["opacity",no],["symbol",ns],["length",to],["projection",Vm]]);function m4(e){return e===qt||e===Vm}function g4(e){return e===qt||e===eo||e===to||e===no}const Hm=Math.sqrt(3),b4=2/Hm,_4={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*b4,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},Jc=new Map([["asterisk",K1],["circle",Ii],["cross",Z1],["diamond",J1],["diamond2",em],["hexagon",_4],["plus",tm],["square",nm],["square2",rm],["star",om],["times",cm],["triangle",am],["triangle2",sm],["wye",fm]]);function el(e){return e&&typeof e.draw=="function"}function y4(e){return el(e)?!0:typeof e!="string"?!1:Jc.has(e.toLowerCase())}function tl(e){if(e==null||el(e))return e;const t=Jc.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function w4(e){if(e==null||el(e))return[void 0,e];if(typeof e=="string"){const t=Jc.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function rs({filter:e,sort:t,reverse:n,transform:r,initializer:i,...o}={},a){if(r===void 0&&(e!=null&&(r=Ym(e)),t!=null&&!qr(t)&&(r=Is(r,nl(t))),n&&(r=Is(r,jm))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(t===null||qr(t))&&{sort:t},transform:Is(r,a)}}function sr({filter:e,sort:t,reverse:n,initializer:r,...i}={},o){return r===void 0&&(e!=null&&(r=Ym(e)),t!=null&&!qr(t)&&(r=Ls(r,nl(t))),n&&(r=Ls(r,jm))),{...i,...(t===null||qr(t))&&{sort:t},initializer:Ls(r,o)}}function Is(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,Wr(n),r,i)}}function Ls(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...o){let a,s,f,c,l,h;return{data:s=n,facets:f=r,channels:a}=e.call(this,n,r,i,...o),{data:l=s,facets:h=f,channels:c}=t.call(this,s,f,{...i,...a},...o),{data:l,facets:h,channels:{...a,...c}}}}function $4(e,t){return(e.initializer!=null?sr:rs)(e,t)}function Ym(e){return(t,n)=>{const r=Fe(t,e);return{data:t,facets:n.map(i=>i.filter(o=>r[o]))}}}function jm(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function v4(e,{sort:t,...n}={}){return{...(Qa(e)&&e.channel!==void 0?sr:$4)(n,nl(e)),sort:qr(t)?t:null}}function nl(e){return(typeof e=="function"&&e.length!==1?x4:M4)(e)}function x4(e){return(t,n)=>{const r=ur(t)?(i,o)=>e(t[i],t[o]):(i,o)=>e(t.get(i),t.get(o));return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function M4(e){let t,n;({channel:t,value:e,order:n}={...Ji(e)});const r=t?.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?ga:Rt),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Rt;break;case"descending":n=ga;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,a)=>{let s;if(t===void 0)s=Fe(i,e);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(s=a[t],!s)return{};s=s.value}const f=(c,l)=>n(s[c],s[l]);return{data:i,facets:o.map(c=>c.slice().sort(f))}}}function vi(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function Gm(e,t,n=rl){const r=Object.entries(e);return t.title!=null&&e.title===void 0&&r.push(["title",R4]),t.href!=null&&e.href===void 0&&r.push(["href",Zm]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?k4(i):n(i,o,t))}function rl(e,t,n,r=il){let i;Pn(t)&&"reduce"in t&&(i=t.scale,t=t.reduce);const o=r(e,t,n),[a,s]=ba(o.label);let f;return{name:e,output:i===void 0?a:{value:a,scale:i},initialize(c){o.initialize(c),f=s([])},scope(c,l){o.scope(c,l)},reduce(c,l){f.push(o.reduce(c,l))}}}function k4(e){return{name:e,initialize(){},scope(){},reduce(){}}}function il(e,t,n,r=is){const i=t4(e,n),o=r(t,i);let a,s;return{label:hr(o===_a?null:i,o.label),initialize(f){a=i===void 0?f:Fe(f,i),o.scope==="data"&&(s=o.reduceIndex(wn(f),a))},scope(f,c){o.scope===f&&(s=o.reduceIndex(c,a))},reduce(f,c){return o.scope==null?o.reduceIndex(f,a,c):o.reduceIndex(f,a,s,c)}}}function Uf(e,t){return t?Ta(e,n=>t[n]):[[,e]]}function is(e,t,n=S4){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&Pn(e))return L4(e);if(typeof e=="function")return D4(e);if(/^p\d{2}$/i.test(e))return an(K5(e));switch(`${e}`.toLowerCase()){case"first":return Zm;case"last":return F4;case"identity":return Km;case"count":return _a;case"distinct":return O4;case"sum":return t==null?_a:P4;case"proportion":return nh(t,"data");case"proportion-facet":return nh(t,"facet");case"deviation":return an(Od);case"min":return an(pn);case"min-index":return an(E2);case"max":return an(Nt);case"max-index":return an(T2);case"mean":return th(N2);case"median":return th(ef);case"variance":return an(Fd);case"mode":return an(L2)}return n(e)}function S4(e){throw new Error(`invalid reduce: ${e}`)}function T4(e,t){return Gm(e,t,E4)}function E4(e,t,n){return rl(e,t,n,C4)}function C4(e,t,n){return il(e,t,n,A4)}function A4(e,t){return is(e,t,N4)}function N4(e){switch(`${e}`.toLowerCase()){case"x":return B4;case"y":return z4;case"z":return Qm}throw new Error(`invalid group reduce: ${e}`)}function Xm(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function I4(e,t,n){if(t){const r=t.output.transform(),i=(o,a)=>Rt(r[o],r[a]);e.forEach(o=>o.sort(i))}n&&e.forEach(r=>r.reverse())}function L4(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function D4(e){return{reduceIndex(t,n,r){return e(Zc(n,t),r)}}}function an(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function th(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return nt(n)?new Date(r):r}}}const Km={reduceIndex(e,t){return Zc(t,e)}},Zm={reduceIndex(e,t){return t[e[0]]}},R4={reduceIndex(e,t){const r=Po(kr(e,o=>o.length,o=>t[o]),Of),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[4]=[` ${o.length.toLocaleString("en-US")} more`,Cn(o,Of)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},F4={reduceIndex(e,t){return t[e[e.length-1]]}},_a={label:"Frequency",reduceIndex(e){return e.length}},O4={label:"Distinct",reduceIndex(e,t){const n=new Sa;for(const r of e)n.add(t[r]);return n.size}},P4=an(Cn);function nh(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>Cn(n,o=>r[o])/i}}const B4={reduceIndex(e,t,{x:n}){return n}},z4={reduceIndex(e,t,{y:n}){return n}},Qm={reduceIndex(e,t,{z:n}){return n}};function Fi(e,{scale:t,type:n,value:r,filter:i,hint:o,label:a=hr(r)},s){return o===void 0&&typeof r?.transform=="function"&&(o=r.hint),eg(s,{scale:t,type:n,value:Fe(e,r),label:a,filter:i,hint:o})}function U4(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,Fi(t,r,n)]))}function Jm(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:o}])=>{const a=i==null?null:t[i];return[r,a==null?o:Re(o,a)]}));return n.channels=e,n}function eg(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&Ns(r,es)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&Ns(r,l4)?null:"opacity",t.defaultScale="opacity";break;case"symbol":n!==!0&&Ns(r,y4)?(t.scale=null,t.value=Re(r,tl)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=Le.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!Le.has(n))throw new Error(`unknown scale: ${n}`);return t}function W4(e,t,n,r,i){const{order:o,reverse:a,reduce:s=!0,limit:f}=i;for(const c in i){if(!Le.has(c))continue;let{value:l,order:h=o,reverse:u=a,reduce:d=s,limit:m=f}=Ji(i[c]);const p=l?.startsWith("-");if(p&&(l=l.slice(1)),h=h===void 0?p!==(l==="width"||l==="height")?ng:tg:H4(h),d==null||d===!1)continue;const g=c==="fx"||c==="fy"?V4(t,r[c]):q4(n,c);if(!g)throw new Error(`missing channel for scale: ${c}`);const b=g.value,[_=0,w=1/0]=Bn(m)?m:m<0?[m]:[0,m];if(l==null)g.domain=()=>{let y=Array.from(new Sa(b));return u&&(y=y.reverse()),(_!==0||w!==1/0)&&(y=y.slice(_,w)),y};else{const y=l==="data"?e:l==="height"?rh(n,"y1","y2"):l==="width"?rh(n,"x1","x2"):Wf(n,l,l==="y"?"y2":l==="x"?"x2":void 0),v=is(d===!0?"max":d,y);g.domain=()=>{let $=$2(wn(b),M=>v.reduceIndex(M,y),M=>b[M]);return h&&$.sort(h),u&&$.reverse(),(_!==0||w!==1/0)&&($=$.slice(_,w)),$.map(Nm)}}}}function q4(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function V4(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let o=0;o<n.length;++o){const a=r[n[o][0]];for(const s of e[o])i[s]=a}return t}function rh(e,t,n){const r=Wf(e,t),i=Wf(e,n);return Re(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Wf(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function H4(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return tg;case"descending":return ng}throw new Error(`invalid order: ${e}`)}function tg([e,t],[n,r]){return Rt(t,r)||Rt(e,n)}function ng([e,t],[n,r]){return ga(t,r)||Rt(e,n)}function ih(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const rg=new Map([["accent",Yv],["category10",Hv],["dark2",jv],["observable10",Gv],["paired",Xv],["pastel1",Kv],["pastel2",Zv],["set1",Qv],["set2",Jv],["set3",e5],["tableau10",t5]]);function Y4(e){return e!=null&&rg.has(`${e}`.toLowerCase())}const oh=new Map([...rg,["brbg",tn(zp,Up)],["prgn",tn(Wp,qp)],["piyg",tn(Vp,Hp)],["puor",tn(Yp,jp)],["rdbu",tn(Lf,ca)],["rdgy",tn(Gp,Xp)],["rdylbu",tn(Df,la)],["rdylgn",tn(Kp,Zp)],["spectral",tn(Qp,Jp)],["burd",ah(Lf,ca)],["buylrd",ah(Df,la)],["blues",Be(M1,k1)],["greens",Be(S1,T1)],["greys",Be(E1,C1)],["oranges",Be(D1,R1)],["purples",Be(A1,N1)],["reds",Be(I1,L1)],["turbo",nn(W1)],["viridis",nn(q1)],["magma",nn(V1)],["inferno",nn(H1)],["plasma",nn(Y1)],["cividis",nn(F1)],["cubehelix",nn(O1)],["warm",nn(P1)],["cool",nn(B1)],["bugn",Be(e1,t1)],["bupu",Be(n1,r1)],["gnbu",Be(i1,o1)],["orrd",Be(a1,s1)],["pubu",Be(l1,u1)],["pubugn",Be(f1,c1)],["purd",Be(h1,d1)],["rdpu",Be(p1,m1)],["ylgn",Be(_1,y1)],["ylgnbu",Be(g1,b1)],["ylorbr",Be(w1,$1)],["ylorrd",Be(v1,x1)],["rainbow",sh(z1)],["sinebow",sh(U1)]]);function Be(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?It(t,n):e[n])}function tn(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?It(t,n):e[n])}function ah(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?It(r=>t(1-r),n):e[n].slice().reverse())}function nn(e){return({length:t})=>It(e,Math.max(2,Math.floor(t)))}function sh(e){return({length:t})=>It(e,Math.floor(t)+1).slice(0,-1)}function ig(e){const t=`${e}`.toLowerCase();if(!oh.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return oh.get(t)}function os(e,t){const n=ig(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function j4(e,t="greys"){const n=new Set,[r,i]=os(t,2);for(const o of e)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const fh=new Map([["brbg",Up],["prgn",qp],["piyg",Hp],["puor",jp],["rdbu",ca],["rdgy",Xp],["rdylbu",la],["rdylgn",Zp],["spectral",Jp],["burd",e=>ca(1-e)],["buylrd",e=>la(1-e)],["blues",k1],["greens",T1],["greys",C1],["purples",N1],["reds",L1],["oranges",R1],["turbo",W1],["viridis",q1],["magma",V1],["inferno",H1],["plasma",Y1],["cividis",F1],["cubehelix",O1],["warm",P1],["cool",B1],["bugn",t1],["bupu",r1],["gnbu",o1],["orrd",s1],["pubugn",c1],["pubu",u1],["purd",d1],["rdpu",m1],["ylgnbu",b1],["ylgn",y1],["ylorbr",$1],["ylorrd",x1],["rainbow",z1],["sinebow",U1]]);function ol(e){const t=`${e}`.toLowerCase();if(!fh.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return fh.get(t)}const G4=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function X4(e){return e!=null&&G4.has(`${e}`.toLowerCase())}const og=e=>t=>e(1-t),Ds=[0,1],ch=new Map([["number",je],["rgb",nr],["hsl",i$],["hcl",s$],["lab",o$]]);function ag(e){const t=`${e}`.toLowerCase();if(!ch.has(t))throw new Error(`unknown interpolator: ${t}`);return ch.get(t)}function ro(e,t,n,{type:r,nice:i,clamp:o,zero:a,domain:s=fg(e,n),unknown:f,round:c,scheme:l,interval:h,range:u=Le.get(e)===eo?a8(n,s):Le.get(e)===to?s8(n,s):Le.get(e)===no?Ds:void 0,interpolate:d=Le.get(e)===$n?l==null&&u!==void 0?nr:ol(l!==void 0?l:r==="cyclical"?"rainbow":"turbo"):c?xc:je,reverse:m}){if(h=Zr(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=ag(d)),m=!!m,u!==void 0){const p=(s=Dn(s)).length,g=(u=Dn(u)).length;if(p!==g){if(d.length===1)throw new Error("invalid piecewise interpolator");d=Ia(d,u),u=void 0}}if(d.length===1?(m&&(d=og(d),m=!1),u===void 0&&(u=Float64Array.from(s,(p,g)=>g/(s.length-1)),u.length===2&&(u=Ds)),t.interpolate((u===Ds?hn:sl)(d))):t.interpolate(d),a){const[p,g]=_t(s);(p>0||g<0)&&(s=Li(s),(Ur(s)||1)===Math.sign(p)?s[0]=0:s[s.length-1]=0)}return m&&(s=Wo(s)),t.domain(s).unknown(f),i&&(t.nice(K4(i,r)),s=t.domain()),u!==void 0&&t.range(u),o&&t.clamp(o),{type:r,domain:s,range:u,scale:t,interpolate:d,interval:h}}function K4(e,t){return e===!0?void 0:typeof e=="number"?e:r4(e,t)}function Z4(e,t,n){return ro(e,Dc(),t,n)}function Q4(e,t,n){return sg(e,t,{...n,exponent:.5})}function sg(e,t,{exponent:n=1,...r}){return ro(e,yp().exponent(n),t,{...r,type:"pow"})}function J4(e,t,{base:n=10,domain:r=f8(t),...i}){return ro(e,mp().base(n),t,{...i,domain:r})}function e8(e,t,{constant:n=1,...r}){return ro(e,bp().constant(n),t,r)}function t8(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=c8(t),unknown:s,interpolate:f,reverse:c}){return n===void 0&&(n=f!==void 0?It(f,i):Le.get(e)===$n?os(o,i):void 0),a.length>0&&(a=wp(a,n===void 0?{length:i}:n).quantiles()),al(e,t,{domain:a,range:n,reverse:c,unknown:s})}function n8(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=fg(e,t),unknown:a,interpolate:s,reverse:f}){const[c,l]=_t(o);let h;return n===void 0?(h=xi(c,l,r),h[0]<=c&&h.splice(0,1),h[h.length-1]>=l&&h.pop(),r=h.length+1,n=s!==void 0?It(s,r):Le.get(e)===$n?os(i,r):void 0):(h=It(je(c,l),r+1).slice(1,-1),c instanceof Date&&(h=h.map(u=>new Date(u)))),Ur(Dn(o))<0&&h.reverse(),al(e,t,{domain:h,range:n,reverse:f,unknown:a})}function al(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?It(o,n.length+1):Le.get(e)===$n?os(i,n.length+1):void 0,reverse:s}){n=Dn(n);const f=Ur(n);if(!isNaN(f)&&!r8(n,f))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(a=Wo(a)),{type:"threshold",scale:$p(f<0?Wo(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function r8(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const o=Pi(i,i=e[n]);if(o!==0&&o!==t)return!1}return!0}function i8(e){return{type:"identity",scale:g4(Le.get(e))?hp():t=>t}}function Oi(e,t=wm){return e.length?[pn(e,({value:n})=>n===void 0?n:pn(n,t)),Nt(e,({value:n})=>n===void 0?n:Nt(n,t))]:[0,1]}function fg(e,t){const n=Le.get(e);return(n===eo||n===no||n===to?o8:Oi)(t)}function o8(e){return[0,e.length?Nt(e,({value:t})=>t===void 0?t:Nt(t,wm)):1]}function a8(e,t){const n=e.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=Nr(e,.5,({value:a})=>a===void 0?NaN:Nr(a,.25,Ka)),i=t.map(a=>3*Math.sqrt(a/r)),o=30/Nt(i);return o<1?i.map(a=>a*o):i}function s8(e,t){const n=ef(e,({value:o})=>o===void 0?NaN:ef(o,Math.abs)),r=t.map(o=>12*o/n),i=60/Nt(r);return i<1?r.map(o=>o*i):r}function f8(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return Oi(e,Ka);if(n<0)return Oi(e,Vc)}return[1,10]}function c8(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function sl(e){return(t,n)=>r=>e(t+r*(n-t))}let qf=0,Vf;function l8(){const e=qf;return qf=0,Vf=void 0,e}function En(e){e!==Vf&&(Vf=e,console.warn(e),++qf)}function as(e,t,n,r,{type:i,nice:o,clamp:a,domain:s=Oi(r),unknown:f,pivot:c=0,scheme:l,range:h,symmetric:u=!0,interpolate:d=Le.get(e)===$n?l==null&&h!==void 0?nr:ol(l!==void 0?l:"rdbu"):je,reverse:m}){c=+c,s=Dn(s);let[p,g]=s;if(s.length>2&&En(`Warning: the diverging ${e} scale domain contains extra elements.`),Pi(p,g)<0&&([p,g]=[g,p],m=!m),p=Math.min(p,c),g=Math.max(g,c),typeof d!="function"&&(d=ag(d)),h!==void 0&&(d=d.length===1?sl(d)(...h):Ia(d,h)),m&&(d=og(d)),u){const b=n.apply(c),_=b-n.apply(p),w=n.apply(g)-b;_<w?p=n.invert(b-w):_>w&&(g=n.invert(b+_))}return t.domain([p,c,g]).unknown(f).interpolator(d),a&&t.clamp(a),o&&t.nice(o),{type:i,domain:[p,g],pivot:c,interpolate:d,scale:t}}function u8(e,t,n){return as(e,Fp(),m8,t,n)}function h8(e,t,n){return cg(e,t,{...n,exponent:.5})}function cg(e,t,{exponent:n=1,...r}){return as(e,Bp().exponent(n=+n),_8(n),t,{...r,type:"diverging-pow"})}function d8(e,t,{base:n=10,pivot:r=1,domain:i=Oi(t,r<0?Vc:Ka),...o}){return as(e,Op().base(n=+n),g8,t,{domain:i,pivot:r,...o})}function p8(e,t,{constant:n=1,...r}){return as(e,Pp().constant(n=+n),y8(n),t,r)}const m8={apply(e){return e},invert(e){return e}},g8={apply:Math.log,invert:Math.exp},b8={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function _8(e){return e===.5?b8:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function y8(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function lg(e,t,n,r){return ro(e,t,n,r)}function w8(e,t,n){return lg(e,qv(),t,n)}function $8(e,t,n){return lg(e,Vv(),t,n)}const io=Symbol("ordinal");function ug(e,t,n,{type:r,interval:i,domain:o,range:a,reverse:s,hint:f}){return i=Zr(i,r),o===void 0&&(o=dg(n,i,e)),(r==="categorical"||r===io)&&(r="ordinal"),s&&(o=Wo(o)),o=t.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:r,domain:o,range:a,scale:t,hint:f,interval:i}}function v8(e,t,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:s,...f}){r=Zr(r,n),i===void 0&&(i=dg(t,r,e));let c;if(Le.get(e)===ns)c=k8(t),o=o===void 0?S8(c):Re(o,tl);else if(Le.get(e)===$n&&(o===void 0&&(n==="ordinal"||n===io)&&(o=j4(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const l=ol(a),h=o[0],u=o[1]-o[0];o=({length:d})=>It(m=>l(h+u*m),d)}else o=ig(a);if(s===Af)throw new Error(`implicit unknown on ${e} scale is not supported`);return ug(e,Lc().unknown(s),t,{...f,type:n,domain:i,range:o,hint:c})}function x8(e,t,{align:n=.5,padding:r=.5,...i}){return hg(M3().align(n).padding(r),t,i,e)}function M8(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=e==="fx"||e==="fy"?0:r,...a}){return hg(Ba().align(n).paddingInner(i).paddingOuter(o),t,a,e)}function hg(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=ug(r,e,t,n),e.round=i,e}function dg(e,t,n){const r=new Sa;for(const{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(t!==void 0){const[i,o]=_t(r).map(t.floor,t);return t.range(i,t.offset(o))}if(r.size>1e4&&Le.get(n)===qt)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Po(r,Rt)}function lh(e,t){let n;for(const{hint:r}of e){const i=r?.[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function k8(e){return{fill:lh(e,"fill"),stroke:lh(e,"stroke")}}function S8(e){return Qe(e.fill)?y5:_5}function Hf(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:s,nice:f,clamp:c,zero:l,align:h,padding:u,projection:d,facet:{label:m=t}={},...p}={}){const g={};for(const[b,_]of e){const w=p[b],y=N8(b,_,{round:Le.get(b)===qt?s:void 0,nice:f,clamp:c,zero:l,align:h,padding:u,projection:d,...w});if(y){let{label:v=b==="fx"||b==="fy"?m:t,percent:$,transform:M,inset:k,insetTop:S=k!==void 0?k:b==="y"?r:0,insetRight:A=k!==void 0?k:b==="x"?i:0,insetBottom:x=k!==void 0?k:b==="y"?o:0,insetLeft:B=k!==void 0?k:b==="x"?a:0}=w||{};if(M==null)M=void 0;else if(typeof M!="function")throw new Error("invalid scale transform; not a function");y.percent=!!$,y.label=v===void 0?E8(_,y):v,y.transform=M,b==="x"||b==="fx"?(y.insetLeft=+B,y.insetRight=+A):(b==="y"||b==="fy")&&(y.insetTop=+S,y.insetBottom=+x),g[b]=y}}return g}function uh(e){const t={},n={scales:t};for(const[r,i]of Object.entries(e)){const{scale:o,type:a,interval:s,label:f}=i;t[r]=F8(i),n[r]=o,o.type=a,s!=null&&(o.interval=s),f!=null&&(o.label=f)}return n}function T8(e,t){const{x:n,y:r,fx:i,fy:o}=e,a=i||o?fl(t):t;i&&hh(i,a),o&&dh(o,a);const s=i||o?pg(e,t):t;n&&hh(n,s),r&&dh(r,s)}function E8(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!dr(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function C8(e){return Math.sign(Ur(e.domain()))*Math.sign(Ur(e.range()))}function fl(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:s,marginRight:f,marginBottom:c,marginLeft:l}}=e;return{marginTop:Math.max(t,s),marginRight:Math.max(n,f),marginBottom:Math.max(r,c),marginLeft:Math.max(i,l),width:o,height:a}}function pg({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:f}=fl(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:e?e.scale.bandwidth()+a+i:s,height:t?t.scale.bandwidth()+r+o:f,facet:{width:s,height:f}}}function hh(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:o=0,marginRight:a=0}=t,s=o+n,f=i-a-r;e.range=[s,Math.max(s,f)],dr(e)||(e.range=gg(e)),e.scale.range(e.range)}mg(e)}function dh(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:o=0,marginBottom:a=0}=t,s=o+n,f=i-a-r;e.range=[Math.max(s,f),s],dr(e)?e.range.reverse():e.range=gg(e),e.scale.range(e.range)}mg(e)}function mg(e){e.round===void 0&&L8(e)&&A8(e)<=30&&e.scale.round(!0)}function A8({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,o=e.paddingOuter?e.paddingOuter():e.padding(),a=t-i,s=Math.abs(r-n)/Math.max(1,a+o*2);return(s-Math.floor(s))*a}function gg(e){const t=e.scale.domain().length+bg(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,o)=>n+o/(t-1)*(r-n))}function N8(e,t=[],n={}){const r=I8(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&dr({type:r})){const i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(nt)?En(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${yr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${yr(r)}".`):i.some(a4)?En(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${yr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${yr(r)}".`):i.some(s4)&&En(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${yr(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${yr(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=yo(t,n,Ln);break;case"identity":switch(Le.get(e)){case qt:n=yo(t,n,Ln);break;case ns:n=yo(t,n,D8);break}break;case"utc":case"time":n=yo(t,n,Im);break}switch(r){case"diverging":return u8(e,t,n);case"diverging-sqrt":return h8(e,t,n);case"diverging-pow":return cg(e,t,n);case"diverging-log":return d8(e,t,n);case"diverging-symlog":return p8(e,t,n);case"categorical":case"ordinal":case io:return v8(e,t,n);case"cyclical":case"sequential":case"linear":return Z4(e,t,n);case"sqrt":return Q4(e,t,n);case"threshold":return al(e,t,n);case"quantile":return t8(e,t,n);case"quantize":return n8(e,t,n);case"pow":return sg(e,t,n);case"log":return J4(e,t,n);case"symlog":return e8(e,t,n);case"utc":return $8(e,t,n);case"time":return w8(e,t,n);case"point":return x8(e,t,n);case"band":return M8(e,t,n);case"identity":return i8(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function yr(e){return typeof e=="symbol"?e.description:e}function ph(e){return typeof e=="string"?`${e}`.toLowerCase():e}const mh={toString:()=>"projection"};function I8(e,t,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:s}){if(n=ph(n),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(n=mh);for(const c of t){const l=ph(c.type);if(l!==void 0){if(n===void 0)n=l;else if(n!==l)throw new Error(`scale incompatible with channel: ${n} !== ${l}`)}}if(n===mh)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:c})=>c!==void 0))return;const f=Le.get(e);if(f===eo)return"sqrt";if(f===no||f===to)return"linear";if(f===ns)return"ordinal";if((r||i||[]).length>2)return Rs(f);if(r!==void 0){if(eh(r))return Rs(f);if(nt(r))return"utc"}else{const c=t.map(({value:l})=>l).filter(l=>l!==void 0);if(c.some(eh))return Rs(f);if(c.some(nt))return"utc"}if(f===$n){if(a!=null||X4(o))return"diverging";if(Y4(o))return"categorical"}return"linear"}function Rs(e){switch(e){case qt:return"point";case $n:return io;default:return"ordinal"}}function dr({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===io}function bg({type:e}){return e==="threshold"}function L8({type:e}){return e==="point"||e==="band"}function Vr(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function yo(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(t===void 0&&(t=i.value?.domain),i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function D8(e){return Re(e,tl)}function R8(e){return t=>{if(!Le.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function F8({scale:e,type:t,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:s,pivot:f}){if(t==="identity")return{type:"identity",apply:l=>l,invert:l=>l};const c=e.unknown?e.unknown():void 0;return{type:t,domain:Li(n),...r!==void 0&&{range:Li(r)},...a!==void 0&&{transform:a},...s&&{percent:s},...c!==void 0&&{unknown:c},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...f!==void 0&&{pivot:f,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:l=>e(l),...e.invert&&{invert:l=>e.invert(l)}}}function O8(e,t){const{fx:n,fy:r}=Hf(e,t),i=n?.scale.domain(),o=r?.scale.domain();return i&&o?y2(i,o).map(([a,s],f)=>({x:a,y:s,i:f})):i?i.map((a,s)=>({x:a,i:s})):o?o.map((a,s)=>({y:a,i:s})):void 0}function P8(e,{x:t,y:n}){return t&&=Yf(t),n&&=Yf(n),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function cl(e,{fx:t,fy:n}){const r=wn(e),i=t?.value,o=n?.value;return t&&n?kr(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):t?kr(r,a=>(a.fx=i[a[0]],a),a=>i[a]):kr(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function B8(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:o})=>`translate(${e(i)-r},${t(o)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function z8(e){const t=[],n=new Uint32Array(Cn(e,r=>r.length));for(const r of e){let i=0;for(const o of e)r!==o&&(n.set(o,i),i+=o.length);t.push(n.slice(0,i))}return t}const U8=new Map([["top",Fs],["right",Bs],["bottom",Os],["left",Ps],["top-left",wo(Fs,Ps)],["top-right",wo(Fs,Bs)],["bottom-left",wo(Os,Ps)],["bottom-right",wo(Os,Bs)],["top-empty",V8],["right-empty",j8],["bottom-empty",H8],["left-empty",Y8],["empty",G8]]);function W8(e){if(e==null)return null;const t=U8.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const gh=new WeakMap;function Yf(e){let t=gh.get(e);return t||gh.set(e,t=new Jn(Re(e,(n,r)=>[n,r]))),t}function zn(e,t){return Yf(e).get(t)}function q8(e,t,n){return t=dn(t),n=dn(n),e.find(r=>Object.is(dn(r.x),t)&&Object.is(dn(r.y),n))}function ss(e,t,n){return q8(e,t,n)?.empty}function Fs(e,{y:t},{y:n}){return t?zn(t,n)===0:!0}function Os(e,{y:t},{y:n}){return t?zn(t,n)===t.length-1:!0}function Ps(e,{x:t},{x:n}){return t?zn(t,n)===0:!0}function Bs(e,{x:t},{x:n}){return t?zn(t,n)===t.length-1:!0}function V8(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=zn(t,r);if(o>0)return ss(e,n,t[o-1])}function H8(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=zn(t,r);if(o<t.length-1)return ss(e,n,t[o+1])}function Y8(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=zn(t,n);if(o>0)return ss(e,t[o-1],r)}function j8(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=zn(t,n);if(o<t.length-1)return ss(e,t[o+1],r)}function G8(e,t,{empty:n}){return n}function wo(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function zs(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:o})=>r.get(i)?.get(o)??[]):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}const _g=Math.PI,rn=2*_g,Us=.618;function X8({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={},a){if(e==null)return;if(typeof e.stream=="function")return e;let s,f,c="frame";if(Pn(e)){let v;if({type:e,domain:f,inset:v,insetTop:n=v!==void 0?v:n,insetRight:r=v!==void 0?v:r,insetBottom:i=v!==void 0?v:i,insetLeft:o=v!==void 0?v:o,clip:c=c,...s}=e,e==null)return}typeof e!="function"&&({type:e}=jf(e));const{width:l,height:h,marginLeft:u,marginRight:d,marginTop:m,marginBottom:p}=a,g=l-u-d-o-r,b=h-m-p-n-i;if(e=e?.({width:g,height:b,clip:c,...s}),e==null)return;c=K8(c,u,m,l-d,h-p);let _=u+o,w=m+n,y;if(f!=null){const[[v,$],[M,k]]=Ra(e).bounds(f),S=Math.min(g/(M-v),b/(k-$));S>0?(_-=(S*(v+M)-g)/2,w-=(S*($+k)-b)/2,y=Ef({point(A,x){this.stream.point(A*S+_,x*S+w)}})):En("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??=_===0&&w===0?yg():Ef({point(v,$){this.stream.point(v+_,$+w)}}),{stream:v=>e.stream(y.stream(c(v)))}}function jf(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Tt(c3,.7463,.4673);case"albers":return $o(ep,.7463,.4673);case"azimuthal-equal-area":return Tt(l3,4,4);case"azimuthal-equidistant":return Tt(u3,rn,rn);case"conic-conformal":return $o(p3,rn,rn);case"conic-equal-area":return $o(oa,6.1702,2.9781);case"conic-equidistant":return $o(b3,7.312,3.6282);case"equal-earth":return Tt(y3,5.4133,2.6347);case"equirectangular":return Tt(m3,rn,_g);case"gnomonic":return Tt(w3,3.4641,3.4641);case"identity":return{type:yg};case"reflect-y":return{type:Z8};case"mercator":return Tt(h3,rn,rn);case"orthographic":return Tt($3,2,2);case"stereographic":return Tt(v3,2,2);case"transverse-mercator":return Tt(x3,rn,rn);default:throw new Error(`unknown projection type: ${e}`)}}function K8(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return o=>o;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return P0(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Tt(e,t,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:s})=>{const f=e();return a!=null&&f.precision?.(a),o!=null&&f.rotate?.(o),typeof s=="number"&&f.clipAngle?.(s),r!=null&&(f.scale(Math.min(r/t,i/n)),f.translate([r/2,i/2])),f},aspectRatio:n/t}}function $o(e,t,n){const{type:r,aspectRatio:i}=Tt(e,t,n);return{type:o=>{const{parallels:a,domain:s,width:f,height:c}=o,l=r(o);return a!=null&&(l.parallels(a),s===void 0&&f!=null&&l.fitSize([f,c],{type:"Sphere"})),l},aspectRatio:i}}const yg=hn({stream:e=>e}),Z8=hn(Ef({point(e,t){this.stream.point(e,-t)}}));function wg(e,t,n,r){const i=n[e],o=n[t],a=i.length,s=n[e]=new Float64Array(a).fill(NaN),f=n[t]=new Float64Array(a).fill(NaN);let c;const l=r.stream({point(h,u){s[c]=h,f[c]=u}});for(c=0;c<a;++c)l.point(i[c],o[c])}function Q8({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(Pn(e)&&(e=e.type),e!=null)}function J8(e){if(typeof e?.stream=="function")return Us;if(Pn(e)){let t,n;if({domain:t,type:e,...n}=e,t!=null&&e!=null){const r=typeof e=="string"?jf(e).type:e,[[i,o],[a,s]]=Ra(r({...n,width:100,height:100})).bounds(t),f=(s-o)/(a-i);return f&&isFinite(f)?f<.2?.2:f>5?5:f:Us}}if(e!=null){if(typeof e!="function"){const{aspectRatio:t}=jf(e);if(t)return t}return Us}}function e7(e,t,{projection:n}){const{x:r,y:i}=e;let o={};return r&&(o.x=r),i&&(o.y=i),o=Jm(o,t),n&&r?.scale==="x"&&i?.scale==="y"&&wg("x","y",o,n),r&&(o.x=Ln(o.x)),i&&(o.y=Ln(o.y)),o}function t7(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},o={point(a,s){t.push(a),n.push(s)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of e.value)Hn(a,o);return[r,i]}function ll(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:Um(n)}}function He(e,{document:t}){return Sr(Ca(e).call(t.documentElement))}const Gf=Symbol("unset");function ul(e){return(e.length===1?n7:r7)(e)}function n7(e){let t,n=Gf;return r=>(Object.is(n,r)||(n=r,t=e(r)),t)}function r7(e){let t,n;return(...r)=>((n?.length!==r.length||n.some((i,o)=>!Object.is(i,r[o])))&&(n=r,t=e(...r)),t)}const i7=ul(e=>new Intl.NumberFormat(e));ul((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{month:t}}));ul((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{weekday:t}}));function o7(e="en-US"){const t=i7(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function a7(e){return O5(e,"Invalid Date")}function s7(e="en-US"){const t=o7(e);return n=>(n instanceof Date?a7:typeof n=="number"?t:Ke)(n)}const Hr=s7(),at=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let f7=0;function c7(){return`plot-clip-${++f7}`}function l7(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:s,fillOpacity:f,stroke:c,strokeWidth:l,strokeOpacity:h,strokeLinejoin:u,strokeLinecap:d,strokeMiterlimit:m,strokeDasharray:p,strokeDashoffset:g,opacity:b,mixBlendMode:_,imageFilter:w,paintOrder:y,pointerEvents:v,shapeRendering:$,channels:M},{ariaLabel:k,fill:S="currentColor",fillOpacity:A,stroke:x="none",strokeOpacity:B,strokeWidth:R,strokeLinecap:L,strokeLinejoin:C,strokeMiterlimit:U,paintOrder:z}){S===null&&(s=null,f=null),x===null&&(c=null,h=null),Qe(S)?!Qe(x)&&(!Qe(s)||M?.fill)&&(x="none"):Qe(x)&&(!Qe(c)||M?.stroke)&&(S="none");const[ne,N]=_n(s,S),[Y,G]=Ze(f,A),[j,J]=_n(c,x),[we,be]=Ze(h,B),[ye,K]=Ze(b);Ri(J)||(l===void 0&&(l=R),d===void 0&&(d=L),u===void 0&&(u=C),m===void 0&&!u4(u)&&(m=U),!Ri(N)&&y===void 0&&(y=z));const[ce,P]=Ze(l);return S!==null&&(e.fill=We(N,"currentColor"),e.fillOpacity=ai(G,1)),x!==null&&(e.stroke=We(J,"none"),e.strokeWidth=ai(P,1),e.strokeOpacity=ai(be,1),e.strokeLinejoin=We(u,"miter"),e.strokeLinecap=We(d,"butt"),e.strokeMiterlimit=ai(m,4),e.strokeDasharray=We(p,"none"),e.strokeDashoffset=We(g,"0")),e.target=Ke(a),e.ariaLabel=Ke(k),e.ariaDescription=Ke(i),e.ariaHidden=Ke(o),e.opacity=ai(K,1),e.mixBlendMode=We(_,"normal"),e.imageFilter=We(w,"none"),e.paintOrder=We(y,"normal"),e.pointerEvents=We(v,"auto"),e.shapeRendering=We($,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:ne,scale:"auto",optional:!0},fillOpacity:{value:Y,scale:"auto",optional:!0},stroke:{value:j,scale:"auto",optional:!0},strokeOpacity:{value:we,scale:"auto",optional:!0},strokeWidth:{value:ce,optional:!0},opacity:{value:ye,scale:"auto",optional:!0}}}function u7(e,t){t&&e.filter(n=>qc(t[n])).append("title").call(d7,t)}function h7(e,t){t&&e.filter(([n])=>qc(t[n])).append("title").call(p7,t)}function d7(e,t){t&&e.text(n=>Hr(t[n]))}function p7(e,t){t&&e.text(([n])=>Hr(t[n]))}function Rn(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:f,strokeWidth:c,opacity:l,href:h}){r&&ue(e,"aria-label",u=>r[u]),o&&ue(e,"fill",u=>o[u]),a&&ue(e,"fill-opacity",u=>a[u]),s&&ue(e,"stroke",u=>s[u]),f&&ue(e,"stroke-opacity",u=>f[u]),c&&ue(e,"stroke-width",u=>c[u]),l&&ue(e,"opacity",u=>l[u]),h&&vg(e,u=>h[u],t),n||u7(e,i)}function m7(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:f,strokeWidth:c,opacity:l,href:h}){r&&ue(e,"aria-label",([u])=>r[u]),o&&ue(e,"fill",([u])=>o[u]),a&&ue(e,"fill-opacity",([u])=>a[u]),s&&ue(e,"stroke",([u])=>s[u]),f&&ue(e,"stroke-opacity",([u])=>f[u]),c&&ue(e,"stroke-width",([u])=>c[u]),l&&ue(e,"opacity",([u])=>l[u]),h&&vg(e,([u])=>h[u],t),n||h7(e,i)}function g7({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:s,href:f},{tip:c}){return[e,c?void 0:t,n,r,i,o,a,s,f].filter(l=>l!==void 0)}function b7(e,t,n){const r=Ta(e,i=>t[i]);return n===void 0&&r.size>1+e.length>>1&&En("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*_7(e,t,n,r){const{z:i}=n,{z:o}=r,a=g7(r,n),s=[...t,...a];for(const f of o?b7(e,o,i):[e]){let c,l;e:for(const h of f){for(const u of s)if(!In(u[h])){l&&l.push(-1);continue e}if(c===void 0){l&&(yield l),c=a.map(u=>dn(u[h])),l=[h];continue}l.push(h);for(let u=0;u<a.length;++u)if(dn(a[u][h])!==c[u]){yield l,c=a.map(m=>dn(m[h])),l=[h];continue e}}l&&(yield l)}}function y7(e,t,n,r){let i;const{clip:o=r.clip}=t;switch(o){case"frame":{e=He("svg:g",r).each(function(){this.appendChild(e.node()),e.node=()=>this}),i=w7(r,n);break}case"sphere":{i=$7(r);break}}ue(e,"aria-label",t.ariaLabel),ue(e,"aria-description",t.ariaDescription),ue(e,"aria-hidden",t.ariaHidden),ue(e,"clip-path",i)}function $g(e){const t=new WeakMap;return(n,r)=>{let i=t.get(n);if(!i){const o=c7();Sr(n.ownerSVGElement).append("clipPath").attr("id",o).call(e,n,r),t.set(n,i=`url(#${o})`)}return i}}const w7=$g((e,t,n)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:s,marginBottom:f}=n;e.append("rect").attr("x",o).attr("y",s).attr("width",r-a-o).attr("height",i-s-f)}),$7=$g((e,t)=>{const{projection:n}=t;if(!n)throw new Error('the "sphere" clip option requires a projection');e.append("path").attr("d",Ra(n)({type:"Sphere"}))});function vn(e,t,n,r){y7(e,t,n,r),ue(e,"class",t.className),ue(e,"fill",t.fill),ue(e,"fill-opacity",t.fillOpacity),ue(e,"stroke",t.stroke),ue(e,"stroke-width",t.strokeWidth),ue(e,"stroke-opacity",t.strokeOpacity),ue(e,"stroke-linejoin",t.strokeLinejoin),ue(e,"stroke-linecap",t.strokeLinecap),ue(e,"stroke-miterlimit",t.strokeMiterlimit),ue(e,"stroke-dasharray",t.strokeDasharray),ue(e,"stroke-dashoffset",t.strokeDashoffset),ue(e,"shape-rendering",t.shapeRendering),ue(e,"filter",t.imageFilter),ue(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;ue(e,"pointer-events",i)}function Xt(e,t){v7(e,"mix-blend-mode",t.mixBlendMode),ue(e,"opacity",t.opacity)}function vg(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const o=this.ownerDocument.createElementNS(Ir.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Ir.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function ue(e,t,n){n!=null&&e.attr(t,n)}function v7(e,t,n){n!=null&&e.style(t,n)}function xn(e,t,{x:n,y:r},i=at,o=at){i+=t.dx,o+=t.dy,n?.bandwidth&&(i+=n.bandwidth()/2),r?.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&e.attr("transform",`translate(${i},${o})`)}function We(e,t){if((e=Ke(e))!==t)return e}function ai(e,t){if((e=Ve(e))!==t)return e}const x7=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function fs(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!x7.test(e))throw new Error(`invalid class name: ${e}`);return e}function hl(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function oo({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(e)?a:/right$/.test(e)?t-i:(a+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-o:(r+n-o)/2]}class St{constructor(t,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:s,fy:f,sort:c,dx:l=0,dy:h=0,margin:u=0,marginTop:d=u,marginRight:m=u,marginBottom:p=u,marginLeft:g=u,className:b,clip:_=i?.clip,channels:w,tip:y,render:v}=r;if(this.data=t,this.sort=qr(c)?c:null,this.initializer=sr(r).initializer,this.transform=this.initializer?r.transform:rs(r).transform,o===null||o===!1?this.facet=null:(this.facet=Ot(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=t===Do&&typeof s=="string"?[s]:s,this.fy=t===Do&&typeof f=="string"?[f]:f),this.facetAnchor=W8(a),n=zm(n),w!==void 0&&(n={...M7(w),...n}),i!==void 0&&(n={...l7(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([$,M])=>{if(Qa(M.value)){const{value:k,label:S=M.label,scale:A=M.scale}=M.value;M={...M,label:S,scale:A,value:k}}if(t===Do&&typeof M.value=="string"){const{value:k}=M;M={...M,value:[k]}}return[$,M]}).filter(([$,{value:M,optional:k}])=>{if(M!=null)return!0;if(k)return!1;throw new Error(`missing channel value: ${$}`)})),this.dx=+l,this.dy=+h,this.marginTop=+d,this.marginRight=+m,this.marginBottom=+p,this.marginLeft=+g,this.clip=Um(_),this.tip=k7(y),this.className=b?fs(b):null,this.facet==="super"){if(s||f)throw new Error("super-faceting cannot use fx or fy");for(const $ in this.channels){const{scale:M}=n[$];if(!(M!=="x"&&M!=="y"))throw new Error("super-faceting cannot use x or y")}}v!=null&&(this.render=Mg(v,this.render))}initialize(t,n,r){let i=Wr(this.data);t===void 0&&i!=null&&(t=[wn(i)]);const o=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=Wr(i)),t!==void 0&&(t.original=o);const a=U4(this.channels,i);return this.sort!=null&&W4(i,t,a,n,this.sort),{data:i,facets:t,channels:a}}filter(t,n,r){for(const i in n){const{filter:o=In}=n[i];if(o!==null){const a=r[i];t=t.filter(s=>o(a[s]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in t&&t[o].scale==="y"&&wg(i,o,n,r.projection)}}scale(t,n,r){const i=Jm(t,n);return r.projection&&this.project(t,i,r),i}}function xg(...e){return e.plot=St.prototype.plot,e}function Mg(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,o,a,s){return e.call(this,n,r,i,o,a,(f,c,l,h,u)=>t.call(this,f,c,l,h,u,s))}}function M7(e){return Object.fromEntries(Object.entries(zm(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:Ji(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function k7(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?Ot(e,"tip",["x","y","xy"]):e}function dl(e,t){return e?.tip===!0?{...e,tip:t}:Pn(e?.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}function S7(e,t,n={}){let r=.5-at,i=.5+at,o=.5+at,a=.5-at;for(const{marginTop:p,marginRight:g,marginBottom:b,marginLeft:_}of t)p>r&&(r=p),g>i&&(i=g),b>o&&(o=b),_>a&&(a=_);let{margin:s,marginTop:f=s!==void 0?s:r,marginRight:c=s!==void 0?s:i,marginBottom:l=s!==void 0?s:o,marginLeft:h=s!==void 0?s:a}=n;f=+f,c=+c,l=+l,h=+h;let{width:u=640,height:d=T7(e,n,{width:u,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,f-r+l-o)}=n;u=+u,d=+d;const m={width:u,height:d,marginTop:f,marginRight:c,marginBottom:l,marginLeft:h};if(e.fx||e.fy){let{margin:p,marginTop:g=p!==void 0?p:f,marginRight:b=p!==void 0?p:c,marginBottom:_=p!==void 0?p:l,marginLeft:w=p!==void 0?p:h}=n.facet??{};g=+g,b=+b,_=+_,w=+w,m.facet={marginTop:g,marginRight:b,marginBottom:_,marginLeft:w}}return m}function T7({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:s,marginRightDefault:f,marginBottomDefault:c,marginLeftDefault:l}){const h=n&&n.scale.domain().length||1,u=J8(i);if(u){const m=r?r.scale.domain().length:1,p=(1.1*h-.1)/(1.1*m-.1)*u,g=Math.max(.1,Math.min(10,p));return Math.round((a-l-f)*g+s+c)}const d=t?dr(t)?t.scale.domain().length||1:Math.max(7,17/h):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const m=bh("y",t)/(bh("x",e)*o),p=r?r.scale.bandwidth():1,g=n?n.scale.bandwidth():1,b=p*(a-l-f)-e.insetLeft-e.insetRight;return(m*b+t.insetTop+t.insetBottom)/g+s+c}return!!(t||n)*Math.max(1,Math.min(60,d*h))*20+!!r*30+60}function bh(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const s=t.scale.exponent();i=f=>Math.pow(f,s);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[o,a]=_t(r);return Math.abs(i(a)-i(o))}const _h=new WeakMap;function pl(e,t,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:s,render:f,...c}={}){return a=+a,i!=null&&(n??=null,s={...s,px:{value:i,scale:"x"}}),o!=null&&(r??=null,s={...s,py:{value:o,scale:"y"}}),{x:n,y:r,channels:s,...c,render:Mg(function(l,h,u,d,m,p){m={...m,pointerSticky:!1};const g=m.ownerSVGElement,{data:b}=m.getMarkState(this);let _=_h.get(g);_||_h.set(g,_={sticky:!1,roots:[],renders:[]});let w=_.renders.push(J)-1;const{x:y,y:v,fx:$,fy:M}=h;let k=$?$(l.fx)-d.marginLeft:0,S=M?M(l.fy)-d.marginTop:0;y?.bandwidth&&(k+=y.bandwidth()/2),v?.bandwidth&&(S+=v.bandwidth()/2);const A=l.fi!=null;let x;if(A){let K=_.facetStates;K||(_.facetStates=K=new Map),x=K.get(this),x||K.set(this,x=new Map)}const[B,R]=oo(this,d),{px:L,py:C}=u,U=L?K=>L[K]:kg(u,B),z=C?K=>C[K]:Sg(u,R);let ne,N,Y,G;function j(K,ce){if(A)if(G&&(G=cancelAnimationFrame(G)),K==null)x.delete(l.fi);else{x.set(l.fi,ce),G=requestAnimationFrame(()=>{G=null;for(const[P,F]of x)if(F<ce||F===ce&&P<l.fi){K=null;break}J(K)});return}J(K)}function J(K){if(ne===K&&Y===_.sticky)return;ne=K,Y=m.pointerSticky=_.sticky;const ce=ne==null?[]:[ne];A&&(ce.fx=l.fx,ce.fy=l.fy,ce.fi=l.fi);const P=p(ce,h,u,d,m);if(N){if(A){const F=N.parentNode,Z=N.getAttribute("transform"),D=P.getAttribute("transform");Z?P.setAttribute("transform",Z):P.removeAttribute("transform"),D?F.setAttribute("transform",D):F.removeAttribute("transform"),P.removeAttribute("aria-label"),P.removeAttribute("aria-description"),P.removeAttribute("aria-hidden")}N.replaceWith(P)}if(_.roots[w]=N=P,!(ne==null&&x?.size>1)){const F=ne==null?null:ur(b)?b[ne]:b.get(ne);m.dispatchValue(F)}return P}function we(K){if(_.sticky||K.pointerType==="mouse"&&K.buttons===1)return;let[ce,P]=Sw(K);ce-=k,P-=S;const F=ce<d.marginLeft||ce>d.width-d.marginRight?1:e,Z=P<d.marginTop||P>d.height-d.marginBottom?1:t;let D=null,pe=a*a;for(const ae of l){const xe=F*(U(ae)-ce),Te=Z*(z(ae)-P),Ye=xe*xe+Te*Te;Ye<=pe&&(D=ae,pe=Ye)}if(D!=null&&(e!==1||t!==1)){const ae=U(D)-ce,xe=z(D)-P;pe=ae*ae+xe*xe}j(D,pe)}function be(K){K.pointerType==="mouse"&&ne!=null&&(_.sticky&&_.roots.some(ce=>ce?.contains(K.target))||(_.sticky?(_.sticky=!1,_.renders.forEach(ce=>ce(null))):(_.sticky=!0,J(ne)),K.stopImmediatePropagation()))}function ye(K){K.pointerType==="mouse"&&(_.sticky||j(null))}return g.addEventListener("pointerenter",we),g.addEventListener("pointermove",we),g.addEventListener("pointerdown",be),g.addEventListener("pointerleave",ye),J(null)},f)}}function E7(e){return pl(1,1,e)}function C7(e){return pl(1,.01,e)}function yh(e){return pl(.01,1,e)}function kg({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Sg({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Tg(e){return dr(e)&&e.interval===void 0?void 0:"tabular-nums"}function A7(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:s=0,marginBottom:f=16+r,marginLeft:c=0,style:l,ticks:h=(i-c-s)/64,tickFormat:u,fontVariant:d=Tg(e),round:m=!0,opacity:p,className:g}=t;const b=ll(t);g=fs(g),p=Ze(p)[1],u===null&&(u=()=>null);const _=He("svg",b).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(B=>B.append("style").text(`:where(.${g}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${g}-ramp text) {
  white-space: pre;
}`)).call(hl,l);let w=B=>B.selectAll(".tick line").attr("y1",a+f-o),y;const v=m?(B,R)=>B.rangeRound(R):(B,R)=>B.range(R),{type:$,domain:M,range:k,interpolate:S,scale:A,pivot:x}=e;if(S){const B=k===void 0?S:Ia(S.length===1?sl(S):S,k);y=v(A.copy(),It(je(c,i-s),Math.min(M.length+(x!==void 0),k===void 0?1/0:k.length)));const R=256,L=b.document.createElement("canvas");L.width=R,L.height=1;const C=L.getContext("2d");for(let U=0,z=R-1;U<R;++U)C.fillStyle=B(U/z),C.fillRect(U,0,1,1);_.append("image").attr("opacity",p).attr("x",c).attr("y",a).attr("width",i-c-s).attr("height",o-a-f).attr("preserveAspectRatio","none").attr("xlink:href",L.toDataURL())}else if($==="threshold"){const B=M,R=u===void 0?L=>L:typeof u=="string"?Xr(u):u;y=v(Dc().domain([-1,k.length-1]),[c,i-s]),_.append("g").attr("fill-opacity",p).selectAll().data(k).enter().append("rect").attr("x",(L,C)=>y(C-1)).attr("y",a).attr("width",(L,C)=>y(C)-y(C-1)).attr("height",o-a-f).attr("fill",L=>L),h=Re(B,(L,C)=>C),u=L=>R(B[L],L)}else y=v(Ba().domain(M),[c,i-s]),_.append("g").attr("fill-opacity",p).selectAll().data(M).enter().append("rect").attr("x",y).attr("y",a).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",o-a-f).attr("fill",A),w=()=>{};return _.append("g").attr("transform",`translate(0,${o-f})`).call(q2(y).ticks(Array.isArray(h)?null:h,typeof u=="string"?u:void 0).tickFormat(typeof u=="function"?u:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",We(d,"normal")).call(w).call(B=>B.select(".domain").remove()),n!==void 0&&_.append("text").attr("x",c).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),_.node()}const Eg=Math.PI/180;function ml(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=Ws(n),e.markerMid=Ws(r),e.markerEnd=Ws(i)}function Ws(e){if(e==null||e===!1)return null;if(e===!0)return $h;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return wh("auto");case"arrow-reverse":return wh("auto-start-reverse");case"dot":return N7;case"circle":case"circle-fill":return $h;case"circle-stroke":return I7;case"tick":return qs("auto");case"tick-x":return qs(90);case"tick-y":return qs(0)}throw new Error(`invalid marker: ${e}`)}function wh(e){return(t,n)=>He("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function N7(e,t){return He("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function $h(e,t){return He("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function I7(e,t){return He("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function qs(e){return(t,n)=>He("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let L7=0;function Cg(e,t,{stroke:n},r){return Ng(e,t,n&&(i=>n[i]),null,r)}function D7(e,t,{stroke:n,z:r},i){return Ng(e,t,n&&(([o])=>n[o]),r,i)}const Xf=1,Ag=2;function R7(e,t){const n=new Uint8Array(t.length),r=e.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=Gf;o<i;++o){const s=r[o];if(s.length>1){const f=s[0];a!==(a=dn(t[f]))&&(n[f]|=Xf)}}for(let o=i-1,a=Gf;o>=0;--o){const s=r[o];if(s.length>1){const f=s[0];a!==(a=dn(t[f]))&&(n[f]|=Ag)}}return([o])=>n[o]}function Ng(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},o=()=>i,a,s){if(!t&&!n&&!r)return;const f=new Map,c=a&&R7(e,a);function l(h,u,d){return function(m){if(d&&!d(m))return;const p=o(m);let g=f.get(u);g||f.set(u,g=new Map);let b=g.get(p);if(!b){const _=this.parentNode.insertBefore(u(p,s),this),w=`plot-marker-${++L7}`;_.setAttribute("id",w),g.set(p,b=`url(#${w})`)}this.setAttribute(h,b)}}t&&e.each(l("marker-start",t,c&&(h=>c(h)&Xf))),n&&c&&e.each(l("marker-start",n,h=>!(c(h)&Xf))),n&&e.each(l("marker-mid",n)),r&&e.each(l("marker-end",r,c&&(h=>c(h)&Ag)))}function cs({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=Lg(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function Ig({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=Lg(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function Lg(e,t,n){return e===void 0&&t===void 0&&n===void 0?at?[1,0]:[.5,.5]:[t,n]}function Dg(e,{interval:t}){return e={...Ji(e)},e.interval=Qc(e.interval===void 0?t:e.interval),e}function gl(e,t,n,r){const{[e]:i,[`${e}1`]:o,[`${e}2`]:a}=n,{value:s,interval:f}=Dg(i,n);if(s==null||f==null&&!r)return n;const c=hr(i);if(f==null){let d;const m={transform:p=>d||(d=Fe(p,s)),label:c};return{...n,[e]:void 0,[`${e}1`]:o===void 0?m:o,[`${e}2`]:a===void 0&&!(o===a&&r)?m:a}}let l,h;function u(d){return h!==void 0&&d===l?h:h=Re(Fe(l=d,s),m=>f.floor(m))}return t({...n,[e]:void 0,[`${e}1`]:o===void 0?{transform:u,label:c}:o,[`${e}2`]:a===void 0?{transform:d=>u(d).map(m=>f.offset(m)),label:c}:a})}function Rg(e,t,n){const{[e]:r}=n,{value:i,interval:o}=Dg(r,n);return i==null||o==null?n:t({...n,[e]:{label:hr(r),transform:a=>{const s=Re(Fe(a,i),c=>o.floor(c)),f=s.map(c=>o.offset(c));return s.map(nt(s)?(c,l)=>c==null||isNaN(c=+c)||(l=f[l],l==null)||isNaN(l=+l)?void 0:new Date((c+l)/2):(c,l)=>c==null||(l=f[l],l==null)?NaN:(+c+ +l)/2)}}})}function F7(e={}){return gl("x",cs,e,!0)}function O7(e={}){return gl("x",cs,e)}function P7(e={}){return gl("y",Ig,e)}function B7(e={}){return Rg("x",cs,e)}function z7(e={}){return Rg("y",Ig,e)}const Fg={ariaLabel:"rule",fill:null,stroke:"currentColor"};class U7 extends St{constructor(t,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:s=a,insetBottom:f=a}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},dl(n,"x"),Fg),this.insetTop=Ve(s),this.insetBottom=Ve(f),ml(this,n)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:f,y1:c,y2:l}=r,{width:h,height:u,marginTop:d,marginRight:m,marginLeft:p,marginBottom:g}=i,{insetTop:b,insetBottom:_}=this;return He("svg:g",o).call(vn,this,i,o).call(xn,this,{x:f&&a},at,0).call(w=>w.selectAll().data(t).enter().append("line").call(Xt,this).attr("x1",f?y=>f[y]:(p+h-m)/2).attr("x2",f?y=>f[y]:(p+h-m)/2).attr("y1",c&&!Vr(s)?y=>c[y]+b:d+b).attr("y2",l&&!Vr(s)?s.bandwidth?y=>l[y]+s.bandwidth()-_:y=>l[y]-_:u-g-_).call(Rn,this,r).call(Cg,this,r,o)).node()}}class W7 extends St{constructor(t,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:s=a,insetLeft:f=a}=n;super(t,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},dl(n,"y"),Fg),this.insetRight=Ve(s),this.insetLeft=Ve(f),ml(this,n)}render(t,n,r,i,o){const{x:a,y:s}=n,{y:f,x1:c,x2:l}=r,{width:h,height:u,marginTop:d,marginRight:m,marginLeft:p,marginBottom:g}=i,{insetLeft:b,insetRight:_}=this;return He("svg:g",o).call(vn,this,i,o).call(xn,this,{y:f&&s},0,at).call(w=>w.selectAll().data(t).enter().append("line").call(Xt,this).attr("x1",c&&!Vr(a)?y=>c[y]+b:p+b).attr("x2",l&&!Vr(a)?a.bandwidth?y=>l[y]+a.bandwidth()-_:y=>l[y]-_:h-m-_).attr("y1",f?y=>f[y]:(d+u-g)/2).attr("y2",f?y=>f[y]:(d+u-g)/2).call(Rn,this,r).call(Cg,this,r,o)).node()}}function q7(e,t){let{x:n=rt,y:r,y1:i,y2:o,...a}=P7(t);return[i,o]=Og(r,i,o),new U7(e,{...a,x:n,y1:i,y2:o})}function V7(e,t){let{y:n=rt,x:r,x1:i,x2:o,...a}=O7(t);return[i,o]=Og(r,i,o),new W7(e,{...a,y:n,x1:i,x2:o})}function Og(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function bl(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let o=0;o<n;++o)i+=t[o](r)+e[o+1];return i}}const H7={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Pg="";class _l extends St{constructor(t,n={}){const{x:r,y:i,text:o=Bn(t)&&Bm(t)?rt:Am,frameAnchor:a,textAnchor:s=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:f=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:c=1,lineWidth:l=1/0,textOverflow:h,monospace:u,fontFamily:d=u?"ui-monospace, monospace":void 0,fontSize:m,fontStyle:p,fontVariant:g,fontWeight:b,rotate:_}=n,[w,y]=Ze(_,0),[v,$]=Z7(m);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:o4(w),optional:!0},text:{value:o,filter:qc,optional:!0}},n,H7),this.rotate=y,this.textAnchor=We(s,"middle"),this.lineAnchor=Ot(f,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+l,this.textOverflow=Bg(h),this.monospace=!!u,this.fontFamily=Ke(d),this.fontSize=$,this.fontStyle=Ke(p),this.fontVariant=Ke(g),this.fontWeight=Ke(b),this.frameAnchor=ts(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${l}`);this.splitLines=Wg(this),this.clipLine=qg(this)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:f,y:c,rotate:l,text:h,title:u,fontSize:d}=r,{rotate:m}=this,[p,g]=oo(this,i);return He("svg:g",o).call(vn,this,i,o).call(Ug,this,h,i).call(xn,this,{x:f&&a,y:c&&s}).call(b=>b.selectAll().data(t).enter().append("text").call(Xt,this).call(Y7,this,h,u).attr("transform",bl`translate(${f?_=>f[_]:p},${c?_=>c[_]:g})${l?_=>` rotate(${l[_]})`:m?` rotate(${m})`:""}`).call(ue,"font-size",d&&(_=>d[_])).call(Rn,this,r)).node()}}function Bg(e){return e==null?null:Ot(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Y7(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:s,clipLine:f}=t;e.each(function(c){const l=s(Hr(n[c])??"").map(f),h=l.length,u=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let d=0;for(let m=0;m<h;++m){if(++d,!l[m])continue;const p=this.ownerDocument.createElementNS(Ir.svg,"tspan");p.setAttribute("x",0),m===d-1?p.setAttribute("y",`${(u+m)*o}em`):p.setAttribute("dy",`${d*o}em`),p.textContent=l[m],this.appendChild(p),d=0}}else u&&this.setAttribute("y",`${u*o}em`),this.textContent=l[0];if(a&&!r&&l[0]!==n[c]){const d=this.ownerDocument.createElementNS(Ir.svg,"title");d.textContent=n[c],this.appendChild(d)}})}function zg(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Ja(t,n)),new _l(e,{...r,x:t,y:n})}function j7(e,{x:t=rt,...n}={}){return new _l(e,z7({...n,x:t}))}function G7(e,{y:t=rt,...n}={}){return new _l(e,B7({...n,y:t}))}function Ug(e,t,n){ue(e,"text-anchor",t.textAnchor),ue(e,"font-family",t.fontFamily),ue(e,"font-size",t.fontSize),ue(e,"font-style",t.fontStyle),ue(e,"font-variant",t.fontVariant===void 0?X7(n):t.fontVariant),ue(e,"font-weight",t.fontWeight)}function X7(e){return e&&(f4(e)||nt(e))?"tabular-nums":void 0}const K7=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function Z7(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),K7.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function Q7(e,t,n){const r=[];let i,o=0;for(const[a,s,f]of J7(e)){if(i===void 0&&(i=a),o>i&&n(e,i,s)>t&&(r.push(e.slice(i,o)+(e[o-1]===Pg?"-":"")),i=a),f){r.push(e.slice(i,s)),i=void 0;continue}o=s}return r}function*J7(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case Pg:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const vh={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function yl(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Qr(e,i))r+=vh[e[i]]??(Hg(e,i)?120:vh.e);return r}function wl(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Qr(e,i))r+=Hg(e,i)?126:63;return r}function Wg({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return o=>o.split(/\r\n?|\n/g);const r=e?wl:yl,i=t*100;return o=>Q7(o,i,r)}function qg({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return o=>o;const r=e?wl:yl,i=t*100;switch(n){case"clip-start":return o=>Mh(o,i,r,"");case"clip-end":return o=>xh(o,i,r,"");case"ellipsis-start":return o=>Mh(o,i,r,Cr);case"ellipsis-middle":return o=>ex(o,i,r,Cr);case"ellipsis-end":return o=>xh(o,i,r,Cr)}}const Cr="";function Yr(e,t,n,r){const i=[];let o=0;for(let a=0,s=0,f=e.length;a<f;a=s){s=Qr(e,a);const c=n(e,a,s);if(o+c>t){for(o+=r;o>t&&a>0;)s=a,a=i.pop(),o-=n(e,a,s);return[a,t-o]}o+=c,i.push(a)}return[-1,0]}function xh(e,t,n,r){e=e.trim();const i=n(r),[o]=Yr(e,t,n,i);return o<0?e:e.slice(0,o).trimEnd()+r}function ex(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r)/2,[a,s]=Yr(e,t/2,n,o),[f]=Yr(e,i-t/2-s+o,n,-o);return f<0?r:e.slice(0,a).trimEnd()+r+e.slice(Qr(e,f)).trimStart()}function Mh(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r),[a]=Yr(e,i-t+o,n,-o);return a<0?r:r+e.slice(Qr(e,a)).trimStart()}const Kf=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,kh=/\p{Extended_Pictographic}/uy;function Qr(e,t){return t+=tx(e,t)?2:1,rx(e,t)&&(t=Kf.lastIndex),nx(e,t)?Qr(e,t+1):t}function Vg(e,t){return e.charCodeAt(t)<128}function tx(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function nx(e,t){return e.charCodeAt(t)===8205}function rx(e,t){return Vg(e,t)?!1:(Kf.lastIndex=t,Kf.test(e))}function Hg(e,t){return Vg(e,t)?!1:(kh.lastIndex=t,kh.test(e))}const ix={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Yg=3.5,ox=Yg*5,jg={draw(e,t,n){const r=t*n/ox;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},ax={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},sx=new Map([["arrow",jg],["spike",ax]]);function fx(e){return e&&typeof e.draw=="function"}function cx(e){if(fx(e))return e;const t=sx.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class Gg extends St{constructor(t,n={}){const{x:r,y:i,r:o=Yg,length:a,rotate:s,shape:f=jg,anchor:c="middle",frameAnchor:l}=n,[h,u]=Ze(a,12),[d,m]=Ze(s,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,ix),this.r=+o,this.length=u,this.rotate=m,this.shape=cx(f),this.anchor=Ot(c,"anchor",["start","middle","end"]),this.frameAnchor=ts(l)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:f,y:c,length:l,rotate:h}=r,{length:u,rotate:d,anchor:m,shape:p,r:g}=this,[b,_]=oo(this,i);return He("svg:g",o).call(vn,this,i,o).call(xn,this,{x:f&&a,y:c&&s}).call(w=>w.selectAll().data(t).enter().append("path").call(Xt,this).attr("transform",bl`translate(${f?y=>f[y]:b},${c?y=>c[y]:_})${h?y=>` rotate(${h[y]})`:d?` rotate(${d})`:""}${m==="start"?"":m==="end"?l?y=>` translate(0,${l[y]})`:` translate(0,${u})`:l?y=>` translate(0,${l[y]/2})`:` translate(0,${u/2})`}`).attr("d",l?y=>{const v=Gn();return p.draw(v,l[y],g),v}:(()=>{const y=Gn();return p.draw(y,u,g),y})()).call(Rn,this,r)).node()}}function lx(e,t={}){const{x:n=rt,...r}=t;return new Gg(e,{...r,x:n})}function ux(e,t={}){const{y:n=rt,...r}=t;return new Gg(e,{...r,y:n})}function Un(e,t){return arguments.length<2&&!Bn(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function ls({anchor:e}={},t){return e===void 0?t[0]:Ot(e,"anchor",t)}function Xg(e){return ls(e,["left","right"])}function Kg(e){return ls(e,["right","left"])}function Zg(e){return ls(e,["bottom","top"])}function Qg(e){return ls(e,["top","bottom"])}function Jg(){const[e,t]=Un(...arguments);return tb("y",Xg(t),e,t)}function hx(){const[e,t]=Un(...arguments);return tb("fy",Kg(t),e,t)}function eb(){const[e,t]=Un(...arguments);return nb("x",Zg(t),e,t)}function dx(){const[e,t]=Un(...arguments);return nb("fx",Qg(t),e,t)}function tb(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:f=r,fillOpacity:c=i,textAnchor:l,textStroke:h,textStrokeOpacity:u,textStrokeWidth:d,tickSize:m=e==="y"?6:0,tickPadding:p,tickRotate:g,x:b,margin:_,marginTop:w=_===void 0?20:_,marginRight:y=_===void 0?t==="right"?40:0:_,marginBottom:v=_===void 0?20:_,marginLeft:$=_===void 0?t==="left"?40:0:_,label:M,labelAnchor:k,labelArrow:S,labelOffset:A,...x}){return m=Ve(m),p=Ve(p),g=Ve(g),k!==void 0&&(k=Ot(k,"labelAnchor",["center","top","bottom"])),S=lb(S),xg(m&&!Qe(o)?px(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:m,tickPadding:p,tickRotate:g,x:b,...x}):null,Qe(f)?null:gx(e,t,n,{fill:f,fillOpacity:c,stroke:h,strokeOpacity:u,strokeWidth:d,textAnchor:l,tickSize:m,tickPadding:p,tickRotate:g,x:b,marginTop:w,marginRight:y,marginBottom:v,marginLeft:$,...x}),!Qe(f)&&M!==null?zg([],ab({fill:f,fillOpacity:c,...x},function(B,R,L,C,U){const z=C[e],{marginTop:ne,marginRight:N,marginBottom:Y,marginLeft:G}=e==="y"&&U.inset||U,j=k??(z.bandwidth?"center":"top"),J=A??(t==="right"?N:G)-3;return j==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=j,this.frameAnchor=`${j}-${t}`,this.rotate=0),this.dy=j==="top"?3-ne:j==="bottom"?Y-3:0,this.dx=t==="right"?J:-J,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[cb(e,z,{anchor:t,label:M,labelAnchor:j,labelArrow:S})]}}}})):null)}function nb(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:f=r,fillOpacity:c=i,textAnchor:l,textStroke:h,textStrokeOpacity:u,textStrokeWidth:d,tickSize:m=e==="x"?6:0,tickPadding:p,tickRotate:g,y:b,margin:_,marginTop:w=_===void 0?t==="top"?30:0:_,marginRight:y=_===void 0?20:_,marginBottom:v=_===void 0?t==="bottom"?30:0:_,marginLeft:$=_===void 0?20:_,label:M,labelAnchor:k,labelArrow:S,labelOffset:A,...x}){return m=Ve(m),p=Ve(p),g=Ve(g),k!==void 0&&(k=Ot(k,"labelAnchor",["center","left","right"])),S=lb(S),xg(m&&!Qe(o)?mx(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:m,tickPadding:p,tickRotate:g,y:b,...x}):null,Qe(f)?null:bx(e,t,n,{fill:f,fillOpacity:c,stroke:h,strokeOpacity:u,strokeWidth:d,textAnchor:l,tickSize:m,tickPadding:p,tickRotate:g,y:b,marginTop:w,marginRight:y,marginBottom:v,marginLeft:$,...x}),!Qe(f)&&M!==null?zg([],ab({fill:f,fillOpacity:c,...x},function(B,R,L,C,U){const z=C[e],{marginTop:ne,marginRight:N,marginBottom:Y,marginLeft:G}=e==="x"&&U.inset||U,j=k??(z.bandwidth?"center":"right"),J=A??(t==="top"?ne:Y)-3;return j==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${j}`,this.textAnchor=j==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-J:J,this.dx=j==="right"?N-3:j==="left"?3-G:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[cb(e,z,{anchor:t,label:M,labelAnchor:j,labelArrow:S})]}}}})):null)}function px(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="y"?"-empty":""),frameAnchor:s=t,tickSize:f,inset:c=0,insetLeft:l=c,insetRight:h=c,dx:u=0,y:d=e==="y"?void 0:null,...m}){return Jr(ux,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:s,y:d,...m,dx:t==="left"?+u-at+ +l:+u+at-h,anchor:"start",length:f,shape:t==="left"?kx:Sx})}function mx(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="x"?"-empty":""),frameAnchor:s=t,tickSize:f,inset:c=0,insetTop:l=c,insetBottom:h=c,dy:u=0,x:d=e==="x"?void 0:null,...m}){return Jr(lx,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:s,x:d,...m,dy:t==="bottom"?+u-at-h:+u+at+ +l,anchor:"start",length:f,shape:t==="bottom"?xx:Mx})}function gx(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*Eg):0),text:f,textAnchor:c=Math.abs(a)>60?"middle":t==="left"?"end":"start",lineAnchor:l=a>60?"top":a<-60?"bottom":"middle",fontVariant:h,inset:u=0,insetLeft:d=u,insetRight:m=u,dx:p=0,y:g=e==="y"?void 0:null,...b}){return Jr(G7,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:f,textAnchor:c,lineAnchor:l,fontVariant:h,rotate:a,y:g,...b,dx:t==="left"?+p-o-s+ +d:+p+ +o+ +s-m},function(_,w,y,v,$){h===void 0&&(this.fontVariant=fb(_)),f===void 0&&($.text=sb(_,w,y,v,t))})}function bx(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*Eg):0),text:f,textAnchor:c=Math.abs(a)>=10?a<0^t==="bottom"?"start":"end":"middle",lineAnchor:l=Math.abs(a)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:h,inset:u=0,insetTop:d=u,insetBottom:m=u,dy:p=0,x:g=e==="x"?void 0:null,...b}){return Jr(j7,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:f===void 0?null:f,textAnchor:c,lineAnchor:l,fontVariant:h,rotate:a,x:g,...b,dy:t==="bottom"?+p+ +o+ +s-m:+p-o-s+ +d},function(_,w,y,v,$){h===void 0&&(this.fontVariant=fb(_)),f===void 0&&($.text=sb(_,w,y,v,t))})}function _x(){const[e,t]=Un(...arguments);return rb("y",Xg(t),e,t)}function yx(){const[e,t]=Un(...arguments);return rb("fy",Kg(t),e,t)}function wx(){const[e,t]=Un(...arguments);return ib("x",Zg(t),e,t)}function $x(){const[e,t]=Un(...arguments);return ib("fx",Qg(t),e,t)}function rb(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:o=t==="left"?i:null,x2:a=t==="right"?i:null,...s}){return Jr(V7,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...ob(s)})}function ib(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:o=t==="top"?i:null,y2:a=t==="bottom"?i:null,...s}){return Jr(q7,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...ob(s)})}function ob({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function ab({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:f,shapeRendering:c,clip:l=!1},h){return[,e]=_n(e),[,t]=Ze(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:f,shapeRendering:c,clip:l,initializer:h}}function Jr(e,t,n,r,i,o){let a;function s(l,h,u,d,m,p){const g=l==null&&(t==="fx"||t==="fy"),{[t]:b}=d;if(!b)throw new Error(`missing scale: ${t}`);const _=b.domain();let{interval:w,ticks:y,tickFormat:v,tickSpacing:$=t==="x"?80:35}=i;if(typeof y=="string"&&ub(b)&&(w=y,y=void 0),y===void 0&&(y=Zr(w,b.type)??vx(b,$)),l==null){if(Bn(y))l=Dn(y);else if(xr(y))l=Vs(y,..._t(_));else if(b.interval){let k=b.interval;if(b.ticks){const[S,A]=_t(_),x=(A-S)/k[Qi];k=Zu(k,x/y)??k,l=Vs(k,S,A)}else{l=_;const S=l.length;k=Zu(k,S/y)??k,k!==b.interval&&(l=Vs(k,..._t(l)))}if(k===b.interval){const S=Math.round(l.length/y);S>1&&(l=l.filter((A,x)=>x%S===0))}}else b.ticks?l=b.ticks(y):l=_;if(!b.ticks&&l.length&&l!==_){const k=new Sa(_);l=l.filter(S=>k.has(S)),l.length||En(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?h=[wn(l)]:a[t]={scale:t,value:rt}}o?.call(this,b,l,y,v,a);const M=Object.fromEntries(Object.entries(a).map(([k,S])=>[k,{...S,value:Fe(l,S.value)}]));return g&&(h=p.filterFacets(l,M)),{data:l,facets:h,channels:M}}const f=sr(i).initializer,c=e(n,sr({...i,initializer:s},f));return n==null?(a=c.channels,c.channels={}):a={},r!==void 0&&Object.assign(c,r),c.clip===void 0&&(c.clip=!1),c}function vx(e,t){const[n,r]=_t(e.range());return(r-n)/t}function sb(e,t,n,r,i){return{value:$l(e,t,n,r,i)}}function $l(e,t,n,r,i){return typeof r=="function"&&!(e.type==="log"&&e.tickFormat)?r:r===void 0&&t&&nt(t)?q5(e.type,t,i)??Hr:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,r):r===void 0?Hr:typeof r=="string"?(nt(e.domain())?Zi:Xr)(r):hn(r)}function Vs(e,t,n){return e.range(t,e.offset(e.floor(n)))}const xx={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},Mx={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},kx={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},Sx={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function fb(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function cb(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&ub(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!t.bandwidth||t.interval)&&!/[]/.test(r)),!o)return r;if(o===!0){const a=C8(t);a&&(o=/x$/.test(e)||i==="center"?/x$/.test(e)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return n==="right"?`${r} `:` ${r}`;case"down":return n==="right"?`${r} `:` ${r}`}return r}}function lb(e="auto"){return Qe(e)?!1:typeof e=="boolean"?e:Ot(e,"labelArrow",["auto","up","right","down","left"])}function ub(e){return nt(e.domain())}function Sh(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function Tx(e,{opacity:t,...n}={}){if(!dr(e)&&!bg(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return hb(e,n,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Ze(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function Ex(e,{fill:t=e.hint?.fill!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=e.hint?.stroke!==void 0?e.hint.stroke:Qe(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...s}={},f){const[c,l]=_n(t),[h,u]=_n(r),d=Sh(f,c),m=Sh(f,h),p=a*a*Math.PI;return n=Ze(n)[1],i=Ze(i)[1],o=Ze(o)[1],hb(e,s,(g,b,_,w)=>g.append("svg").attr("viewBox","-8 -8 16 16").attr("width",_).attr("height",w).attr("fill",c==="color"?y=>d.scale(y):l).attr("fill-opacity",n).attr("stroke",h==="color"?y=>m.scale(y):u).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",y=>{const v=Gn();return e.scale(y).draw(v,p),v}))}function hb(e,t={},n){let{columns:r,tickFormat:i,fontVariant:o=Tg(e),swatchSize:a=15,swatchWidth:s=a,swatchHeight:f=a,marginLeft:c=0,className:l,style:h,width:u}=t;const d=ll(t);l=fs(l),i=$l(e.scale,e.domain,void 0,i);const m=He("div",d).attr("class",`${l}-swatches ${l}-swatches-${r!=null?"columns":"wrap"}`);let p;return r!=null?(p=`:where(.${l}-swatches-columns .${l}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${l}-swatches-columns .${l}-swatch::before) {
  flex-shrink: 0;
}
:where(.${l}-swatches-columns .${l}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,m.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${l}-swatch`).call(n,e,s,f).call(g=>g.append("div").attr("class",`${l}-swatch-label`).attr("title",i).text(i))):(p=`:where(.${l}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${l}-swatches-wrap .${l}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,m.selectAll().data(e.domain).enter().append("span").attr("class",`${l}-swatch`).call(n,e,s,f).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),m.call(g=>g.insert("style","*").text(`:where(.${l}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${l}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${p}`)).style("margin-left",c?`${+c}px`:null).style("width",u===void 0?null:`${+u}px`).style("font-variant",We(o,"normal")).call(hl,h).node()}const Zf=new Map([["symbol",Ex],["color",pb],["opacity",Ax]]);function Cx(e,t,n={}){return(r,i)=>{if(!Zf.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return Zf.get(r)(e[r],db(t,n[r],i),o=>e[o])}}function db({className:e,...t},{label:n,ticks:r,tickFormat:i}={},o){return h4(o,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function pb(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return Tx(e,n);case"ramp":return A7(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function Ax({type:e,interpolate:t,...n},{legend:r=!0,color:i=An(0,0,0),...o}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return pb({type:e,...n,interpolate:Nx(i)},{legend:r,...o})}function Nx(e){const{r:t,g:n,b:r}=An(e)||An(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function Ix(e,t,n){const r=[];for(const[i,o]of Zf){const a=n[i];if(a?.legend&&i in e){const s=o(e[i],db(t,e[i],a),f=>e[f]);s!=null&&r.push(s)}}return r}function Lx(e={}){return Rm(e)?e:{...e,y:rt}}function Dx(e,t){if(t.length===1)return{data:e,facets:t};const n=Di(e),r=new Uint8Array(n);let i=0;for(const s of t)for(const f of s)r[f]&&++i,r[f]=1;if(i===0)return{data:e,facets:t};e=Li(e);const o=e[Em]=new Uint32Array(n+i);t=t.map(s=>Li(s,Uint32Array));let a=n;r.fill(0);for(const s of t)for(let f=0,c=s.length;f<c;++f){const l=s[f];r[l]?(s[f]=a,e[a]=e[l],o[a]=l,++a):o[l]=l,r[l]=1}return{data:e,facets:t}}function Rx(e={},t={}){arguments.length===1&&([e,t]=Ox(e));const{x1:n,x:r=n,y:i,...o}=t,[a,s,f,c]=Bx(r,i,"x","y",e,o);return{...a,x1:n,x:s,y1:f,y2:c,y:Bf(f,c)}}function Fx({y:e,y1:t,y2:n,...r}={}){return r=dl(r,"x"),t===void 0&&n===void 0?Rx({y:e,...r}):([t,n]=J5(e,t,n),{...r,y1:t,y2:n})}function Ox(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const Px={length:!0};function Bx(e,t=G5,n,r,{offset:i,order:o,reverse:a},s){if(t===null)throw new Error(`stack requires ${r}`);const f=Fm(s),[c,l]=on(e),[h,u]=ba(t),[d,m]=ba(t);return h.hint=d.hint=Px,i=zx(i),o=qx(o,i,r),[rs(s,(p,g,b)=>{({data:p,facets:g}=Dx(p,g));const _=e==null?void 0:l(Om(Fe(p,e),b?.[n])),w=Fe(p,t,Float64Array),y=Fe(p,f),v=o&&o(p,_,w,y),$=Di(p),M=u(new Float64Array($)),k=m(new Float64Array($)),S=[];for(const A of g){const x=_?Array.from(Ta(A,B=>_[B]).values()):[A];if(v)for(const B of x)B.sort(v);for(const B of x){let R=0,L=0;a&&B.reverse();for(const C of B){const U=w[C];U<0?R=k[C]=(M[C]=R)+U:U>0?L=k[C]=(M[C]=L)+U:k[C]=M[C]=L}}S.push(x)}return i&&i(S,M,k,y),{data:p,facets:g}}),c,h,d]}function zx(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return Ux;case"center":case"silhouette":return Wx;case"wiggle":return gb}throw new Error(`unknown offset: ${e}`)}}function mb(e,t){let n=0,r=0;for(const i of e){const o=t[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function Ux(e,t,n){for(const r of e)for(const i of r){const[o,a]=mb(i,n);for(const s of i){const f=1/(a-o||1);t[s]=f*(t[s]-o),n[s]=f*(n[s]-o)}}}function Wx(e,t,n){for(const r of e){for(const i of r){const[o,a]=mb(i,n);for(const s of i){const f=(a+o)/2;t[s]-=f,n[s]-=f}}bb(r,t,n)}_b(e,t,n)}function gb(e,t,n,r){for(const i of e){const o=new Jn;let a=0;for(const s of i){let f=-1;const c=s.map(d=>Math.abs(n[d]-t[d])),l=s.map(d=>{f=r?r[d]:++f;const m=n[d]-t[d],p=o.has(f)?m-o.get(f):0;return o.set(f,m),p}),h=[0,...w2(l)];for(const d of s)t[d]+=a,n[d]+=a;const u=Cn(c);u&&(a-=Cn(c,(d,m)=>(l[m]/2+h[m])*d)/u)}bb(i,t,n)}_b(e,t,n)}function bb(e,t,n){const r=pn(e,i=>pn(i,o=>t[o]));for(const i of e)for(const o of i)t[o]-=r,n[o]-=r}function _b(e,t,n){const r=e.length;if(r===1)return;const i=e.map(s=>s.flat()),o=i.map(s=>(pn(s,f=>t[f])+Nt(s,f=>n[f]))/2),a=pn(o);for(let s=0;s<r;s++){const f=a-o[s];for(const c of i[s])t[c]+=f,n[c]+=f}}function qx(e,t,n){if(e===void 0&&t===gb)return Th(Rt);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?ga:Rt;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return Vx(i);case"z":return Hx(i);case"sum":return Yx(i);case"appearance":return jx(i);case"inside-out":return Th(i)}return Eh(Cm(e))}if(typeof e=="function")return(e.length===1?Eh:Gx)(e);if(ur(e))return Xx(e);throw new Error(`invalid order: ${e}`)}}function Vx(e){return(t,n,r)=>(i,o)=>e(r[i],r[o])}function Hx(e){return(t,n,r,i)=>(o,a)=>e(i[o],i[a])}function Yx(e){return us(e,(t,n,r,i)=>gc(wn(t),o=>Cn(o,a=>r[a]),o=>i[o]))}function jx(e){return us(e,(t,n,r,i)=>gc(wn(t),o=>n[qd(o,a=>r[a])],o=>i[o]))}function Th(e){return us(e,(t,n,r,i)=>{const o=wn(t),a=gc(o,h=>n[qd(h,u=>r[u])],h=>i[h]),s=kr(o,h=>Cn(h,u=>r[u]),h=>i[h]),f=[],c=[];let l=0;for(const h of a)l<0?(l+=s.get(h),f.push(h)):(l-=s.get(h),c.push(h));return c.reverse().concat(f)})}function Eh(e){return t=>{const n=Fe(t,e);return(r,i)=>Rt(n[r],n[i])}}function Gx(e){return t=>ur(t)?(n,r)=>e(t[n],t[r]):(n,r)=>e(t.get(n),t.get(r))}function Xx(e){return us(Rt,()=>e)}function us(e,t){return(n,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new Jn(t(n,r,i,o).map((s,f)=>[s,f]));return(s,f)=>e(a.get(o[s]),a.get(o[f]))}}const Kx={ariaLabel:"rect"};class Zx extends St{constructor(t,n={}){const{x1:r,y1:i,x2:o,y2:a}=n;super(t,{x1:{value:r,scale:"x",type:r!=null&&o==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&a==null?"band":void 0,optional:!0},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,Kx),yb(this,n),wb(this,n)}render(t,n,r,i,o){const{x:a,y:s}=n;let{x1:f,y1:c,x2:l,y2:h}=r;const{marginTop:u,marginRight:d,marginBottom:m,marginLeft:p,width:g,height:b}=i,{projection:_}=o,{insetTop:w,insetRight:y,insetBottom:v,insetLeft:$}=this,{rx:M,ry:k,rx1y1:S,rx1y2:A,rx2y1:x,rx2y2:B}=this;(f||l)&&!_&&Vr(a)&&(f=l=null),(c||h)&&!_&&Vr(s)&&(c=h=null);const R=a?.bandwidth?a.bandwidth():0,L=s?.bandwidth?s.bandwidth():0;return He("svg:g",o).call(vn,this,i,o).call(xn,this,{},0,0).call(C=>C.selectAll().data(t).enter().call(S||A||x||B?U=>U.append("path").call(Xt,this).call($b,f&&l?z=>f[z]+(l[z]<f[z]?-y:$):f?z=>f[z]+$:p+$,c&&h?z=>c[z]+(h[z]<c[z]?-v:w):c?z=>c[z]+w:u+w,f&&l?z=>l[z]-(l[z]<f[z]?-$:y):f?z=>f[z]+R-y:g-d-y,c&&h?z=>h[z]-(h[z]<c[z]?-w:v):c?z=>c[z]+L-v:b-m-v,this).call(Rn,this,r):U=>U.append("rect").call(Xt,this).attr("x",f?l?z=>Math.min(f[z],l[z])+$:z=>f[z]+$:p+$).attr("y",c?h?z=>Math.min(c[z],h[z])+w:z=>c[z]+w:u+w).attr("width",f?l?z=>Math.max(0,Math.abs(l[z]-f[z])+R-$-y):R-$-y:g-d-p-y-$).attr("height",c?h?z=>Math.max(0,Math.abs(c[z]-h[z])+L-w-v):L-w-v:b-u-m-w-v).call(ue,"rx",M).call(ue,"ry",k).call(Rn,this,r))).node()}}function yb(e,{inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={}){e.insetTop=Ve(n),e.insetRight=Ve(r),e.insetBottom=Ve(i),e.insetLeft=Ve(o)}function wb(e,{r:t,rx:n,ry:r,rx1:i=t,ry1:o=t,rx2:a=t,ry2:s=t,rx1y1:f=i!==void 0?+i:o!==void 0?+o:0,rx1y2:c=i!==void 0?+i:s!==void 0?+s:0,rx2y1:l=a!==void 0?+a:o!==void 0?+o:0,rx2y2:h=a!==void 0?+a:s!==void 0?+s:0}={}){f||c||l||h?(e.rx1y1=f,e.rx1y2=c,e.rx2y1=l,e.rx2y2=h):(e.rx=We(n,"auto"),e.ry=We(r,"auto"))}function $b(e,t,n,r,i,o){const{rx1y1:a,rx1y2:s,rx2y1:f,rx2y2:c}=o;typeof t!="function"&&(t=hn(t)),typeof n!="function"&&(n=hn(n)),typeof r!="function"&&(r=hn(r)),typeof i!="function"&&(i=hn(i));const l=Math.max(Math.abs(a+f),Math.abs(s+c)),h=Math.max(Math.abs(a+s),Math.abs(f+c));e.attr("d",u=>{const d=t(u),m=n(u),p=r(u),g=i(u),b=d>p,_=m>g,w=b?p:d,y=b?d:p,v=_?g:m,$=_?m:g,M=Math.min(1,(y-w)/l,($-v)/h),k=M*(b?_?c:f:_?s:a),S=M*(b?_?s:a:_?c:f),A=M*(b?_?a:s:_?f:c),x=M*(b?_?f:c:_?a:s);return`M${w},${v+xo(k,x)}A${k},${k} 0 0 ${k<0?0:1} ${w+vo(k,x)},${v}H${y-vo(S,A)}A${S},${S} 0 0 ${S<0?0:1} ${y},${v+xo(S,A)}V${$-xo(A,S)}A${A},${A} 0 0 ${A<0?0:1} ${y-vo(A,S)},${$}H${w+vo(x,k)}A${x},${x} 0 0 ${x<0?0:1} ${w},${$-xo(x,k)}Z`})}function vo(e,t){return t<0?e:Math.abs(e)}function xo(e,t){return t<0?Math.abs(e):e}function Qx(e,t={}){return Q5(t)||(t={...t,x:Am,y2:rt,interval:1}),new Zx(e,Fx(F7(Lx(t))))}const Jx={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},e9={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class t9 extends St{constructor(t={}){const{anchor:n=null}=t;super(Do,void 0,t,n==null?Jx:e9),this.anchor=Dm(n,"anchor",["top","right","bottom","left"]),yb(this,t),n||wb(this,t)}render(t,n,r,i,o){const{marginTop:a,marginRight:s,marginBottom:f,marginLeft:c,width:l,height:h}=i,{anchor:u,insetTop:d,insetRight:m,insetBottom:p,insetLeft:g}=this,{rx:b,ry:_,rx1y1:w,rx1y2:y,rx2y1:v,rx2y2:$}=this,M=c+g,k=l-s-m,S=a+d,A=h-f-p;return He(u?"svg:line":w||y||v||$?"svg:path":"svg:rect",o).datum(0).call(vn,this,i,o).call(Xt,this).call(Rn,this,r).call(xn,this,{}).call(u==="left"?x=>x.attr("x1",M).attr("x2",M).attr("y1",S).attr("y2",A):u==="right"?x=>x.attr("x1",k).attr("x2",k).attr("y1",S).attr("y2",A):u==="top"?x=>x.attr("x1",M).attr("x2",k).attr("y1",S).attr("y2",S):u==="bottom"?x=>x.attr("x1",M).attr("x2",k).attr("y1",A).attr("y2",A):w||y||v||$?x=>x.call($b,M,S,k,A,this):x=>x.attr("x",M).attr("y",S).attr("width",k-M).attr("height",A-S).attr("rx",b).attr("ry",_)).node()}}function n9(e){return new t9(e)}const Hs={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},r9=new Set(["geometry","href","src","ariaLabel","scales"]);class i9 extends St{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Bn(t)&&Bm(t)&&(n={...n,title:rt});const{x:r,y:i,x1:o,x2:a,y1:s,y2:f,anchor:c,preferredAnchor:l="bottom",monospace:h,fontFamily:u=h?"ui-monospace, monospace":void 0,fontSize:d,fontStyle:m,fontVariant:p,fontWeight:g,lineHeight:b=1,lineWidth:_=20,frameAnchor:w,format:y,textAnchor:v="start",textOverflow:$,textPadding:M=8,title:k,pointerSize:S=12,pathFilter:A="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:s!=null&&f!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:s,scale:"y",optional:f==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:f,scale:"y",optional:s==null},title:{value:k,optional:!0}},n,Hs),this.anchor=zf(c,"anchor"),this.preferredAnchor=zf(l,"preferredAnchor"),this.frameAnchor=ts(w),this.textAnchor=We(v,"middle"),this.textPadding=+M,this.pointerSize=+S,this.pathFilter=Ke(A),this.lineHeight=+b,this.lineWidth=+_,this.textOverflow=Bg($),this.monospace=!!h,this.fontFamily=Ke(u),this.fontSize=Ve(d),this.fontStyle=Ke(m),this.fontVariant=Ke(p),this.fontWeight=Ke(g);for(const x in Hs)x in this.channels&&(this[x]=Hs[x]);this.splitLines=Wg(this),this.clipLine=qg(this),this.format=typeof y=="string"||typeof y=="function"?{title:y}:{...y}}render(t,n,r,i,o){const a=this,{x:s,y:f,fx:c,fy:l}=n,{ownerSVGElement:h,document:u}=o,{anchor:d,monospace:m,lineHeight:p,lineWidth:g}=this,{textPadding:b,pointerSize:_,pathFilter:w}=this,{marginTop:y,marginLeft:v}=i,{x1:$,y1:M,x2:k,y2:S,x:A=$??k,y:x=M??S}=r,B=c?c(t.fx)-v:0,R=l?l(t.fy)-y:0,[L,C]=oo(this,i),U=kg(r,L),z=Sg(r,C),ne=m?wl:yl,N=ne(Cr);let Y,G;"title"in r?(Y=Ch.call(this,{title:r.channels.title},n),G=c9):(Y=Ch.call(this,r.channels,n),G=l9);const j=He("svg:g",o).call(vn,this,i,o).call(Ug,this).call(xn,this,{x:A&&s,y:x&&f}).call(be=>be.selectAll().data(t).enter().append("g").attr("transform",ye=>`translate(${Math.round(U(ye))},${Math.round(z(ye))})`).call(Xt,this).call(ye=>ye.append("path").attr("filter",w)).call(ye=>ye.append("text").each(function(K){const ce=Sr(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const P=G.call(a,K,t,Y,n,r);if(typeof P=="string")for(const F of a.splitLines(P))J(ce,{value:a.clipLine(F)});else{const F=new Set;for(const Z of P){const{label:D=""}=Z;D&&F.has(D)||(F.add(D),J(ce,Z))}}})));function J(be,{label:ye,value:K,color:ce,opacity:P}){ye??="",K??="";const F=ce!=null||P!=null;let Z,D=g*100;const[pe]=Yr(ye,D,ne,N);if(pe>=0)ye=ye.slice(0,pe).trimEnd()+Cr,Z=K.trim(),K="";else{(ye||!K&&!F)&&(K=" "+K);const[xe]=Yr(K,D-ne(ye),ne,N);xe>=0&&(Z=K.trim(),K=K.slice(0,xe).trimEnd()+Cr)}const ae=be.append("tspan").attr("x",0).attr("dy",`${p}em`).text("");ye&&ae.append("tspan").attr("font-weight","bold").text(ye),K&&ae.append(()=>u.createTextNode(K)),F&&ae.append("tspan").text(" ").attr("fill",ce).attr("fill-opacity",P).style("user-select","none"),Z&&ae.append("title").text(Z)}function we(){const{width:be,height:ye}=i.facet??i;j.selectChildren().each(function(K){let{x:ce,width:P,height:F}=this.getBBox();P=Math.round(P),F=Math.round(F);let Z=d;if(Z===void 0){const ae=U(K)+B,xe=z(K)+R,Te=ae+P+_+b*2<be,Ye=ae-P-_-b*2>0,Mn=xe+F+_+b*2<ye,qn=xe-F-_-b*2>0;Z=Te&&Ye?Mn&&qn?a.preferredAnchor:qn?"bottom":"top":Mn&&qn?Te?"left":"right":(Te||Ye)&&(Mn||qn)?`${qn?"bottom":"top"}-${Te?"left":"right"}`:a.preferredAnchor}const D=this.firstChild,pe=this.lastChild;if(D.setAttribute("d",f9(Z,_,b,P,F)),ce)for(const ae of pe.childNodes)ae.setAttribute("x",-ce);pe.setAttribute("y",`${+a9(Z,pe.childNodes.length,p).toFixed(6)}em`),pe.setAttribute("transform",`translate(${s9(Z,_,b,P,F)})`)}),j.attr("visibility",null)}return t.length&&(j.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(we):typeof requestAnimationFrame<"u"&&requestAnimationFrame(we)),j.node()}}function o9(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Ja(t,n)),new i9(e,{...r,x:t,y:n})}function a9(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function s9(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function f9(e,t,n,r,i){const o=r+n*2,a=i+n*2;switch(e){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${t},${t}h${o-t}v${a}h${-o}z`;case"top":return`M0,0l${t/2},${t/2}h${(o-t)/2}v${a}h${-o}v${-a}h${(o-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-o}v${a}h${o}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-a/2}h${-o}v${a}h${o}v${t/2-a/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${o-t}v${-a}h${-o}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(o-t)/2}v${-a}h${-o}v${a}h${(o-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-o}v${-a}h${o}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-a/2}h${o}v${a}h${-o}v${t/2-a/2}z`}}function Ch(e,t){const n={};let r=this.format;r=Ah(r,e,"x"),r=Ah(r,e,"y"),this.format=r;for(const i in r){const o=r[i];if(!(o===null||o===!1))if(i==="fx"||i==="fy")n[i]=!0;else{const a=ih(e,i);a&&(n[i]=a)}}for(const i in e){if(i in n||i in r||r9.has(i)||(i==="x"||i==="y")&&e.geometry)continue;const o=ih(e,i);if(o){if(o.scale==null&&o.defaultScale==="color")continue;n[i]=o}}this.facet&&(t.fx&&!("fx"in r)&&(n.fx=!0),t.fy&&!("fy"in r)&&(n.fy=!0));for(const i in n){const o=this.format[i];if(typeof o=="string"){const a=n[i]?.value??t[i]?.domain()??[];this.format[i]=(nt(a)?Zi:Xr)(o)}else if(o===void 0||o===!0){const a=t[i];this.format[i]=a?.bandwidth?$l(a,a.domain()):Hr}}return n}function Ah(e,t,n){if(!(n in e))return e;const r=`${n}1`,i=`${n}2`;if((r in e||!(r in t))&&(i in e||!(i in t)))return e;const o=Object.entries(e),a=e[n];return o.splice(o.findIndex(([s])=>s===n)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function c9(e,t,{title:n}){return this.format.title(n.value[e],e)}function*l9(e,t,n,r,i){for(const o in n){if(o==="fx"||o==="fy"){yield{label:ya(r,n,o),value:this.format[o](t[o],e)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;const a=n[o];if(o==="x2"&&"x1"in n)yield{label:Ih(r,n,"x"),value:Nh(this.format.x2,n.x1,a,e)};else if(o==="y2"&&"y1"in n)yield{label:Ih(r,n,"y"),value:Nh(this.format.y2,n.y1,a,e)};else{const s=a.value[e],f=a.scale;if(!In(s)&&f==null)continue;yield{label:ya(r,n,o),value:this.format[o](s,e),color:f==="color"?i[o][e]:null,opacity:f==="opacity"?i[o][e]:null}}}}function Nh(e,t,n,r){return n.hint?.length?`${e(n.value[r]-t.value[r],r)}`:`${e(t.value[r],r)}${e(n.value[r],r)}`}function Ih(e,t,n){const r=ya(e,t,`${n}1`,n),i=ya(e,t,`${n}2`,n);return r===i?r:`${r}${i}`}function ya(e,t,n,r=n){const i=t[n],o=e[i?.scale??n];return String(o?.label??i?.label??r)}function vb(e={}){const{facet:t,style:n,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:s}=e,f=fs(e.className),c=e.marks===void 0?[]:Dh(e.marks);c.push(...b9(c));const l=m9(t,e),h=new Map;for(const N of c){const Y=Rh(N,l,e);Y&&h.set(N,Y)}const u=new Map;l&&si(u,[l],e),si(u,h,e);const d=Dh(_9(c,u,e));for(const N of d){const Y=Rh(N,l,e);Y&&h.set(N,Y)}c.unshift(...d);let m=O8(u,e);if(m!==void 0){const N=l?zs(m,l):void 0;for(const G of c){if(G.facet===null||G.facet==="super")continue;const j=h.get(G);j!==void 0&&(j.facetsIndex=G.fx!=null||G.fy!=null?zs(m,j):N)}const Y=new Set;for(const{facetsIndex:G}of h.values())G?.forEach((j,J)=>{j?.length>0&&Y.add(J)});m.forEach(0<Y.size&&Y.size<m.length?(G,j)=>G.empty=!Y.has(j):G=>G.empty=!1);for(const G of c)if(G.facet==="exclude"){const j=h.get(G);j!==void 0&&(j.facetsIndex=z8(j.facetsIndex))}}for(const N of Le.keys())Pf(e[N])&&N!=="fx"&&N!=="fy"&&u.set(N,[]);const p=new Map;for(const N of c){if(p.has(N))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:Y,channels:G}=h.get(N)??{},{data:j,facets:J,channels:we}=N.initialize(Y,G,e);vl(we,e),p.set(N,{data:j,facets:J,channels:we})}const g=Hf(si(u,p,e),e),b=S7(g,c,e);T8(g,b);const _=uh(g),{fx:w,fy:y}=_,v=w||y?pg(g,b):b,$=w||y?k9(_,b):b,M=ll(e),k=M.document,S=Ca("svg").call(k.documentElement);let A=S;M.ownerSVGElement=S,M.className=f,M.projection=X8(e,v),M.filterFacets=(N,Y)=>zs(m,{channels:Y,groups:cl(N,Y)}),M.getMarkState=N=>{const Y=p.get(N),G=h.get(N);return{...Y,channels:{...Y.channels,...G?.channels}}},M.dispatchValue=N=>{A.value!==N&&(A.value=N,A.dispatchEvent(new Event("input",{bubbles:!0})))};const x=new Set;for(const[N,Y]of p)if(N.initializer!=null){const G=N.facet==="super"?$:v,j=N.initializer(Y.data,Y.facets,Y.channels,_,G,M);if(j.data!==void 0&&(Y.data=j.data),j.facets!==void 0&&(Y.facets=j.facets),j.channels!==void 0){const{fx:J,fy:we,...be}=j.channels;p9(be),Object.assign(Y.channels,be);for(const ye of Object.values(be)){const{scale:K}=ye;K!=null&&!m4(Le.get(K))&&(xb(ye,e),x.add(K))}(J!=null||we!=null)&&h.set(N,!0)}}if(x.size){const N=new Map;si(N,p,e,J=>x.has(J)),si(u,p,e,J=>x.has(J));const Y=M9(Hf(N,e),g),{scales:G,...j}=uh(Y);Object.assign(g,Y),Object.assign(_,j),Object.assign(_.scales,G)}let B,R;m!==void 0&&(B={x:w?.domain(),y:y?.domain()},m=P8(m,B),R=B8(w,y,b));for(const[N,Y]of p)Y.values=N.scale(Y.channels,_,M);const{width:L,height:C}=b;Sr(S).attr("class",f).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",L).attr("height",C).attr("viewBox",`0 0 ${L} ${C}`).attr("aria-label",a).attr("aria-description",s).call(N=>N.append("style").text(`:where(.${f}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${f} text),
:where(.${f} tspan) {
  white-space: pre;
}`)).call(hl,n);for(const N of c){const{channels:Y,values:G,facets:j}=p.get(N);if(m===void 0||N.facet==="super"){let J=null;if(j&&(J=j[0],J=N.filter(J,Y,G),J.length===0))continue;const we=N.render(J,_,G,$,M);if(we==null)continue;S.appendChild(we)}else{let J;for(const we of m){if(!(N.facetAnchor?.(m,B,we)??!we.empty))continue;let be=null;if(j){const K=h.has(N);if(be=j[K?we.i:0],be=N.filter(be,Y,G),be.length===0)continue;!K&&be===j[0]&&(be=e4(be)),be.fx=we.x,be.fy=we.y,be.fi=we.i}const ye=N.render(be,_,G,v,M);if(ye!=null){(J??=Sr(S).append("g")).append(()=>ye).datum(we);for(const K of["aria-label","aria-description","aria-hidden","transform"])ye.hasAttribute(K)&&(J.attr(K,ye.getAttribute(K)),ye.removeAttribute(K))}}J?.selectChildren().attr("transform",R)}}const U=Ix(g,M,e),{figure:z=r!=null||i!=null||o!=null||U.length>0}=e;z&&(A=k.createElement("figure"),A.className=`${f}-figure`,A.style.maxWidth="initial",r!=null&&A.append(Lh(k,r,"h2")),i!=null&&A.append(Lh(k,i,"h3")),A.append(...U,S),o!=null&&A.append(u9(k,o)),"value"in S&&(A.value=S.value,delete S.value)),A.scale=R8(_.scales),A.legend=Cx(g,M,e);const ne=l8();return ne>0&&Sr(S).append("text").attr("x",L).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${ne.toLocaleString("en-US")} warning${ne===1?"":"s"}. Please check the console.`),A}function Lh(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(t),r}function u9(e,t){const n=e.createElement("figcaption");return n.append(t),n}function Dh(e){return e.flat(1/0).filter(t=>t!=null).map(h9)}function h9(e){return typeof e.render=="function"?e:new d9(e)}class d9 extends St{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function vl(e,t){for(const n in e)xb(e[n],t);return e}function xb(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:o,interval:a,transform:s=o?f=>f==null?NaN:f*100:Pm(a,i)}=t[n]??{};s!=null&&(e.value=Re(e.value,s),e.transform=!1)}function p9(e){for(const t in e)eg(t,e[t])}function si(e,t,n,r=X5){for(const{channels:i}of t.values())for(const o in i){const a=i[o],{scale:s}=a;if(s!=null&&r(s))if(s==="projection"){if(!Q8(n)){const f=n.x?.domain===void 0,c=n.y?.domain===void 0;if(f||c){const[l,h]=t7(a);f&&Ys(e,"x",l),c&&Ys(e,"y",h)}}}else Ys(e,s,a)}return e}function Ys(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function m9(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=Wr(e.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=Fi(i,{value:n,scale:"fx"})),r!=null&&(o.fy=Fi(i,{value:r,scale:"fy"})),vl(o,t);const a=cl(i,o);return{channels:o,groups:a,data:e.data}}function Rh(e,t,n){if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const f=Wr(e.data??r??i);if(f===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(f===null)return;const c={};return r!=null&&(c.fx=Fi(f,{value:r,scale:"fx"})),i!=null&&(c.fy=Fi(f,{value:i,scale:"fy"})),vl(c,n),{channels:c,groups:cl(f,c)}}if(t===void 0)return;const{channels:o,groups:a,data:s}=t;if(e.facet!=="auto"||e.data===s)return{channels:o,groups:a};s.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&Di(Wr(e.data))===Di(s)&&En(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function g9(e,t={}){return sr({...t,x:null,y:null},(n,r,i,o,a,s)=>s.getMarkState(e))}function b9(e){const t=[];for(const n of e){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?C7:/^y$/i.test(i)?yh:E7,r=i(g9(n,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===yh?"left":"bottom");const a=o9(n.data,r);a.facet=n.facet,a.facetAnchor=n.facetAnchor,t.push(a)}}return t}function _9(e,t,n){let{projection:r,x:i={},y:o={},fx:a={},fy:s={},axis:f,grid:c,facet:l={},facet:{axis:h=f,grid:u}=l,x:{axis:d=f,grid:m=d===null?null:c}=i,y:{axis:p=f,grid:g=p===null?null:c}=o,fx:{axis:b=h,grid:_=b===null?null:u}=a,fy:{axis:w=h,grid:y=w===null?null:u}=s}=n;(r||!Pf(i)&&!Fh("x",e))&&(d=m=null),(r||!Pf(o)&&!Fh("y",e))&&(p=g=null),t.has("fx")||(b=_=null),t.has("fy")||(w=y=null),d===void 0&&(d=!So(e,"x")),p===void 0&&(p=!So(e,"y")),b===void 0&&(b=!So(e,"fx")),w===void 0&&(w=!So(e,"fy")),d===!0&&(d="bottom"),p===!0&&(p="left"),b===!0&&(b=d==="top"||d===null?"bottom":"top"),w===!0&&(w=p==="right"||p===null?"left":"right");const v=[];return ko(v,y,yx,s),Mo(v,w,hx,"right","left",l,s),ko(v,_,$x,a),Mo(v,b,dx,"top","bottom",l,a),ko(v,g,_x,o),Mo(v,p,Jg,"left","right",n,o),ko(v,m,wx,i),Mo(v,d,eb,"bottom","top",n,i),v}function Mo(e,t,n,r,i,o,a){if(!t)return;const s=y9(t);a=w9(s?r:t,o,a);const{line:f}=a;(n===Jg||n===eb)&&f&&!Ri(f)&&e.push(n9($9(a))),e.push(n(a)),s&&e.push(n({...a,anchor:i,label:null}))}function ko(e,t,n,r){!t||Ri(t)||e.push(n(v9(t,r)))}function y9(e){return/^\s*both\s*$/i.test(e)}function w9(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:f,fontVariant:c,ariaLabel:l,ariaDescription:h,label:u=t.label,labelAnchor:d,labelArrow:m=t.labelArrow,labelOffset:p}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:f,fontVariant:c,ariaLabel:l,ariaDescription:h,label:u,labelAnchor:d,labelArrow:m,labelOffset:p}}function $9(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function v9(e,{stroke:t=es(e)?e:void 0,ticks:n=x9(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function x9(e){switch(typeof e){case"number":return!0;case"string":return!es(e)}return Bn(e)||typeof e?.range=="function"}function So(e,t){const n=`${t}-axis `;return e.some(r=>r.ariaLabel?.startsWith(n))}function Fh(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function M9(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function k9({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:f}=fl(n),c=e&&Oh(e),l=t&&Oh(t);return{marginTop:t?l[0]:r,marginRight:e?s-c[1]:i,marginBottom:t?f-l[1]:o,marginLeft:e?c[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:s,height:f}}function Oh(e){const t=e.domain();if(t.length===0)return[0,e.bandwidth()];let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const S9=new Map([["basis",w5],["basis-closed",$5],["basis-open",v5],["bundle",x5],["bump-x",c5],["bump-y",l5],["cardinal",M5],["cardinal-closed",k5],["cardinal-open",S5],["catmull-rom",T5],["catmull-rom-closed",E5],["catmull-rom-open",C5],["linear",ja],["linear-closed",A5],["monotone-x",N5],["monotone-y",I5],["natural",L5],["step",D5],["step-after",F5],["step-before",R5]]);function T9(e=ja,t){if(typeof e=="function")return e;const n=S9.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function E9(e=wa,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?wa:T9(e,t)}function wa(e){return ja(e)}function C9(e={y:"count"},t={}){[e,t]=N9(e,t);const{x:n,y:r}=t;return A9(I9(n,t,rt),null,null,r,e,cs(t))}function A9(e,t,n,r,{data:i=Km,filter:o=_a,sort:a,reverse:s,...f}={},c={}){e=Ph(e),t=Ph(t),f=D9(f,c),i=Sb(i,rt),a=a==null?void 0:Mb("sort",a,c),o=o==null?void 0:kb("filter",o,c),r!=null&&vi(f,"y","y1","y2")&&(r=null);const[l,h]=on(e),[u,d]=on(e),[m,p]=on(t),[g,b]=on(t),[_,w]=r!=null?[r,"y"]:[],[y,v]=on(_),{x:$,y:M,z:k,fill:S,stroke:A,x1:x,x2:B,y1:R,y2:L,domain:C,cumulative:U,thresholds:z,interval:ne,...N}=c,[Y,G]=on(k),[j]=_n(S),[J]=_n(A),[we,be]=on(j),[ye,K]=on(J);return{..."z"in c&&{z:Y||k},..."fill"in c&&{fill:we||S},..."stroke"in c&&{stroke:ye||A},...rs(N,(ce,P,F)=>{const Z=Om(Fe(ce,_),F?.[w]),D=Fe(ce,k),pe=Fe(ce,j),ae=Fe(ce,J),xe=Xm(f,{z:D,fill:pe,stroke:ae}),Te=[],Ye=[],Mn=Z&&v([]),qn=D&&G([]),zb=pe&&be([]),Ub=ae&&K([]),Sl=e&&h([]),Wb=e&&d([]),Tl=t&&p([]),qb=t&&b([]),Vb=O9(e,t,ce);let Hb=0;for(const pr of f)pr.initialize(ce);a&&a.initialize(ce),o&&o.initialize(ce);for(const pr of P){const El=[];for(const mr of f)mr.scope("facet",pr);a&&a.scope("facet",pr),o&&o.scope("facet",pr);for(const[mr,Yb]of Uf(pr,xe))for(const[jb,ao]of Uf(Yb,Z))for(const[Pt,Qt]of Vb(ao))if(xe&&(Qt.z=mr),!(o&&!o.reduce(Pt,Qt))){El.push(Hb++),Ye.push(i.reduceIndex(Pt,ce,Qt)),Z&&Mn.push(jb),D&&qn.push(xe===D?mr:D[(Pt.length>0?Pt:ao)[0]]),pe&&zb.push(xe===pe?mr:pe[(Pt.length>0?Pt:ao)[0]]),ae&&Ub.push(xe===ae?mr:ae[(Pt.length>0?Pt:ao)[0]]),Sl&&(Sl.push(Qt.x1),Wb.push(Qt.x2)),Tl&&(Tl.push(Qt.y1),qb.push(Qt.y2));for(const Gb of f)Gb.reduce(Pt,Qt);a&&a.reduce(Pt,Qt)}Te.push(El)}return I4(Te,a,s),{data:Ye,facets:Te}}),...!vi(f,"x")&&(l?{x1:l,x2:u,x:Bf(l,u)}:{x:$,x1:x,x2:B}),...!vi(f,"y")&&(m?{y1:m,y2:g,y:Bf(m,g)}:{y:M,y1:R,y2:L}),...y&&{[w]:y},...Object.fromEntries(f.map(({name:ce,output:P})=>[ce,P]))}}function N9({cumulative:e,domain:t,thresholds:n,interval:r,...i},o){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...o}]}function I9(e,{cumulative:t,domain:n,thresholds:r,interval:i},o){return e={...Ji(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=o),e.thresholds=L9(e.thresholds,e.interval),e}function Ph(e){if(e==null)return;const{value:t,cumulative:n,domain:r=_t,thresholds:i}=e,o=a=>{let s=Fe(a,t),f;if(nt(s)||F9(i)){s=Re(s,Lm,Float64Array);let[l,h]=typeof r=="function"?r(s):r,u=typeof i=="function"&&!xr(i)?i(s,l,h):i;typeof u=="number"&&(u=Np(l,h,u)),xr(u)&&(r===_t&&(l=u.floor(l),h=u.offset(u.floor(h))),u=u.range(l,u.offset(h))),f=u}else{s=Ln(s);let[l,h]=typeof r=="function"?r(s):r,u=typeof i=="function"&&!xr(i)?i(s,l,h):i;if(typeof u=="number")if(r===_t){let d=Uo(l,h,u);if(isFinite(d))if(d>0){let m=Math.round(l/d),p=Math.round(h/d);m*d<=l||--m,p*d>h||++p;let g=p-m+1;u=new Float64Array(g);for(let b=0;b<g;++b)u[b]=(m+b)*d}else if(d<0){d=-d;let m=Math.round(l*d),p=Math.round(h*d);m/d<=l||--m,p/d>h||++p;let g=p-m+1;u=new Float64Array(g);for(let b=0;b<g;++b)u[b]=(m+b)/d}else u=[l];else u=[l]}else u=xi(l,h,u);else xr(u)&&(r===_t&&(l=u.floor(l),h=u.offset(u.floor(h))),u=u.range(l,u.offset(h)));f=u}const c=[];if(f.length===1)c.push([f[0],f[0]]);else for(let l=1;l<f.length;++l)c.push([f[l-1],f[l]]);return c.bin=(n<0?B9:n>0?P9:xl)(c,f,s),c};return o.label=hr(t),o}function L9(e,t,n=Bh){if(e===void 0)return t===void 0?n:Zr(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return A2;case"scott":return Vd;case"sturges":return S2;case"auto":return Bh}return jc(e)}return e}function D9(e,t){return Gm(e,t,Mb)}function Mb(e,t,n){return rl(e,t,n,kb)}function kb(e,t,n){return il(e,t,n,Sb)}function Sb(e,t){return is(e,t,R9)}function R9(e){switch(`${e}`.toLowerCase()){case"x":return z9;case"x1":return W9;case"x2":return q9;case"y":return U9;case"y1":return V9;case"y2":return H9;case"z":return Qm}throw new Error(`invalid bin reduce: ${e}`)}function Bh(e,t,n){return Math.min(200,Vd(e,t,n))}function F9(e){return i4(e)||Bn(e)&&nt(e)}function O9(e,t,n){const r=e?.(n),i=t?.(n);return r&&i?function*(o){const a=r.bin(o);for(const[s,[f,c]]of r.entries()){const l=i.bin(a[s]);for(const[h,[u,d]]of i.entries())yield[l[h],{data:n,x1:f,y1:u,x2:c,y2:d}]}}:r?function*(o){const a=r.bin(o);for(const[s,[f,c]]of r.entries())yield[a[s],{data:n,x1:f,x2:c}]}:function*(o){const a=i.bin(o);for(const[s,[f,c]]of i.entries())yield[a[s],{data:n,y1:f,y2:c}]}}function xl(e,t,n){return t=Ln(t),r=>{const i=e.map(()=>[]);for(const o of r)i[ka(t,n[o])-1]?.push(o);return i}}function P9(e,t,n){const r=xl(e,t,n);return i=>{const o=r(i);for(let a=1,s=o.length;a<s;++a){const f=o[a-1],c=o[a];for(const l of f)c.push(l)}return o}}function B9(e,t,n){const r=xl(e,t,n);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const s=o[a+1],f=o[a];for(const c of s)f.push(c)}return o}}function Tb(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const z9={reduceIndex(e,t,{x1:n,x2:r}){return Tb(n,r)}},U9={reduceIndex(e,t,{y1:n,y2:r}){return Tb(n,r)}},W9={reduceIndex(e,t,{x1:n}){return n}},q9={reduceIndex(e,t,{x2:n}){return n}},V9={reduceIndex(e,t,{y1:n}){return n}},H9={reduceIndex(e,t,{y2:n}){return n}},Y9={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function j9(e){return e.sort===void 0&&e.reverse===void 0?v4({channel:"-r"},e):e}class G9 extends St{constructor(t,n={}){const{x:r,y:i,r:o,rotate:a,symbol:s=Ii,frameAnchor:f}=n,[c,l]=Ze(a,0),[h,u]=w4(s),[d,m]=Ze(o,h==null?3:4.5);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:d,scale:"r",filter:Ka,optional:!0},rotate:{value:c,optional:!0},symbol:{value:h,scale:"auto",optional:!0}},j9(n),Y9),this.r=m,this.rotate=l,this.symbol=u,this.frameAnchor=ts(f);const{channels:p}=this,{symbol:g}=p;if(g){const{fill:b,stroke:_}=p;g.hint={fill:b?b.value===g.value?"color":"currentColor":this.fill??"currentColor",stroke:_?_.value===g.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,r,i,o){const{x:a,y:s}=n,{x:f,y:c,r:l,rotate:h,symbol:u}=r,{r:d,rotate:m,symbol:p}=this,[g,b]=oo(this,i),_=p===Ii,w=l?void 0:d*d*Math.PI;return Vc(d)&&(t=[]),He("svg:g",o).call(vn,this,i,o).call(xn,this,{x:f&&a,y:c&&s}).call(y=>y.selectAll().data(t).enter().append(_?"circle":"path").call(Xt,this).call(_?v=>{v.attr("cx",f?$=>f[$]:g).attr("cy",c?$=>c[$]:b).attr("r",l?$=>l[$]:d)}:v=>{v.attr("transform",bl`translate(${f?$=>f[$]:g},${c?$=>c[$]:b})${h?$=>` rotate(${h[$]})`:m?` rotate(${m})`:""}`).attr("d",l&&u?$=>{const M=Gn();return u[$].draw(M,l[$]*l[$]*Math.PI),M}:l?$=>{const M=Gn();return p.draw(M,l[$]*l[$]*Math.PI),M}:u?$=>{const M=Gn();return u[$].draw(M,w),M}:(()=>{const $=Gn();return p.draw($,w),$})())}).call(Rn,this,r)).node()}}function X9(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Ja(t,n)),new G9(e,{...r,x:t,y:n})}const K9={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Z9 extends St{constructor(t,n={}){const{x:r,y:i,z:o,curve:a,tension:s}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Fm(n),optional:!0}},n,K9),this.z=o,this.curve=E9(a,s),ml(this,n)}filter(t){return t}project(t,n,r){this.curve!==wa&&super.project(t,n,r)}render(t,n,r,i,o){const{x:a,y:s}=r,{curve:f}=this;return He("svg:g",o).call(vn,this,i,o).call(xn,this,n).call(c=>c.selectAll().data(_7(t,[a,s],this,r)).enter().append("path").call(Xt,this).call(m7,this,r).call(D7,this,r,o).attr("d",f===wa&&o.projection?Q9(o.projection,a,s):f5().curve(f).defined(l=>l>=0).x(l=>a[l]).y(l=>s[l]))).node()}}function Q9(e,t,n){const r=Ra(e);return t=Ln(t),n=Ln(n),i=>{let o=[];const a=[o];for(const s of i)s===-1?(o=[],a.push(o)):o.push([t[s],n[s]]);return r({type:"MultiLineString",coordinates:a})}}function J9(e,{x:t,y:n,...r}={}){return[t,n]=Ja(t,n),new Z9(e,{...r,x:t,y:n})}const zh=.5,Uh=0;function eM(e={fill:"count"},{binWidth:t,...n}={}){const{z:r}=n;return t=t===void 0?20:Ve(t),e=T4(e,n),vi(e,"fill")&&(n.channels={...n.channels,fill:{value:[]}}),n.symbol===void 0&&(n.symbol="hexagon"),n.r===void 0&&!vi(e,"r")&&(n.r=t/2),sr(n,(i,o,a,s,f,c)=>{let{x:l,y:h,z:u,fill:d,stroke:m,symbol:p}=a;if(l===void 0)throw new Error("missing channel: x");if(h===void 0)throw new Error("missing channel: y");({x:l,y:h}=e7(a,s,c)),u=u?u.value:Fe(i,r),d=d?.value,m=m?.value,p=p?.value;const g=Xm(e,{z:u,fill:d,stroke:m,symbol:p}),b=u&&[],_=d&&[],w=m&&[],y=p&&[],v=[],$=[],M=[];let k=-1;for(const B of e)B.initialize(i);for(const B of o){const R=[];for(const L of e)L.scope("facet",B);for(const[L,C]of Uf(B,g))for(const{index:U,extent:z}of tM(i,C,l,h,t)){R.push(++k),$.push(z.x),M.push(z.y),u&&b.push(g===u?L:u[U[0]]),d&&_.push(g===d?L:d[U[0]]),m&&w.push(g===m?L:m[U[0]]),p&&y.push(g===p?L:p[U[0]]);for(const ne of e)ne.reduce(U,z)}v.push(R)}const S=a.x.scale,A=a.y.scale,x={x:{value:$,source:s[S]?{value:Re($,s[S].invert),scale:S}:null},y:{value:M,source:s[A]?{value:Re(M,s[A].invert),scale:A}:null},...u&&{z:{value:b}},...d&&{fill:{value:_,scale:"auto"}},...m&&{stroke:{value:w,scale:"auto"}},...p&&{symbol:{value:y,scale:"auto"}},...Object.fromEntries(e.map(({name:B,output:R})=>[B,{scale:"auto",label:R.label,radius:B==="r"?t/2:void 0,value:R.transform()}]))};return{data:i,facets:v,channels:x}})}function tM(e,t,n,r,i){const o=i*(1.5/Hm),a=new Map;for(const s of t){let f=n[s],c=r[s];if(isNaN(f)||isNaN(c))continue;let l=Math.round(c=(c-Uh)/o),h=Math.round(f=(f-zh)/i-(l&1)/2),u=c-l;if(Math.abs(u)*3>1){let p=f-h,g=h+(f<h?-1:1)/2,b=l+(c<l?-1:1),_=f-g,w=c-b;p*p+u*u>_*_+w*w&&(h=g+(l&1?1:-1)/2,l=b)}const d=`${h},${l}`;let m=a.get(d);m===void 0&&(m={index:[],extent:{data:e,x:(h+(l&1)/2)*i+zh,y:l*o+Uh}},a.set(d,m)),m.index.push(s)}return a.values()}St.prototype.plot=function({marks:e=[],...t}={}){return vb({...t,marks:[...e,this]})};const Eb=e=>typeof e=="object"&&e!==null,Wh=e=>Eb(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),nM=Symbol("mapObjectSkip"),Qf=(e,t,n,r=new WeakMap)=>{if(n={deep:!1,target:{},...n},r.has(e))return r.get(e);r.set(e,n.target);const{target:i}=n;delete n.target;const o=a=>a.map(s=>Wh(s)?Qf(s,t,n,r):s);if(Array.isArray(e))return o(e);for(const[a,s]of Object.entries(e)){const f=t(a,s,e);if(f===nM)continue;let[c,l,{shouldRecurse:h=!0}={}]=f;c!=="__proto__"&&(n.deep&&h&&Wh(l)&&(l=Array.isArray(l)?o(l):Qf(l,t,n,r)),i[c]=l)}return i};function qh(e,t,n){if(!Eb(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return Qf(e,t,n)}const rM=/[\p{Lu}]/u,iM=/[\p{Ll}]/u,Vh=/^[\p{Lu}](?![\p{Lu}])/gu,Cb=/([\p{Alpha}\p{N}_]|$)/u,Ml=/[_.\- ]+/,oM=new RegExp("^"+Ml.source),Hh=new RegExp(Ml.source+Cb.source,"gu"),Yh=new RegExp("\\d+"+Cb.source,"gu"),aM=(e,t,n,r)=>{let i=!1,o=!1,a=!1,s=!1;for(let f=0;f<e.length;f++){const c=e[f];s=f>2?e[f-3]==="-":!0,i&&rM.test(c)?(e=e.slice(0,f)+"-"+e.slice(f),i=!1,a=o,o=!0,f++):o&&a&&iM.test(c)&&(!s||r)?(e=e.slice(0,f-1)+"-"+e.slice(f-1),a=o,o=!1,i=!0):(i=t(c)===c&&n(c)!==c,a=o,o=n(c)===c&&t(c)!==c)}return e},sM=(e,t)=>(Vh.lastIndex=0,e.replaceAll(Vh,n=>t(n))),fM=(e,t)=>(Hh.lastIndex=0,Yh.lastIndex=0,e.replaceAll(Yh,(n,r,i)=>["_","-"].includes(e.charAt(i+n.length))?n:t(n)).replaceAll(Hh,(n,r)=>t(r)));function cM(e,t){if(!(typeof e=="string"||Array.isArray(e)))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},Array.isArray(e)?e=e.map(o=>o.trim()).filter(o=>o.length).join("-"):e=e.trim(),e.length===0)return"";const n=t.locale===!1?o=>o.toLowerCase():o=>o.toLocaleLowerCase(t.locale),r=t.locale===!1?o=>o.toUpperCase():o=>o.toLocaleUpperCase(t.locale);return e.length===1?Ml.test(e)?"":t.pascalCase?r(e):n(e):(e!==n(e)&&(e=aM(e,n,r,t.preserveConsecutiveUppercase)),e=e.replace(oM,""),e=t.preserveConsecutiveUppercase?sM(e,n):n(e),t.pascalCase&&(e=r(e.charAt(0))+e.slice(1)),fM(e,r))}class lM extends Map{constructor(t={}){if(super(),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof t.maxAge=="number"&&t.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=t.maxSize,this.maxAge=t.maxAge||Number.POSITIVE_INFINITY,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(t){if(typeof this.onEviction=="function")for(const[n,r]of t)this.onEviction(n,r.value)}_deleteIfExpired(t,n){return typeof n.expiry=="number"&&n.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(t,n.value),this.delete(t)):!1}_getOrDeleteIfExpired(t,n){if(this._deleteIfExpired(t,n)===!1)return n.value}_getItemValue(t,n){return n.expiry?this._getOrDeleteIfExpired(t,n):n.value}_peek(t,n){const r=n.get(t);return this._getItemValue(t,r)}_set(t,n){this.cache.set(t,n),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(t,n){this.oldCache.delete(t),this._set(t,n)}*_entriesAscending(){for(const t of this.oldCache){const[n,r]=t;this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield t)}for(const t of this.cache){const[n,r]=t;this._deleteIfExpired(n,r)===!1&&(yield t)}}get(t){if(this.cache.has(t)){const n=this.cache.get(t);return this._getItemValue(t,n)}if(this.oldCache.has(t)){const n=this.oldCache.get(t);if(this._deleteIfExpired(t,n)===!1)return this._moveToRecent(t,n),n.value}}set(t,n,{maxAge:r=this.maxAge}={}){const i=typeof r=="number"&&r!==Number.POSITIVE_INFINITY?Date.now()+r:void 0;return this.cache.has(t)?this.cache.set(t,{value:n,expiry:i}):this._set(t,{value:n,expiry:i}),this}has(t){return this.cache.has(t)?!this._deleteIfExpired(t,this.cache.get(t)):this.oldCache.has(t)?!this._deleteIfExpired(t,this.oldCache.get(t)):!1}peek(t){if(this.cache.has(t))return this._peek(t,this.cache);if(this.oldCache.has(t))return this._peek(t,this.oldCache)}delete(t){const n=this.cache.delete(t);return n&&this._size--,this.oldCache.delete(t)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(t){if(!(t&&t>0))throw new TypeError("`maxSize` must be a number greater than 0");const n=[...this._entriesAscending()],r=n.length-t;r<0?(this.cache=new Map(n),this.oldCache=new Map,this._size=n.length):(r>0&&this._emitEvictions(n.slice(0,r)),this.oldCache=new Map(n.slice(r)),this.cache=new Map,this._size=0),this.maxSize=t}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache){const[n,r]=t;this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}for(const t of this.oldCache){const[n,r]=t;this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}}*entriesDescending(){let t=[...this.cache];for(let n=t.length-1;n>=0;--n){const r=t[n],[i,o]=r;this._deleteIfExpired(i,o)===!1&&(yield[i,o.value])}t=[...this.oldCache];for(let n=t.length-1;n>=0;--n){const r=t[n],[i,o]=r;this.cache.has(i)||this._deleteIfExpired(i,o)===!1&&(yield[i,o.value])}}*entriesAscending(){for(const[t,n]of this._entriesAscending())yield[t,n.value]}get size(){if(!this._size)return this.oldCache.size;let t=0;for(const n of this.oldCache.keys())this.cache.has(n)||t++;return Math.min(this._size+t,this.maxSize)}entries(){return this.entriesAscending()}forEach(t,n=this){for(const[r,i]of this.entriesAscending())t.call(n,i,r,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}const uM=(e,t)=>e.some(n=>typeof n=="string"?n===t:(n.lastIndex=0,n.test(t))),js=new lM({maxSize:1e5}),jh=e=>typeof e=="object"&&e!==null&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),Gh=(e,t={})=>{if(!jh(e))return e;const{exclude:n,pascalCase:r=!1,stopPaths:i,deep:o=!1,preserveConsecutiveUppercase:a=!1}=t,s=new Set(i),f=c=>(l,h)=>{if(o&&jh(h)){const u=c===void 0?l:`${c}.${l}`;s.has(u)||(h=qh(h,f(u)))}if(!(n&&uM(n,l))){const u=r?`${l}_`:l;if(js.has(u))l=js.get(u);else{const d=cM(l,{pascalCase:r,locale:!1,preserveConsecutiveUppercase:a});l.length<100&&js.set(u,d),l=d}}return[l,h]};return qh(e,f(void 0))};function hM(e,t){return Array.isArray(e)?Object.keys(e).map(n=>Gh(e[n],t)):Gh(e,t)}function dM(e){let t;return{c(){t=re("div"),this.h()},l(n){t=ie(n,"DIV",{role:!0,class:!0,"data-testid":!0}),oe(t).forEach(T),this.h()},h(){Q(t,"role","img"),Q(t,"class","w-full border p-4 [&_h2]:text-lg [&_h2]:font-semibold [&_h3]:text-sm"),Q(t,"data-testid","chart")},m(n,r){O(n,t,r),e[5](t)},p:De,d(n){n&&T(t),e[5](null)}}}function pM(e){let t,n;return{c(){t=re("div"),n=se(e[1]),this.h()},l(r){t=ie(r,"DIV",{class:!0});var i=oe(t);n=fe(i,e[1]),i.forEach(T),this.h()},h(){Q(t,"class","w-full border p-4 text-red-500")},m(r,i){O(r,t,i),X(t,n)},p(r,i){i&2&&ke(n,r[1])},d(r){r&&T(t)}}}function mM(e){let t;function n(o,a){return o[1]?pM:dM}let r=n(e),i=r(e);return{c(){i.c(),t=$e()},l(o){i.l(o),t=$e()},m(o,a){i.m(o,a),O(o,t,a)},p(o,[a]){r===(r=n(o))&&i?i.p(o,a):(i.d(1),i=r(o),i&&(i.c(),i.m(t.parentNode,t)))},i:De,o:De,d(o){o&&T(t),i.d(o)}}}function gM(e,t,n){let{plot:r}=t,{data:i}=t,o,a,s=[];const f=d=>{const{marks:m,...p}=d;return h(p)},c=(d,m)=>{const p=h(m.options);switch(m.type){case"line":return J9(d,p.transform?l(p.transform):{sort:p.x,...p});case"dot":return X9(d,p.transform?l(p.transform):p);case"recty":return Qx(d,p.transform?l(p.transform):p)}},l=d=>{switch(d.type){case"binx":return C9(d.content.outputs,d.content.options);case"hexbin":return eM(d.content.outputs,d.content.options)}},h=d=>(Object.keys(d).forEach(m=>{d[m]&&typeof d[m]=="object"?h(d[m]):d[m]==null&&delete d[m]}),hM(d,{deep:!0}));function u(d){st[d?"unshift":"push"](()=>{o=d,n(0,o)})}return e.$$set=d=>{"plot"in d&&n(2,r=d.plot),"data"in d&&n(3,i=d.data)},e.$$.update=()=>{if(e.$$.dirty&8&&n(4,s=i?.map(d=>Object.fromEntries(Object.entries(d).map(([m,p])=>[m,p.value])))??[]),e.$$.dirty&21&&o&&s)try{o?.firstChild?.remove(),o.append(vb({...f(r),marks:r.marks.map(d=>c(s,d))}))}catch(d){d instanceof Error?n(1,a=d.message):n(1,a=String(d))}},[o,a,r,i,s,u]}class bM extends ht{constructor(t){super(),dt(this,t,gM,mM,ut,{plot:2,data:3})}}const _M=e=>{if(e.data.rows.some(t=>t.length!==e.data.columnNames.length))throw new Error("Number of column names does not match data length");return e.data.rows.map(t=>{const n={};return e.data.columnNames.forEach((r,i)=>{n[r]=[+Ks(Ad(t[i]),18),t[i]]}),n})},yM=e=>{if(e.data.rows.some(t=>t.length!==e.data.columnNames.length))throw new Error("Number of column names does not match data length");return e.data.rows.map(t=>{const n={};return e.data.columnNames.forEach((r,i)=>{n[r]=wM(t[i],r)}),n})},wM=(e,t)=>{const n=R_.tryFromBigint(Ad(e));if(n?.error||!n?.value){const o=n?.error?.readableMsg??n?.error?.msg??"Unknown error";throw new Error(`Failed to parse ${t} value: ${o}`)}const r=n.value.formatWithScientific(!1);if(r.error||!r.value){const o=r.error?.readableMsg??r.error?.msg??"Unknown error";throw new Error(`Failed to format ${t} value: ${o}`)}const i=Number(r.value);if(!Number.isFinite(i))throw new Error(`Value for ${t} is not a finite number: ${r.value}`);return{float:n.value,formatted:r.value,value:i}};function Xh(e){let t,n;return{c(){t=re("div"),n=se(e[3]),this.h()},l(r){t=ie(r,"DIV",{class:!0,role:!0});var i=oe(t);n=fe(i,e[3]),i.forEach(T),this.h()},h(){Q(t,"class","absolute bottom-full left-1/2 mb-2 -translate-x-1/2 whitespace-nowrap rounded bg-slate-900 px-2 py-1 text-xs text-white shadow-lg"),Q(t,"role","status")},m(r,i){O(r,t,i),X(t,n)},p(r,i){i&8&&ke(n,r[3])},d(r){r&&T(t)}}}function Kh(e){let t,n=e[0].description+"",r;return{c(){t=re("span"),r=se(n),this.h()},l(i){t=ie(i,"SPAN",{class:!0});var o=oe(t);r=fe(o,n),o.forEach(T),this.h()},h(){Q(t,"class","text-sm")},m(i,o){O(i,t,o),X(t,r)},p(i,o){o&1&&n!==(n=i[0].description+"")&&ke(r,n)},d(i){i&&T(t)}}}function $M(e){let t,n,r=e[0].label+"",i,o,a,s,f,c=(e[2]??"")+"",l,h,u,d,m,p,g,b,_,w;u=new S_({props:{class:"absolute right-2 top-1/2 h-5 w-5 -translate-y-1/2 text-slate-500 dark:text-slate-300","aria-hidden":"true"}});let y=e[1]&&Xh(e),v=e[0]?.description&&Kh(e);return{c(){t=re("div"),n=re("span"),i=se(r),o=ee(),a=re("div"),s=re("button"),f=re("span"),l=se(c),h=ee(),W(u.$$.fragment),p=ee(),y&&y.c(),g=ee(),v&&v.c(),this.h()},l($){t=ie($,"DIV",{class:!0});var M=oe(t);n=ie(M,"SPAN",{});var k=oe(n);i=fe(k,r),k.forEach(T),o=te(M),a=ie(M,"DIV",{class:!0});var S=oe(a);s=ie(S,"BUTTON",{type:!0,class:!0,"aria-label":!0,title:!0});var A=oe(s);f=ie(A,"SPAN",{class:!0});var x=oe(f);l=fe(x,c),x.forEach(T),h=te(A),q(u.$$.fragment,A),A.forEach(T),p=te(S),y&&y.l(S),S.forEach(T),g=te(M),v&&v.l(M),M.forEach(T),this.h()},h(){Q(f,"class","block w-full truncate pr-6 text-center"),Q(s,"type","button"),Q(s,"class","relative flex w-full items-center justify-center gap-2 rounded bg-transparent px-2 py-1 text-2xl transition hover:bg-slate-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-500 dark:hover:bg-slate-800"),Q(s,"aria-label",d=`Copy ${e[0].label} value`),Q(s,"title",m=e[2]||""),Q(a,"class","relative w-full"),Q(t,"class","flex h-full w-full flex-col items-center justify-between border p-4")},m($,M){O($,t,M),X(t,n),X(n,i),X(t,o),X(t,a),X(a,s),X(s,f),X(f,l),X(s,h),V(u,s,null),X(a,p),y&&y.m(a,null),X(t,g),v&&v.m(t,null),b=!0,_||(w=[qe(s,"click",e[6]),qe(s,"mouseenter",e[4]),qe(s,"mouseleave",e[5]),qe(s,"focus",e[4]),qe(s,"blur",e[5])],_=!0)},p($,[M]){(!b||M&1)&&r!==(r=$[0].label+"")&&ke(i,r),(!b||M&4)&&c!==(c=($[2]??"")+"")&&ke(l,c),(!b||M&1&&d!==(d=`Copy ${$[0].label} value`))&&Q(s,"aria-label",d),(!b||M&4&&m!==(m=$[2]||""))&&Q(s,"title",m),$[1]?y?y.p($,M):(y=Xh($),y.c(),y.m(a,null)):y&&(y.d(1),y=null),$[0]?.description?v?v.p($,M):(v=Kh($),v.c(),v.m(t,null)):v&&(v.d(1),v=null)},i($){b||(E(u.$$.fragment,$),b=!0)},o($){I(u.$$.fragment,$),b=!1},d($){$&&T(t),H(u),y&&y.d(),v&&v.d(),_=!1,cc(w)}}}function vM(e,t,n){let r,i,o,a,{metric:s}=t,{data:f}=t,c=!1,l=!1,h;function u(){n(1,c=!0)}function d(){n(1,c=!1),h&&(clearTimeout(h),h=void 0),n(8,l=!1)}async function m(){if(o){try{await a2(o)}catch{if(navigator?.clipboard?.writeText)await navigator.clipboard.writeText(o);else return}n(8,l=!0),u(),h&&clearTimeout(h),h=setTimeout(()=>{n(8,l=!1),h=void 0},1500)}}return Qb(()=>{h&&clearTimeout(h)}),e.$$set=p=>{"metric"in p&&n(0,s=p.metric),"data"in p&&n(7,f=p.data)},e.$$.update=()=>{e.$$.dirty&129&&n(10,r=f?.[0]?.[s.value]),e.$$.dirty&1024&&n(9,i=r?.formatted??""),e.$$.dirty&513&&n(2,o=i===""?"":`${s?.["unit-prefix"]??""}${i}${s?.["unit-suffix"]??""}`),e.$$.dirty&256&&n(3,a=l?"Copied!":"Click to copy value")},[s,c,o,a,u,d,m,f,l,i,r]}class xM extends ht{constructor(t){super(),dt(this,t,vM,$M,ut,{metric:0,data:7})}}function Zh(e,t,n){const r=e.slice();r[1]=t[n];const i=yM(r[0].scenariosData[r[1][1].scenario.key]);return r[2]=i,r}function Qh(e,t,n){const r=e.slice();return r[5]=t[n],r}function Jh(e,t,n){const r=e.slice();return r[8]=t[n],r}function MM(e){let t;return{c(){t=se("No scenario data")},l(n){t=fe(n,"No scenario data")},m(n,r){O(n,t,r)},p:De,i:De,o:De,d(n){n&&T(t)}}}function kM(e){let t,n,r=Ie(Je.sortBy(Object.entries(e[0].charts),["0"])),i=[];for(let a=0;a<r.length;a+=1)i[a]=nd(Zh(e,r,a));const o=a=>I(i[a],1,1,()=>{i[a]=null});return{c(){t=re("div");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){t=ie(a,"DIV",{class:!0});var s=oe(t);for(let f=0;f<i.length;f+=1)i[f].l(s);s.forEach(T),this.h()},h(){Q(t,"class","mt-8 flex flex-col items-center gap-y-6")},m(a,s){O(a,t,s);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(t,null);n=!0},p(a,s){if(s&1){r=Ie(Je.sortBy(Object.entries(a[0].charts),["0"]));let f;for(f=0;f<r.length;f+=1){const c=Zh(a,r,f);i[f]?(i[f].p(c,s),E(i[f],1)):(i[f]=nd(c),i[f].c(),E(i[f],1),i[f].m(t,null))}for(Ee(),f=r.length;f<i.length;f+=1)o(f);Ce()}},i(a){if(!n){for(let s=0;s<r.length;s+=1)E(i[s]);n=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)I(i[s]);n=!1},d(a){a&&T(t),At(i,a)}}}function ed(e){let t,n,r;return n=new xM({props:{metric:e[8],data:e[2]}}),{c(){t=re("div"),W(n.$$.fragment),this.h()},l(i){t=ie(i,"DIV",{class:!0});var o=oe(t);q(n.$$.fragment,o),o.forEach(T),this.h()},h(){Q(t,"class","col-span-1 flex flex-col gap-y-4")},m(i,o){O(i,t,o),V(n,t,null),r=!0},p(i,o){const a={};o&1&&(a.metric=i[8]),o&1&&(a.data=i[2]),n.$set(a)},i(i){r||(E(n.$$.fragment,i),r=!0)},o(i){I(n.$$.fragment,i),r=!1},d(i){i&&T(t),H(n)}}}function td(e){let t,n,r,i;return n=new bM({props:{plot:e[5],data:e[2]}}),{c(){t=re("div"),W(n.$$.fragment),r=ee(),this.h()},l(o){t=ie(o,"DIV",{class:!0});var a=oe(t);q(n.$$.fragment,a),r=te(a),a.forEach(T),this.h()},h(){Q(t,"class","col-span-1 flex flex-col gap-y-4")},m(o,a){O(o,t,a),V(n,t,null),X(t,r),i=!0},p(o,a){const s={};a&1&&(s.plot=o[5]),a&1&&(s.data=o[2]),n.$set(s)},i(o){i||(E(n.$$.fragment,o),i=!0)},o(o){I(n.$$.fragment,o),i=!1},d(o){o&&T(t),H(n)}}}function nd(e){let t,n,r,i=e[1][0]+"",o,a,s,f,c,l,h=Ie(e[1][1]?.metrics||[]),u=[];for(let b=0;b<h.length;b+=1)u[b]=ed(Jh(e,h,b));const d=b=>I(u[b],1,1,()=>{u[b]=null});let m=Ie(e[1][1]?.plots||[]),p=[];for(let b=0;b<m.length;b+=1)p[b]=td(Qh(e,m,b));const g=b=>I(p[b],1,1,()=>{p[b]=null});return{c(){t=re("div"),n=re("div"),r=re("h2"),o=se(i),a=ee(),s=re("div");for(let b=0;b<u.length;b+=1)u[b].c();f=ee();for(let b=0;b<p.length;b+=1)p[b].c();c=ee(),this.h()},l(b){t=ie(b,"DIV",{class:!0});var _=oe(t);n=ie(_,"DIV",{class:!0});var w=oe(n);r=ie(w,"H2",{class:!0});var y=oe(r);o=fe(y,i),y.forEach(T),a=te(w),s=ie(w,"DIV",{class:!0});var v=oe(s);for(let $=0;$<u.length;$+=1)u[$].l(v);f=te(v);for(let $=0;$<p.length;$+=1)p[$].l(v);v.forEach(T),w.forEach(T),c=te(_),_.forEach(T),this.h()},h(){Q(r,"class","text-2xl font-bold"),Q(s,"class","grid w-full grid-cols-2 gap-4"),Q(n,"class","flex flex-col justify-center gap-y-4"),Q(t,"class","w-full")},m(b,_){O(b,t,_),X(t,n),X(n,r),X(r,o),X(n,a),X(n,s);for(let w=0;w<u.length;w+=1)u[w]&&u[w].m(s,null);X(s,f);for(let w=0;w<p.length;w+=1)p[w]&&p[w].m(s,null);X(t,c),l=!0},p(b,_){if((!l||_&1)&&i!==(i=b[1][0]+"")&&ke(o,i),_&1){h=Ie(b[1][1]?.metrics||[]);let w;for(w=0;w<h.length;w+=1){const y=Jh(b,h,w);u[w]?(u[w].p(y,_),E(u[w],1)):(u[w]=ed(y),u[w].c(),E(u[w],1),u[w].m(s,f))}for(Ee(),w=h.length;w<u.length;w+=1)d(w);Ce()}if(_&1){m=Ie(b[1][1]?.plots||[]);let w;for(w=0;w<m.length;w+=1){const y=Qh(b,m,w);p[w]?(p[w].p(y,_),E(p[w],1)):(p[w]=td(y),p[w].c(),E(p[w],1),p[w].m(s,null))}for(Ee(),w=m.length;w<p.length;w+=1)g(w);Ce()}},i(b){if(!l){for(let _=0;_<h.length;_+=1)E(u[_]);for(let _=0;_<m.length;_+=1)E(p[_]);l=!0}},o(b){u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)I(u[_]);p=p.filter(Boolean);for(let _=0;_<p.length;_+=1)I(p[_]);l=!1},d(b){b&&T(t),At(u,b),At(p,b)}}}function SM(e){let t,n,r,i;const o=[kM,MM],a=[];function s(f,c){return f[0]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=$e()},l(f){n.l(f),r=$e()},m(f,c){a[t].m(f,c),O(f,r,c),i=!0},p(f,[c]){let l=t;t=s(f),t===l?a[t].p(f,c):(Ee(),I(a[l],1,1,()=>{a[l]=null}),Ce(),n=a[t],n?n.p(f,c):(n=a[t]=o[t](f),n.c()),E(n,1),n.m(r.parentNode,r))},i(f){i||(E(n),i=!0)},o(f){I(n),i=!1},d(f){f&&T(r),a[t].d(f)}}}function TM(e,t,n){let{chartData:r}=t;return e.$$set=i=>{"chartData"in i&&n(0,r=i.chartData)},[r]}class EM extends ht{constructor(t){super(),dt(this,t,TM,SM,ut,{chartData:0})}}function CM(e,t){return Je.pickBy(e,n=>n.deployer.network.chainId===t)}function rd(e,t,n){const r=e.slice();return r[8]=t[n][0],r[9]=t[n][1],r}function AM(e){let t;return{c(){t=se("Found no deployment, please add deployments to your order's configurations to debug it")},l(n){t=fe(n,"Found no deployment, please add deployments to your order's configurations to debug it")},m(n,r){O(n,t,r)},p:De,i:De,o:De,d(n){n&&T(t)}}}function NM(e){let t,n;return t=new lc({props:{divClass:"rounded-lg overflow-hidden dark:border-none border overflow-x-scroll",$$slots:{default:[BM]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i&4102&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function IM(e){let t;return{c(){t=se("Network")},l(n){t=fe(n,"Network")},m(n,r){O(n,t,r)},d(n){n&&T(t)}}}function LM(e){let t;return{c(){t=se("Block Height")},l(n){t=fe(n,"Block Height")},m(n,r){O(n,t,r)},d(n){n&&T(t)}}}function DM(e){let t,n,r,i;return t=new zt({props:{$$slots:{default:[IM]},$$scope:{ctx:e}}}),r=new zt({props:{$$slots:{default:[LM]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment),n=ee(),W(r.$$.fragment)},l(o){q(t.$$.fragment,o),n=te(o),q(r.$$.fragment,o)},m(o,a){V(t,o,a),O(o,n,a),V(r,o,a),i=!0},p(o,a){const s={};a&4096&&(s.$$scope={dirty:a,ctx:o}),t.$set(s);const f={};a&4096&&(f.$$scope={dirty:a,ctx:o}),r.$set(f)},i(o){i||(E(t.$$.fragment,o),E(r.$$.fragment,o),i=!0)},o(o){I(t.$$.fragment,o),I(r.$$.fragment,o),i=!1},d(o){o&&T(n),H(t,o),H(r,o)}}}function RM(e){let t=e[9]+"",n;return{c(){n=se(t)},l(r){n=fe(r,t)},m(r,i){O(r,n,i)},p(r,i){i&4&&t!==(t=r[9]+"")&&ke(n,t)},d(r){r&&T(n)}}}function FM(e){let t,n;function r(...i){return e[5](e[8],...i)}return t=new Cd({props:{type:"number",size:"sm",class:"self-center",placeholder:"Enter Block Height",value:e[1][Number(e[8])],"data-testid":`chain-block-${e[8]}`}}),t.$on("input",r),{c(){W(t.$$.fragment)},l(i){q(t.$$.fragment,i)},m(i,o){V(t,i,o),n=!0},p(i,o){e=i;const a={};o&6&&(a.value=e[1][Number(e[8])]),o&4&&(a["data-testid"]=`chain-block-${e[8]}`),t.$set(a)},i(i){n||(E(t.$$.fragment,i),n=!0)},o(i){I(t.$$.fragment,i),n=!1},d(i){H(t,i)}}}function OM(e){let t,n,r,i,o;return t=new ft({props:{"data-testid":`network-name-${e[8]}`,$$slots:{default:[RM]},$$scope:{ctx:e}}}),r=new ft({props:{$$slots:{default:[FM]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment),n=ee(),W(r.$$.fragment),i=ee()},l(a){q(t.$$.fragment,a),n=te(a),q(r.$$.fragment,a),i=te(a)},m(a,s){V(t,a,s),O(a,n,s),V(r,a,s),O(a,i,s),o=!0},p(a,s){const f={};s&4&&(f["data-testid"]=`network-name-${a[8]}`),s&4100&&(f.$$scope={dirty:s,ctx:a}),t.$set(f);const c={};s&4102&&(c.$$scope={dirty:s,ctx:a}),r.$set(c)},i(a){o||(E(t.$$.fragment,a),E(r.$$.fragment,a),o=!0)},o(a){I(t.$$.fragment,a),I(r.$$.fragment,a),o=!1},d(a){a&&(T(n),T(i)),H(t,a),H(r,a)}}}function id(e){let t,n;return t=new va({props:{$$slots:{default:[OM]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i&4102&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function PM(e){let t,n,r=Ie(Object.entries(e[2]??{}).sort(e[4])),i=[];for(let a=0;a<r.length;a+=1)i[a]=id(rd(e,r,a));const o=a=>I(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=$e()},l(a){for(let s=0;s<i.length;s+=1)i[s].l(a);t=$e()},m(a,s){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(a,s);O(a,t,s),n=!0},p(a,s){if(s&6){r=Ie(Object.entries(a[2]??{}).sort(a[4]));let f;for(f=0;f<r.length;f+=1){const c=rd(a,r,f);i[f]?(i[f].p(c,s),E(i[f],1)):(i[f]=id(c),i[f].c(),E(i[f],1),i[f].m(t.parentNode,t))}for(Ee(),f=r.length;f<i.length;f+=1)o(f);Ce()}},i(a){if(!n){for(let s=0;s<r.length;s+=1)E(i[s]);n=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)I(i[s]);n=!1},d(a){a&&T(t),At(i,a)}}}function BM(e){let t,n,r,i;return t=new uc({props:{$$slots:{default:[DM]},$$scope:{ctx:e}}}),r=new hc({props:{$$slots:{default:[PM]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment),n=ee(),W(r.$$.fragment)},l(o){q(t.$$.fragment,o),n=te(o),q(r.$$.fragment,o)},m(o,a){V(t,o,a),O(o,n,a),V(r,o,a),i=!0},p(o,a){const s={};a&4096&&(s.$$scope={dirty:a,ctx:o}),t.$set(s);const f={};a&4102&&(f.$$scope={dirty:a,ctx:o}),r.$set(f)},i(o){i||(E(t.$$.fragment,o),E(r.$$.fragment,o),i=!0)},o(o){I(t.$$.fragment,o),I(r.$$.fragment,o),i=!1},d(o){o&&T(n),H(t,o),H(r,o)}}}function zM(e){let t,n,r,i;const o=[NM,AM],a=[];function s(f,c){return f[2]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=$e()},l(f){n.l(f),r=$e()},m(f,c){a[t].m(f,c),O(f,r,c),i=!0},p(f,c){let l=t;t=s(f),t===l?a[t].p(f,c):(Ee(),I(a[l],1,1,()=>{a[l]=null}),Ce(),n=a[t],n?n.p(f,c):(n=a[t]=o[t](f),n.c()),E(n,1),n.m(r.parentNode,r))},i(f){i||(E(n),i=!0)},o(f){I(n),i=!1},d(f){f&&T(r),a[t].d(f)}}}function UM(e){let t,n,r;function i(a){e[6](a)}let o={title:"Debug Block Height",outsideclose:!0,size:"sm",backdropClass:"fixed inset-0 z-40 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 z-[1000] backdrop-class-id",dialogClass:"fixed top-0 start-0 end-0 h-modal md:inset-0 md:h-full z-50 w-full p-4 flex z-[1000]",$$slots:{default:[zM]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.open=e[0]),t=new T_({props:o}),st.push(()=>Mt(t,"open",i)),t.$on("close",e[7]),{c(){W(t.$$.fragment)},l(a){q(t.$$.fragment,a)},m(a,s){V(t,a,s),r=!0},p(a,[s]){const f={};s&4102&&(f.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,f.open=a[0],xt(()=>n=!1)),t.$set(f)},i(a){r||(E(t.$$.fragment,a),r=!0)},o(a){I(t.$$.fragment,a),r=!1},d(a){H(t,a)}}}function WM(e,t,n){let{open:r=!1}=t,{networks:i=void 0}=t,{blockNumbers:o={}}=t,{onClose:a}=t;const s=(h,u)=>Number(h[0])>Number(u[0])?1:-1,f=(h,u)=>{if(u.currentTarget instanceof HTMLInputElement){const d=parseInt(u.currentTarget.value,10);n(1,o[Number(h)]=Number.isNaN(d)?void 0:d,o)}};function c(h){r=h,n(0,r)}const l=()=>{a(),n(0,r=!1)};return e.$$set=h=>{"open"in h&&n(0,r=h.open),"networks"in h&&n(2,i=h.networks),"blockNumbers"in h&&n(1,o=h.blockNumbers),"onClose"in h&&n(3,a=h.onClose)},[r,o,i,a,s,f,c,l]}class qM extends ht{constructor(t){super(),dt(this,t,WM,UM,ut,{open:0,networks:2,blockNumbers:1,onClose:3})}}function od(e,t,n){const r=e.slice();return r[22]=t[n][0],r[23]=t[n][1],r}function ad(e,t,n){const r=e.slice();return r[26]=t[n],r}function VM(e){const t=e.slice(),n=t[33][t[33].length-2];t[34]=n;const r=t[33][t[33].length-1];t[35]=r;const i=BigInt(t[35]?.[1]?.[1]??0n);return t[36]=i,t}function HM(e){const t=e.slice(),n=t[26].result;t[29]=n;const r=_M(t[29])[0];t[30]=r;const i=Object.entries(t[30]);t[31]=i;const o=/^\d+\.\d+$/;t[32]=o;const a=t[31].filter(function(...f){return e[14](t[32],...f)});return t[33]=a,t}function sd(e){let t,n=e[2].error+"",r;return{c(){t=re("div"),r=se(n),this.h()},l(i){t=ie(i,"DIV",{class:!0});var o=oe(t);r=fe(o,n),o.forEach(T),this.h()},h(){Q(t,"class","text-red-500")},m(i,o){O(i,t,o),X(t,r)},p(i,o){o[0]&4&&n!==(n=i[2].error+"")&&ke(r,n)},d(i){i&&T(t)}}}function YM(e){let t,n;return t=new g_({}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function jM(e){let t,n;return t=new b_({}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function fd(e){let t,n,r=Ie(Object.entries(e[5]).sort(ud)),i=[];for(let a=0;a<r.length;a+=1)i[a]=ld(od(e,r,a));const o=a=>I(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=$e()},l(a){for(let s=0;s<i.length;s+=1)i[s].l(a);t=$e()},m(a,s){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(a,s);O(a,t,s),n=!0},p(a,s){if(s[0]&32){r=Ie(Object.entries(a[5]).sort(ud));let f;for(f=0;f<r.length;f+=1){const c=od(a,r,f);i[f]?(i[f].p(c,s),E(i[f],1)):(i[f]=ld(c),i[f].c(),E(i[f],1),i[f].m(t.parentNode,t))}for(Ee(),f=r.length;f<i.length;f+=1)o(f);Ce()}},i(a){if(!n){for(let s=0;s<r.length;s+=1)E(i[s]);n=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)I(i[s]);n=!1},d(a){a&&T(t),At(i,a)}}}function GM(e){let t;return{c(){t=se("Order")},l(n){t=fe(n,"Order")},m(n,r){O(n,t,r)},d(n){n&&T(t)}}}function XM(e){let t;return{c(){t=se("Scenario")},l(n){t=fe(n,"Scenario")},m(n,r){O(n,t,r)},d(n){n&&T(t)}}}function KM(e){let t;return{c(){t=se("Pair")},l(n){t=fe(n,"Pair")},m(n,r){O(n,t,r)},d(n){n&&T(t)}}}function ZM(e){let t;return{c(){t=se("Maximum Output")},l(n){t=fe(n,"Maximum Output")},m(n,r){O(n,t,r)},d(n){n&&T(t)}}}function QM(e){let t;return{c(){t=se("Ratio")},l(n){t=fe(n,"Ratio")},m(n,r){O(n,t,r)},d(n){n&&T(t)}}}function JM(e){let t;return{c(){t=se("Block Height")},l(n){t=fe(n,"Block Height")},m(n,r){O(n,t,r)},d(n){n&&T(t)}}}function ek(e){let t,n,r,i,o,a,s,f,c,l,h,u,d,m;return t=new zt({props:{$$slots:{default:[GM]},$$scope:{ctx:e}}}),r=new zt({props:{$$slots:{default:[XM]},$$scope:{ctx:e}}}),o=new zt({props:{$$slots:{default:[KM]},$$scope:{ctx:e}}}),s=new zt({props:{$$slots:{default:[ZM]},$$scope:{ctx:e}}}),c=new zt({props:{$$slots:{default:[QM]},$$scope:{ctx:e}}}),h=new zt({props:{$$slots:{default:[JM]},$$scope:{ctx:e}}}),d=new zt({props:{class:"w-[50px]"}}),{c(){W(t.$$.fragment),n=ee(),W(r.$$.fragment),i=ee(),W(o.$$.fragment),a=ee(),W(s.$$.fragment),f=ee(),W(c.$$.fragment),l=ee(),W(h.$$.fragment),u=ee(),W(d.$$.fragment)},l(p){q(t.$$.fragment,p),n=te(p),q(r.$$.fragment,p),i=te(p),q(o.$$.fragment,p),a=te(p),q(s.$$.fragment,p),f=te(p),q(c.$$.fragment,p),l=te(p),q(h.$$.fragment,p),u=te(p),q(d.$$.fragment,p)},m(p,g){V(t,p,g),O(p,n,g),V(r,p,g),O(p,i,g),V(o,p,g),O(p,a,g),V(s,p,g),O(p,f,g),V(c,p,g),O(p,l,g),V(h,p,g),O(p,u,g),V(d,p,g),m=!0},p(p,g){const b={};g[1]&64&&(b.$$scope={dirty:g,ctx:p}),t.$set(b);const _={};g[1]&64&&(_.$$scope={dirty:g,ctx:p}),r.$set(_);const w={};g[1]&64&&(w.$$scope={dirty:g,ctx:p}),o.$set(w);const y={};g[1]&64&&(y.$$scope={dirty:g,ctx:p}),s.$set(y);const v={};g[1]&64&&(v.$$scope={dirty:g,ctx:p}),c.$set(v);const $={};g[1]&64&&($.$$scope={dirty:g,ctx:p}),h.$set($)},i(p){m||(E(t.$$.fragment,p),E(r.$$.fragment,p),E(o.$$.fragment,p),E(s.$$.fragment,p),E(c.$$.fragment,p),E(h.$$.fragment,p),E(d.$$.fragment,p),m=!0)},o(p){I(t.$$.fragment,p),I(r.$$.fragment,p),I(o.$$.fragment,p),I(s.$$.fragment,p),I(c.$$.fragment,p),I(h.$$.fragment,p),I(d.$$.fragment,p),m=!1},d(p){p&&(T(n),T(i),T(a),T(f),T(l),T(u)),H(t,p),H(r,p),H(o,p),H(s,p),H(c,p),H(h,p),H(d,p)}}}function tk(e){let t=e[26].order+"",n;return{c(){n=se(t)},l(r){n=fe(r,t)},m(r,i){O(r,n,i)},p(r,i){i[0]&32&&t!==(t=r[26].order+"")&&ke(n,t)},d(r){r&&T(n)}}}function nk(e){let t=e[26].scenario+"",n;return{c(){n=se(t)},l(r){n=fe(r,t)},m(r,i){O(r,n,i)},p(r,i){i[0]&32&&t!==(t=r[26].scenario+"")&&ke(n,t)},d(r){r&&T(n)}}}function rk(e){let t=e[26].pair+"",n;return{c(){n=se(t)},l(r){n=fe(r,t)},m(r,i){O(r,n,i)},p(r,i){i[0]&32&&t!==(t=r[26].pair+"")&&ke(n,t)},d(r){r&&T(n)}}}function ik(e){let t,n;return t=new ft({props:{colspan:"5",class:"text-red-500",$$slots:{default:[ak]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i[0]&32|i[1]&64&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function ok(e){let t,n,r,i,o,a,s;const f=[fk,sk],c=[];function l(u,d){return u[33].length<2?0:1}function h(u,d){return d===1?VM(u):u}return t=l(e),n=c[t]=f[t](h(e,t)),i=new ft({props:{$$slots:{default:[hk]},$$scope:{ctx:e}}}),a=new ft({props:{$$slots:{default:[dk]},$$scope:{ctx:e}}}),{c(){n.c(),r=ee(),W(i.$$.fragment),o=ee(),W(a.$$.fragment)},l(u){n.l(u),r=te(u),q(i.$$.fragment,u),o=te(u),q(a.$$.fragment,u)},m(u,d){c[t].m(u,d),O(u,r,d),V(i,u,d),O(u,o,d),V(a,u,d),s=!0},p(u,d){let m=t;t=l(u),t===m?c[t].p(h(u,t),d):(Ee(),I(c[m],1,1,()=>{c[m]=null}),Ce(),n=c[t],n?n.p(h(u,t),d):(n=c[t]=f[t](h(u,t)),n.c()),E(n,1),n.m(r.parentNode,r));const p={};d[0]&32|d[1]&64&&(p.$$scope={dirty:d,ctx:u}),i.$set(p);const g={};d[0]&32|d[1]&64&&(g.$$scope={dirty:d,ctx:u}),a.$set(g)},i(u){s||(E(n),E(i.$$.fragment,u),E(a.$$.fragment,u),s=!0)},o(u){I(n),I(i.$$.fragment,u),I(a.$$.fragment,u),s=!1},d(u){u&&(T(r),T(o)),c[t].d(u),H(i,u),H(a,u)}}}function ak(e){let t=e[26].error+"",n;return{c(){n=se(t)},l(r){n=fe(r,t)},m(r,i){O(r,n,i)},p(r,i){i[0]&32&&t!==(t=r[26].error+"")&&ke(n,t)},d(r){r&&T(n)}}}function sk(e){let t,n,r,i;return t=new ft({props:{$$slots:{default:[ck]},$$scope:{ctx:e}}}),r=new ft({props:{$$slots:{default:[lk]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment),n=ee(),W(r.$$.fragment)},l(o){q(t.$$.fragment,o),n=te(o),q(r.$$.fragment,o)},m(o,a){V(t,o,a),O(o,n,a),V(r,o,a),i=!0},p(o,a){const s={};a[0]&32|a[1]&64&&(s.$$scope={dirty:a,ctx:o}),t.$set(s);const f={};a[0]&32|a[1]&64&&(f.$$scope={dirty:a,ctx:o}),r.$set(f)},i(o){i||(E(t.$$.fragment,o),E(r.$$.fragment,o),i=!0)},o(o){I(t.$$.fragment,o),I(r.$$.fragment,o),i=!1},d(o){o&&T(n),H(t,o),H(r,o)}}}function fk(e){let t,n;return t=new ft({props:{colspan:"2",class:"text-red-500",$$slots:{default:[uk]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i[1]&64&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function ck(e){let t=e[34][1][0]+"",n;return{c(){n=se(t)},l(r){n=fe(r,t)},m(r,i){O(r,n,i)},p(r,i){i[0]&32&&t!==(t=r[34][1][0]+"")&&ke(n,t)},d(r){r&&T(n)}}}function lk(e){let t=e[35][1][0]+"",n,r,i,o,a=(e[36]===0n?"0":Ks(10n**36n/e[36],18))+"",s,f;return{c(){n=se(t),r=ee(),i=re("span"),o=se("("),s=se(a),f=se(")"),this.h()},l(c){n=fe(c,t),r=te(c),i=ie(c,"SPAN",{class:!0});var l=oe(i);o=fe(l,"("),s=fe(l,a),f=fe(l,")"),l.forEach(T),this.h()},h(){Q(i,"class","text-gray-400")},m(c,l){O(c,n,l),O(c,r,l),O(c,i,l),X(i,o),X(i,s),X(i,f)},p(c,l){l[0]&32&&t!==(t=c[35][1][0]+"")&&ke(n,t),l[0]&32&&a!==(a=(c[36]===0n?"0":Ks(10n**36n/c[36],18))+"")&&ke(s,a)},d(c){c&&(T(n),T(r),T(i))}}}function uk(e){let t;return{c(){t=se("Missing stack data for max output and ratio")},l(n){t=fe(n,"Missing stack data for max output and ratio")},m(n,r){O(n,t,r)},d(n){n&&T(t)}}}function hk(e){let t=e[23].blockNumber+"",n;return{c(){n=se(t)},l(r){n=fe(r,t)},m(r,i){O(r,n,i)},p(r,i){i[0]&32&&t!==(t=r[23].blockNumber+"")&&ke(n,t)},d(r){r&&T(n)}}}function dk(e){let t,n,r,i,o;n=new __({props:{size:"sm",color:"grey"}});function a(){return e[15](e[26],e[29])}return{c(){t=re("button"),W(n.$$.fragment)},l(s){t=ie(s,"BUTTON",{});var f=oe(t);q(n.$$.fragment,f),f.forEach(T)},m(s,f){O(s,t,f),V(n,t,null),r=!0,i||(o=qe(t,"click",a),i=!0)},p(s,f){e=s},i(s){r||(E(n.$$.fragment,s),r=!0)},o(s){I(n.$$.fragment,s),r=!1},d(s){s&&T(t),H(n),i=!1,o()}}}function pk(e){let t,n,r,i,o,a,s,f,c,l;t=new ft({props:{$$slots:{default:[tk]},$$scope:{ctx:e}}}),r=new ft({props:{$$slots:{default:[nk]},$$scope:{ctx:e}}}),o=new ft({props:{$$slots:{default:[rk]},$$scope:{ctx:e}}});const h=[ok,ik],u=[];function d(p,g){return p[26].result?0:1}function m(p,g){return g===0?HM(p):p}return s=d(e),f=u[s]=h[s](m(e,s)),{c(){W(t.$$.fragment),n=ee(),W(r.$$.fragment),i=ee(),W(o.$$.fragment),a=ee(),f.c(),c=ee()},l(p){q(t.$$.fragment,p),n=te(p),q(r.$$.fragment,p),i=te(p),q(o.$$.fragment,p),a=te(p),f.l(p),c=te(p)},m(p,g){V(t,p,g),O(p,n,g),V(r,p,g),O(p,i,g),V(o,p,g),O(p,a,g),u[s].m(p,g),O(p,c,g),l=!0},p(p,g){const b={};g[0]&32|g[1]&64&&(b.$$scope={dirty:g,ctx:p}),t.$set(b);const _={};g[0]&32|g[1]&64&&(_.$$scope={dirty:g,ctx:p}),r.$set(_);const w={};g[0]&32|g[1]&64&&(w.$$scope={dirty:g,ctx:p}),o.$set(w);let y=s;s=d(p),s===y?u[s].p(m(p,s),g):(Ee(),I(u[y],1,1,()=>{u[y]=null}),Ce(),f=u[s],f?f.p(m(p,s),g):(f=u[s]=h[s](m(p,s)),f.c()),E(f,1),f.m(c.parentNode,c))},i(p){l||(E(t.$$.fragment,p),E(r.$$.fragment,p),E(o.$$.fragment,p),E(f),l=!0)},o(p){I(t.$$.fragment,p),I(r.$$.fragment,p),I(o.$$.fragment,p),I(f),l=!1},d(p){p&&(T(n),T(i),T(a),T(c)),H(t,p),H(r,p),H(o,p),u[s].d(p)}}}function cd(e){let t,n;return t=new va({props:{$$slots:{default:[pk]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i[0]&32|i[1]&64&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function mk(e){let t,n,r=Ie(e[23].pairsData),i=[];for(let a=0;a<r.length;a+=1)i[a]=cd(ad(e,r,a));const o=a=>I(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=$e()},l(a){for(let s=0;s<i.length;s+=1)i[s].l(a);t=$e()},m(a,s){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(a,s);O(a,t,s),n=!0},p(a,s){if(s[0]&32){r=Ie(a[23].pairsData);let f;for(f=0;f<r.length;f+=1){const c=ad(a,r,f);i[f]?(i[f].p(c,s),E(i[f],1)):(i[f]=cd(c),i[f].c(),E(i[f],1),i[f].m(t.parentNode,t))}for(Ee(),f=r.length;f<i.length;f+=1)o(f);Ce()}},i(a){if(!n){for(let s=0;s<r.length;s+=1)E(i[s]);n=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)I(i[s]);n=!1},d(a){a&&T(t),At(i,a)}}}function gk(e){let t,n,r,i,o;return t=new uc({props:{$$slots:{default:[ek]},$$scope:{ctx:e}}}),r=new hc({props:{$$slots:{default:[mk]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment),n=ee(),W(r.$$.fragment),i=ee()},l(a){q(t.$$.fragment,a),n=te(a),q(r.$$.fragment,a),i=te(a)},m(a,s){V(t,a,s),O(a,n,s),V(r,a,s),O(a,i,s),o=!0},p(a,s){const f={};s[1]&64&&(f.$$scope={dirty:s,ctx:a}),t.$set(f);const c={};s[0]&32|s[1]&64&&(c.$$scope={dirty:s,ctx:a}),r.$set(c)},i(a){o||(E(t.$$.fragment,a),E(r.$$.fragment,a),o=!0)},o(a){I(t.$$.fragment,a),I(r.$$.fragment,a),o=!1},d(a){a&&(T(n),T(i)),H(t,a),H(r,a)}}}function ld(e){let t,n,r,i=e[22]+"",o,a,s,f;return s=new lc({props:{divClass:"rounded-lg overflow-hidden dark:border-none border overflow-x-scroll",$$slots:{default:[gk]},$$scope:{ctx:e}}}),{c(){t=re("h2"),n=se("Deployment: "),r=re("strong"),o=se(i),a=ee(),W(s.$$.fragment),this.h()},l(c){t=ie(c,"H2",{class:!0});var l=oe(t);n=fe(l,"Deployment: "),r=ie(l,"STRONG",{});var h=oe(r);o=fe(h,i),h.forEach(T),l.forEach(T),a=te(c),q(s.$$.fragment,c),this.h()},h(){Q(t,"class","text-md my-4")},m(c,l){O(c,t,l),X(t,n),X(t,r),X(r,o),O(c,a,l),V(s,c,l),f=!0},p(c,l){(!f||l[0]&32)&&i!==(i=c[22]+"")&&ke(o,i);const h={};l[0]&32|l[1]&64&&(h.$$scope={dirty:l,ctx:c}),s.$set(h)},i(c){f||(E(s.$$.fragment,c),f=!0)},o(c){I(s.$$.fragment,c),f=!1},d(c){c&&(T(t),T(a)),H(s,c)}}}function bk(e){let t,n,r,i,o,a,s,f="Change block heights",c,l,h,u,d,m,p,g,b,_,w,y,v,$,M,k,S,A=e[2].isError&&sd(e);l=new G_({}),u=new n_({props:{"data-testid":"refreshButton",class:"h-8 w-5 cursor-pointer text-gray-400 dark:text-gray-400",spin:e[2].isFetching}}),u.$on("click",e[8]);const x=[jM,YM],B=[];function R(N,Y){return N[1]?0:1}p=R(e),g=B[p]=x[p](e);let L=!e[2].error&&e[5]&&fd(e);function C(N){e[16](N)}function U(N){e[17](N)}function z(N){e[18](N)}let ne={onClose:e[8]};return e[3]!==void 0&&(ne.open=e[3]),e[4]!==void 0&&(ne.blockNumbers=e[4]),e[0]!==void 0&&(ne.networks=e[0]),w=new qM({props:ne}),st.push(()=>Mt(w,"open",C)),st.push(()=>Mt(w,"blockNumbers",U)),st.push(()=>Mt(w,"networks",z)),{c(){t=re("div"),n=re("div"),A&&A.c(),r=ee(),i=re("span"),o=ee(),a=re("button"),s=re("span"),s.textContent=f,c=ee(),W(l.$$.fragment),h=ee(),W(u.$$.fragment),d=ee(),m=re("button"),g.c(),b=ee(),L&&L.c(),_=ee(),W(w.$$.fragment),this.h()},l(N){t=ie(N,"DIV",{class:!0});var Y=oe(t);n=ie(Y,"DIV",{class:!0});var G=oe(n);A&&A.l(G),r=te(G),i=ie(G,"SPAN",{}),oe(i).forEach(T),o=te(G),a=ie(G,"BUTTON",{type:!0,class:!0});var j=oe(a);s=ie(j,"SPAN",{class:!0,"data-svelte-h":!0}),jr(s)!=="svelte-1fyasmx"&&(s.textContent=f),c=te(j),q(l.$$.fragment,j),j.forEach(T),h=te(G),q(u.$$.fragment,G),d=te(G),m=ie(G,"BUTTON",{class:!0});var J=oe(m);g.l(J),J.forEach(T),G.forEach(T),Y.forEach(T),b=te(N),L&&L.l(N),_=te(N),q(w.$$.fragment,N),this.h()},h(){Q(s,"class","mr-1"),Q(a,"type","button"),Q(a,"class","mr-2 flex items-center text-sm text-gray-500 hover:text-gray-700 focus:outline-none"),Q(m,"class","ml-2 h-8 w-3 cursor-pointer text-gray-400 dark:text-gray-400"),Q(n,"class","flex items-center gap-x-1"),Q(t,"class","flex items-center justify-end")},m(N,Y){O(N,t,Y),X(t,n),A&&A.m(n,null),X(n,r),X(n,i),X(n,o),X(n,a),X(a,s),X(a,c),V(l,a,null),X(n,h),V(u,n,null),X(n,d),X(n,m),B[p].m(m,null),O(N,b,Y),L&&L.m(N,Y),O(N,_,Y),V(w,N,Y),M=!0,k||(S=[qe(a,"click",e[13]),qe(m,"click",e[9])],k=!0)},p(N,Y){N[2].isError?A?A.p(N,Y):(A=sd(N),A.c(),A.m(n,r)):A&&(A.d(1),A=null);const G={};Y[0]&4&&(G.spin=N[2].isFetching),u.$set(G);let j=p;p=R(N),p!==j&&(Ee(),I(B[j],1,1,()=>{B[j]=null}),Ce(),g=B[p],g||(g=B[p]=x[p](N),g.c()),E(g,1),g.m(m,null)),!N[2].error&&N[5]?L?(L.p(N,Y),Y[0]&36&&E(L,1)):(L=fd(N),L.c(),E(L,1),L.m(_.parentNode,_)):L&&(Ee(),I(L,1,1,()=>{L=null}),Ce());const J={};!y&&Y[0]&8&&(y=!0,J.open=N[3],xt(()=>y=!1)),!v&&Y[0]&16&&(v=!0,J.blockNumbers=N[4],xt(()=>v=!1)),!$&&Y[0]&1&&($=!0,J.networks=N[0],xt(()=>$=!1)),w.$set(J)},i(N){M||(E(l.$$.fragment,N),E(u.$$.fragment,N),E(g),E(L),E(w.$$.fragment,N),M=!0)},o(N){I(l.$$.fragment,N),I(u.$$.fragment,N),I(g),I(L),I(w.$$.fragment,N),M=!1},d(N){N&&(T(t),T(b),T(_)),A&&A.d(),H(l),H(u),B[p].d(),L&&L.d(N),H(w,N),k=!1,cc(S)}}}const ud=(e,t)=>e[1].chainId>t[1].chainId?1:-1;function _k(e,t,n){let r,i,o,a=De,s=()=>(a(),a=Ll(i,R=>n(2,o=R)),i),f,c,l,h=De,u=()=>(h(),h=Ll(r,R=>n(12,l=R)),r);gt(e,Ld,R=>n(10,f=R)),gt(e,Oo,R=>n(11,c=R)),e.$$.on_destroy.push(()=>a()),e.$$.on_destroy.push(()=>h());let d=!1,m=!1,p={},{networks:g}=t,b;const _=async()=>{const R=await u2(l[0],f,d?void 0:p);for(const L in R.dataMap)n(4,p[R.dataMap[L].chainId]=R.dataMap[L].blockNumber,p);return R},w=async(R,L)=>{r.set([R,L])},{debouncedFn:y}=Eo(w,500),v=()=>{o.refetch()},$=()=>{n(1,d=!d),d&&(n(4,p={}),v())},M=()=>n(3,m=!0),k=(R,[L])=>R.test(L),S=(R,L)=>i_(R.pair,L.data);function A(R){m=R,n(3,m)}function x(R){p=R,n(4,p)}function B(R){g=R,n(0,g)}return e.$$set=R=>{"networks"in R&&n(0,g=R.networks)},e.$$.update=()=>{e.$$.dirty[0]&3072&&u(n(7,r=Nd([c.text,f]))),e.$$.dirty[0]&3072&&y(c.text,f),e.$$.dirty[0]&7170&&s(n(6,i=r_({queryKey:l,queryFn:_,refetchOnWindowFocus:!1,enabled:c.text!==""&&f!=="",refetchInterval:d?o_:!1}))),e.$$.dirty[0]&3076&&(!o.isError&&o.data?n(5,b=o.data.dataMap):(c.text===""||f==="")&&n(5,b=void 0))},[g,d,o,m,p,b,i,r,v,$,f,c,l,M,k,S,A,x,B]}class yk extends ht{constructor(t){super(),dt(this,t,_k,bk,ut,{networks:0},null,[-1,-1])}}function yn(e){return Array.isArray?Array.isArray(e):Ib(e)==="[object Array]"}const wk=1/0;function $k(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-wk?"-0":t}function vk(e){return e==null?"":$k(e)}function Vt(e){return typeof e=="string"}function Ab(e){return typeof e=="number"}function xk(e){return e===!0||e===!1||Mk(e)&&Ib(e)=="[object Boolean]"}function Nb(e){return typeof e=="object"}function Mk(e){return Nb(e)&&e!==null}function ot(e){return e!=null}function Gs(e){return!e.trim().length}function Ib(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const kk="Incorrect 'index' type",Sk=e=>`Invalid value for key ${e}`,Tk=e=>`Pattern length exceeds max of ${e}.`,Ek=e=>`Missing ${e} property in key`,Ck=e=>`Property 'weight' in key '${e}' must be a positive integer`,hd=Object.prototype.hasOwnProperty;class Ak{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let i=Lb(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Lb(e){let t=null,n=null,r=null,i=1,o=null;if(Vt(e)||yn(e))r=e,t=dd(e),n=Jf(e);else{if(!hd.call(e,"name"))throw new Error(Ek("name"));const a=e.name;if(r=a,hd.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(Ck(a));t=dd(a),n=Jf(a),o=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:o}}function dd(e){return yn(e)?e:e.split(".")}function Jf(e){return yn(e)?e.join("."):e}function Nk(e,t){let n=[],r=!1;const i=(o,a,s)=>{if(ot(o))if(!a[s])n.push(o);else{let f=a[s];const c=o[f];if(!ot(c))return;if(s===a.length-1&&(Vt(c)||Ab(c)||xk(c)))n.push(vk(c));else if(yn(c)){r=!0;for(let l=0,h=c.length;l<h;l+=1)i(c[l],a,s+1)}else a.length&&i(c,a,s+1)}};return i(e,Vt(t)?t.split("."):t,0),r?n:n[0]}const Ik={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Lk={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Dk={location:0,threshold:.6,distance:100},Rk={useExtendedSearch:!1,getFn:Nk,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var le={...Lk,...Ik,...Dk,...Rk};const Fk=/[^ ]+/g;function Ok(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(i){const o=i.match(Fk).length;if(n.has(o))return n.get(o);const a=1/Math.pow(o,.5*e),s=parseFloat(Math.round(a*r)/r);return n.set(o,s),s},clear(){n.clear()}}}class kl{constructor({getFn:t=le.getFn,fieldNormWeight:n=le.fieldNormWeight}={}){this.norm=Ok(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Vt(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Vt(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!ot(t)||Gs(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((i,o)=>{let a=i.getFn?i.getFn(t):this.getFn(t,i.path);if(ot(a)){if(yn(a)){let s=[];const f=[{nestedArrIndex:-1,value:a}];for(;f.length;){const{nestedArrIndex:c,value:l}=f.pop();if(ot(l))if(Vt(l)&&!Gs(l)){let h={v:l,i:c,n:this.norm.get(l)};s.push(h)}else yn(l)&&l.forEach((h,u)=>{f.push({nestedArrIndex:u,value:h})})}r.$[o]=s}else if(Vt(a)&&!Gs(a)){let s={v:a,n:this.norm.get(a)};r.$[o]=s}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Db(e,t,{getFn:n=le.getFn,fieldNormWeight:r=le.fieldNormWeight}={}){const i=new kl({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(Lb)),i.setSources(t),i.create(),i}function Pk(e,{getFn:t=le.getFn,fieldNormWeight:n=le.fieldNormWeight}={}){const{keys:r,records:i}=e,o=new kl({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o}function To(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=le.distance,ignoreLocation:o=le.ignoreLocation}={}){const a=t/e.length;if(o)return a;const s=Math.abs(r-n);return i?a+s/i:s?1:a}function Bk(e=[],t=le.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let a=e.length;o<a;o+=1){let s=e[o];s&&r===-1?r=o:!s&&r!==-1&&(i=o-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}const Yn=32;function zk(e,t,n,{location:r=le.location,distance:i=le.distance,threshold:o=le.threshold,findAllMatches:a=le.findAllMatches,minMatchCharLength:s=le.minMatchCharLength,includeMatches:f=le.includeMatches,ignoreLocation:c=le.ignoreLocation}={}){if(t.length>Yn)throw new Error(Tk(Yn));const l=t.length,h=e.length,u=Math.max(0,Math.min(r,h));let d=o,m=u;const p=s>1||f,g=p?Array(h):[];let b;for(;(b=e.indexOf(t,m))>-1;){let M=To(t,{currentLocation:b,expectedLocation:u,distance:i,ignoreLocation:c});if(d=Math.min(M,d),m=b+l,p){let k=0;for(;k<l;)g[b+k]=1,k+=1}}m=-1;let _=[],w=1,y=l+h;const v=1<<l-1;for(let M=0;M<l;M+=1){let k=0,S=y;for(;k<S;)To(t,{errors:M,currentLocation:u+S,expectedLocation:u,distance:i,ignoreLocation:c})<=d?k=S:y=S,S=Math.floor((y-k)/2+k);y=S;let A=Math.max(1,u-S+1),x=a?h:Math.min(u+S,h)+l,B=Array(x+2);B[x+1]=(1<<M)-1;for(let L=x;L>=A;L-=1){let C=L-1,U=n[e.charAt(C)];if(p&&(g[C]=+!!U),B[L]=(B[L+1]<<1|1)&U,M&&(B[L]|=(_[L+1]|_[L])<<1|1|_[L+1]),B[L]&v&&(w=To(t,{errors:M,currentLocation:C,expectedLocation:u,distance:i,ignoreLocation:c}),w<=d)){if(d=w,m=C,m<=u)break;A=Math.max(1,2*u-m)}}if(To(t,{errors:M+1,currentLocation:u,expectedLocation:u,distance:i,ignoreLocation:c})>d)break;_=B}const $={isMatch:m>=0,score:Math.max(.001,w)};if(p){const M=Bk(g,s);M.length?f&&($.indices=M):$.isMatch=!1}return $}function Uk(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}class Rb{constructor(t,{location:n=le.location,threshold:r=le.threshold,distance:i=le.distance,includeMatches:o=le.includeMatches,findAllMatches:a=le.findAllMatches,minMatchCharLength:s=le.minMatchCharLength,isCaseSensitive:f=le.isCaseSensitive,ignoreLocation:c=le.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:a,minMatchCharLength:s,isCaseSensitive:f,ignoreLocation:c},this.pattern=f?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(u,d)=>{this.chunks.push({pattern:u,alphabet:Uk(u),startIndex:d})},h=this.pattern.length;if(h>Yn){let u=0;const d=h%Yn,m=h-d;for(;u<m;)l(this.pattern.substr(u,Yn),u),u+=Yn;if(d){const p=h-Yn;l(this.pattern.substr(p),p)}}else l(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let m={isMatch:!0,score:0};return r&&(m.indices=[[0,t.length-1]]),m}const{location:i,distance:o,threshold:a,findAllMatches:s,minMatchCharLength:f,ignoreLocation:c}=this.options;let l=[],h=0,u=!1;this.chunks.forEach(({pattern:m,alphabet:p,startIndex:g})=>{const{isMatch:b,score:_,indices:w}=zk(t,m,p,{location:i+g,distance:o,threshold:a,findAllMatches:s,minMatchCharLength:f,includeMatches:r,ignoreLocation:c});b&&(u=!0),h+=_,b&&w&&(l=[...l,...w])});let d={isMatch:u,score:u?h/this.chunks.length:1};return u&&r&&(d.indices=l),d}}class Wn{constructor(t){this.pattern=t}static isMultiMatch(t){return pd(t,this.multiRegex)}static isSingleMatch(t){return pd(t,this.singleRegex)}search(){}}function pd(e,t){const n=e.match(t);return n?n[1]:null}class Wk extends Wn{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class qk extends Wn{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Vk extends Wn{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Hk extends Wn{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Yk extends Wn{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class jk extends Wn{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Fb extends Wn{constructor(t,{location:n=le.location,threshold:r=le.threshold,distance:i=le.distance,includeMatches:o=le.includeMatches,findAllMatches:a=le.findAllMatches,minMatchCharLength:s=le.minMatchCharLength,isCaseSensitive:f=le.isCaseSensitive,ignoreLocation:c=le.ignoreLocation}={}){super(t),this._bitapSearch=new Rb(t,{location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:a,minMatchCharLength:s,isCaseSensitive:f,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Ob extends Wn{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const i=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+o,i.push([r,n-1]);const a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}}const ec=[Wk,Ob,Vk,Hk,jk,Yk,qk,Fb],md=ec.length,Gk=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Xk="|";function Kk(e,t={}){return e.split(Xk).map(n=>{let r=n.trim().split(Gk).filter(o=>o&&!!o.trim()),i=[];for(let o=0,a=r.length;o<a;o+=1){const s=r[o];let f=!1,c=-1;for(;!f&&++c<md;){const l=ec[c];let h=l.isMultiMatch(s);h&&(i.push(new l(h,t)),f=!0)}if(!f)for(c=-1;++c<md;){const l=ec[c];let h=l.isSingleMatch(s);if(h){i.push(new l(h,t));break}}}return i})}const Zk=new Set([Fb.type,Ob.type]);class Qk{constructor(t,{isCaseSensitive:n=le.isCaseSensitive,includeMatches:r=le.includeMatches,minMatchCharLength:i=le.minMatchCharLength,ignoreLocation:o=le.ignoreLocation,findAllMatches:a=le.findAllMatches,location:s=le.location,threshold:f=le.threshold,distance:c=le.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:i,findAllMatches:a,ignoreLocation:o,location:s,threshold:f,distance:c},this.pattern=n?t:t.toLowerCase(),this.query=Kk(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let o=0,a=[],s=0;for(let f=0,c=n.length;f<c;f+=1){const l=n[f];a.length=0,o=0;for(let h=0,u=l.length;h<u;h+=1){const d=l[h],{isMatch:m,indices:p,score:g}=d.search(t);if(m){if(o+=1,s+=g,r){const b=d.constructor.type;Zk.has(b)?a=[...a,...p]:a.push(p)}}else{s=0,o=0,a.length=0;break}}if(o){let h={isMatch:!0,score:s/o};return r&&(h.indices=a),h}}return{isMatch:!1,score:1}}}const tc=[];function Jk(...e){tc.push(...e)}function nc(e,t){for(let n=0,r=tc.length;n<r;n+=1){let i=tc[n];if(i.condition(e,t))return new i(e,t)}return new Rb(e,t)}const $a={AND:"$and",OR:"$or"},rc={PATH:"$path",PATTERN:"$val"},ic=e=>!!(e[$a.AND]||e[$a.OR]),eS=e=>!!e[rc.PATH],tS=e=>!yn(e)&&Nb(e)&&!ic(e),gd=e=>({[$a.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Pb(e,t,{auto:n=!0}={}){const r=i=>{let o=Object.keys(i);const a=eS(i);if(!a&&o.length>1&&!ic(i))return r(gd(i));if(tS(i)){const f=a?i[rc.PATH]:o[0],c=a?i[rc.PATTERN]:i[f];if(!Vt(c))throw new Error(Sk(f));const l={keyId:Jf(f),pattern:c};return n&&(l.searcher=nc(c,t)),l}let s={children:[],operator:o[0]};return o.forEach(f=>{const c=i[f];yn(c)&&c.forEach(l=>{s.children.push(r(l))})}),s};return ic(e)||(e=gd(e)),r(e)}function nS(e,{ignoreFieldNorm:t=le.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:o,score:a})=>{const s=i?i.weight:null;r*=Math.pow(a===0&&s?Number.EPSILON:a,(s||1)*(t?1:o))}),n.score=r})}function rS(e,t){const n=e.matches;t.matches=[],ot(n)&&n.forEach(r=>{if(!ot(r.indices)||!r.indices.length)return;const{indices:i,value:o}=r;let a={indices:i,value:o};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),t.matches.push(a)})}function iS(e,t){t.score=e.score}function oS(e,t,{includeMatches:n=le.includeMatches,includeScore:r=le.includeScore}={}){const i=[];return n&&i.push(rS),r&&i.push(iS),e.map(o=>{const{idx:a}=o,s={item:t[a],refIndex:a};return i.length&&i.forEach(f=>{f(o,s)}),s})}class ei{constructor(t,n={},r){this.options={...le,...n},this.options.useExtendedSearch,this._keyStore=new Ak(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof kl))throw new Error(kk);this._myIndex=n||Db(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){ot(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,i-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:o,sortFn:a,ignoreFieldNorm:s}=this.options;let f=Vt(t)?Vt(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return nS(f,{ignoreFieldNorm:s}),o&&f.sort(a),Ab(n)&&n>-1&&(f=f.slice(0,n)),oS(f,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(t){const n=nc(t,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:o,i:a,n:s})=>{if(!ot(o))return;const{isMatch:f,score:c,indices:l}=n.searchIn(o);f&&i.push({item:o,idx:a,matches:[{score:c,value:o,norm:s,indices:l}]})}),i}_searchLogical(t){const n=Pb(t,this.options),r=(s,f,c)=>{if(!s.children){const{keyId:h,searcher:u}=s,d=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(f,h),searcher:u});return d&&d.length?[{idx:c,item:f,matches:d}]:[]}const l=[];for(let h=0,u=s.children.length;h<u;h+=1){const d=s.children[h],m=r(d,f,c);if(m.length)l.push(...m);else if(s.operator===$a.AND)return[]}return l},i=this._myIndex.records,o={},a=[];return i.forEach(({$:s,i:f})=>{if(ot(s)){let c=r(n,s,f);c.length&&(o[f]||(o[f]={idx:f,item:s,matches:[]},a.push(o[f])),c.forEach(({matches:l})=>{o[f].matches.push(...l)}))}}),a}_searchObjectList(t){const n=nc(t,this.options),{keys:r,records:i}=this._myIndex,o=[];return i.forEach(({$:a,i:s})=>{if(!ot(a))return;let f=[];r.forEach((c,l)=>{f.push(...this._findMatches({key:c,value:a[l],searcher:n}))}),f.length&&o.push({idx:s,item:a,matches:f})}),o}_findMatches({key:t,value:n,searcher:r}){if(!ot(n))return[];let i=[];if(yn(n))n.forEach(({v:o,i:a,n:s})=>{if(!ot(o))return;const{isMatch:f,score:c,indices:l}=r.searchIn(o);f&&i.push({score:c,key:t,value:o,idx:a,norm:s,indices:l})});else{const{v:o,n:a}=n,{isMatch:s,score:f,indices:c}=r.searchIn(o);s&&i.push({score:f,key:t,value:o,norm:a,indices:c})}return i}}ei.version="7.0.0";ei.createIndex=Db;ei.parseIndex=Pk;ei.config=le;ei.parseQuery=Pb;Jk(Qk);function bd(e,t,n){const r=e.slice();return r[6]=t[n],r}function aS(e){let t,n,r,i,o,a,s,f;function c(h){e[4](h)}let l={"data-testid":"search-input",placeholder:"Search words"};return e[1]!==void 0&&(l.value=e[1]),a=new Cd({props:l}),st.push(()=>Mt(a,"value",c)),{c(){t=re("div"),n=re("div"),r=se("From "),i=se(e[0]),o=ee(),W(a.$$.fragment),this.h()},l(h){t=ie(h,"DIV",{class:!0});var u=oe(t);n=ie(u,"DIV",{"data-testid":!0,class:!0});var d=oe(n);r=fe(d,"From "),i=fe(d,e[0]),d.forEach(T),o=te(u),q(a.$$.fragment,u),u.forEach(T),this.h()},h(){Q(n,"data-testid","pragma"),Q(n,"class","mb-3 mt-1"),Q(t,"class","flex flex-col text-xs font-normal")},m(h,u){O(h,t,u),X(t,n),X(n,r),X(n,i),X(t,o),V(a,t,null),f=!0},p(h,u){(!f||u&1)&&ke(i,h[0]);const d={};!s&&u&2&&(s=!0,d.value=h[1],xt(()=>s=!1)),a.$set(d)},i(h){f||(E(a.$$.fragment,h),f=!0)},o(h){I(a.$$.fragment,h),f=!1},d(h){h&&T(t),H(a)}}}function sS(e){let t,n;return t=new zt({props:{$$slots:{default:[aS]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i&515&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function fS(e){let t,n,r=Ie(e[2]),i=[];for(let a=0;a<r.length;a+=1)i[a]=_d(bd(e,r,a));const o=a=>I(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=$e()},l(a){for(let s=0;s<i.length;s+=1)i[s].l(a);t=$e()},m(a,s){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(a,s);O(a,t,s),n=!0},p(a,s){if(s&4){r=Ie(a[2]);let f;for(f=0;f<r.length;f+=1){const c=bd(a,r,f);i[f]?(i[f].p(c,s),E(i[f],1)):(i[f]=_d(c),i[f].c(),E(i[f],1),i[f].m(t.parentNode,t))}for(Ee(),f=r.length;f<i.length;f+=1)o(f);Ce()}},i(a){if(!n){for(let s=0;s<r.length;s+=1)E(i[s]);n=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)I(i[s]);n=!1},d(a){a&&T(t),At(i,a)}}}function cS(e){let t,n;return t=new va({props:{$$slots:{default:[dS]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i&512&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function lS(e){let t,n,r=e[6].word+"",i,o,a,s=e[6].description+"",f;return{c(){t=re("div"),n=re("div"),i=se(r),o=ee(),a=re("div"),f=se(s),this.h()},l(c){t=ie(c,"DIV",{class:!0});var l=oe(t);n=ie(l,"DIV",{"data-testid":!0});var h=oe(n);i=fe(h,r),h.forEach(T),o=te(l),a=ie(l,"DIV",{"data-testid":!0,class:!0});var u=oe(a);f=fe(u,s),u.forEach(T),l.forEach(T),this.h()},h(){Q(n,"data-testid","word"),Q(a,"data-testid","description"),Q(a,"class","whitespace-normal text-gray-500"),Q(t,"class","flex flex-col gap-y-2")},m(c,l){O(c,t,l),X(t,n),X(n,i),X(t,o),X(t,a),X(a,f)},p(c,l){l&4&&r!==(r=c[6].word+"")&&ke(i,r),l&4&&s!==(s=c[6].description+"")&&ke(f,s)},d(c){c&&T(t)}}}function uS(e){let t,n,r;return t=new ft({props:{$$slots:{default:[lS]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment),n=ee()},l(i){q(t.$$.fragment,i),n=te(i)},m(i,o){V(t,i,o),O(i,n,o),r=!0},p(i,o){const a={};o&516&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){r||(E(t.$$.fragment,i),r=!0)},o(i){I(t.$$.fragment,i),r=!1},d(i){i&&T(n),H(t,i)}}}function _d(e){let t,n;return t=new va({props:{$$slots:{default:[uS]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i&516&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function hS(e){let t,n="No words found";return{c(){t=re("div"),t.textContent=n,this.h()},l(r){t=ie(r,"DIV",{"data-testid":!0,class:!0,"data-svelte-h":!0}),jr(t)!=="svelte-1sdgh4g"&&(t.textContent=n),this.h()},h(){Q(t,"data-testid","no-results-msg"),Q(t,"class","text-center text-gray-500")},m(r,i){O(r,t,i)},p:De,d(r){r&&T(t)}}}function dS(e){let t,n;return t=new ft({props:{$$slots:{default:[hS]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i&512&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function pS(e){let t,n,r,i;const o=[cS,fS],a=[];function s(f,c){return f[2].length===0?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=$e()},l(f){n.l(f),r=$e()},m(f,c){a[t].m(f,c),O(f,r,c),i=!0},p(f,c){let l=t;t=s(f),t===l?a[t].p(f,c):(Ee(),I(a[l],1,1,()=>{a[l]=null}),Ce(),n=a[t],n?n.p(f,c):(n=a[t]=o[t](f),n.c()),E(n,1),n.m(r.parentNode,r))},i(f){i||(E(n),i=!0)},o(f){I(n),i=!1},d(f){f&&T(r),a[t].d(f)}}}function mS(e){let t,n,r,i;return t=new uc({props:{theadClass:"sticky top-0",$$slots:{default:[sS]},$$scope:{ctx:e}}}),r=new hc({props:{tableBodyClass:"w-full",$$slots:{default:[pS]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment),n=ee(),W(r.$$.fragment)},l(o){q(t.$$.fragment,o),n=te(o),q(r.$$.fragment,o)},m(o,a){V(t,o,a),O(o,n,a),V(r,o,a),i=!0},p(o,a){const s={};a&515&&(s.$$scope={dirty:a,ctx:o}),t.$set(s);const f={};a&516&&(f.$$scope={dirty:a,ctx:o}),r.$set(f)},i(o){i||(E(t.$$.fragment,o),E(r.$$.fragment,o),i=!0)},o(o){I(t.$$.fragment,o),I(r.$$.fragment,o),i=!1},d(o){o&&T(n),H(t,o),H(r,o)}}}function gS(e){let t,n;return t=new lc({props:{divClass:"cursor-pointer rounded-lg dark:border-none border h-[500px] overflow-y-scroll relative w-[450px] bg-white dark:bg-gray-800","data-testid":`word-table-${e[0]}`,$$slots:{default:[mS]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,[i]){const o={};i&1&&(o["data-testid"]=`word-table-${r[0]}`),i&519&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function bS(e,t,n){let r,{authoringMeta:i}=t,{pragma:o}=t,a;const s=new ei(i.words,{keys:["word","description"],ignoreLocation:!0,threshold:0});function f(c){a=c,n(1,a)}return e.$$set=c=>{"authoringMeta"in c&&n(3,i=c.authoringMeta),"pragma"in c&&n(0,o=c.pragma)},e.$$.update=()=>{e.$$.dirty&10&&n(2,r=a?s.search(a).map(c=>c.item):i.words)},[o,a,r,i,f]}class Bb extends ht{constructor(t){super(),dt(this,t,bS,gS,ut,{authoringMeta:3,pragma:0})}}function yd(e,t,n){const r=e.slice();return r[2]=t[n],r}function wd(e,t,n){const r=e.slice();return r[5]=t[n],r}function _S(e){let t,n,r,i,o;return n=new Dl({props:{$$slots:{default:[wS]},$$scope:{ctx:e}}}),i=new Dl({props:{$$slots:{default:[$S]},$$scope:{ctx:e}}}),{c(){t=re("div"),W(n.$$.fragment),r=ee(),W(i.$$.fragment),this.h()},l(a){t=ie(a,"DIV",{"data-testid":!0});var s=oe(t);q(n.$$.fragment,s),r=te(s),q(i.$$.fragment,s),s.forEach(T),this.h()},h(){Q(t,"data-testid","error-msg")},m(a,s){O(a,t,s),V(n,t,null),X(t,r),V(i,t,null),o=!0},p(a,s){const f={};s&256&&(f.$$scope={dirty:s,ctx:a}),n.$set(f);const c={};s&258&&(c.$$scope={dirty:s,ctx:a}),i.$set(c)},i(a){o||(E(n.$$.fragment,a),E(i.$$.fragment,a),o=!0)},o(a){I(n.$$.fragment,a),I(i.$$.fragment,a),o=!1},d(a){a&&T(t),H(n),H(i)}}}function yS(e){let t,n;return t=new dc({props:{style:"underline",contentClass:"mt-4",defaultClass:"flex flex-wrap space-x-2 rtl:space-x-reverse mt-4",$$slots:{default:[TS]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i&257&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function wS(e){let t;return{c(){t=se("Error getting words for this order")},l(n){t=fe(n,"Error getting words for this order")},m(n,r){O(n,t,r)},d(n){n&&T(t)}}}function $S(e){let t=(e[1]?.toString()||"")+"",n;return{c(){n=se(t)},l(r){n=fe(r,t)},m(r,i){O(r,n,i)},p(r,i){i&2&&t!==(t=(r[1]?.toString()||"")+"")&&ke(n,t)},d(r){r&&T(n)}}}function vS(e){let t,n,r="Error getting words for this deployer:",i,o,a=e[2].deployerWords.words.data+"",s;return{c(){t=re("div"),n=re("p"),n.textContent=r,i=ee(),o=re("p"),s=se(a),this.h()},l(f){t=ie(f,"DIV",{"data-testid":!0,class:!0});var c=oe(t);n=ie(c,"P",{"data-svelte-h":!0}),jr(n)!=="svelte-5exj2y"&&(n.textContent=r),i=te(c),o=ie(c,"P",{});var l=oe(o);s=fe(l,a),l.forEach(T),c.forEach(T),this.h()},h(){Q(t,"data-testid","deployer-error-msg"),Q(t,"class","relative h-[500px] w-[450px] overflow-y-scroll rounded-lg border bg-white p-4 dark:border-none dark:bg-gray-800")},m(f,c){O(f,t,c),X(t,n),X(t,i),X(t,o),X(o,s)},p(f,c){c&1&&a!==(a=f[2].deployerWords.words.data+"")&&ke(s,a)},i:De,o:De,d(f){f&&T(t)}}}function xS(e){let t,n;return t=new Bb({props:{authoringMeta:e[2].deployerWords.words.data,pragma:e[2].deployerWords.address}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i&1&&(o.authoringMeta=r[2].deployerWords.words.data),i&1&&(o.pragma=r[2].deployerWords.address),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function MS(e){let t,n,r,i=e[5].address+"",o,a,s,f,c=e[5].words.data+"",l,h;return{c(){t=re("div"),n=re("p"),r=se("Error getting words for the pragma "),o=se(i),a=se(":"),s=ee(),f=re("p"),l=se(c),h=ee(),this.h()},l(u){t=ie(u,"DIV",{class:!0,"data-testid":!0});var d=oe(t);n=ie(d,"P",{});var m=oe(n);r=fe(m,"Error getting words for the pragma "),o=fe(m,i),a=fe(m,":"),m.forEach(T),s=te(d),f=ie(d,"P",{});var p=oe(f);l=fe(p,c),p.forEach(T),h=te(d),d.forEach(T),this.h()},h(){Q(t,"class","relative h-[500px] w-[450px] overflow-y-scroll rounded-lg border bg-white p-4 dark:border-none dark:bg-gray-800"),Q(t,"data-testid","pragma-error-msg")},m(u,d){O(u,t,d),X(t,n),X(n,r),X(n,o),X(n,a),X(t,s),X(t,f),X(f,l),X(t,h)},p(u,d){d&1&&i!==(i=u[5].address+"")&&ke(o,i),d&1&&c!==(c=u[5].words.data+"")&&ke(l,c)},i:De,o:De,d(u){u&&T(t)}}}function kS(e){let t,n;return t=new Bb({props:{authoringMeta:e[5].words.data,pragma:e[5].address}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i&1&&(o.authoringMeta=r[5].words.data),i&1&&(o.pragma=r[5].address),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function $d(e){let t,n,r,i;const o=[kS,MS],a=[];function s(f,c){return f[5].words.type==="Success"?0:f[5].words.type==="Error"?1:-1}return~(t=s(e))&&(n=a[t]=o[t](e)),{c(){n&&n.c(),r=$e()},l(f){n&&n.l(f),r=$e()},m(f,c){~t&&a[t].m(f,c),O(f,r,c),i=!0},p(f,c){let l=t;t=s(f),t===l?~t&&a[t].p(f,c):(n&&(Ee(),I(a[l],1,1,()=>{a[l]=null}),Ce()),~t?(n=a[t],n?n.p(f,c):(n=a[t]=o[t](f),n.c()),E(n,1),n.m(r.parentNode,r)):n=null)},i(f){i||(E(n),i=!0)},o(f){I(n),i=!1},d(f){f&&T(r),~t&&a[t].d(f)}}}function SS(e){let t,n,r,i,o,a;const s=[xS,vS],f=[];function c(d,m){return d[2].deployerWords.words.type==="Success"?0:d[2].deployerWords.words.type==="Error"?1:-1}~(n=c(e))&&(r=f[n]=s[n](e));let l=Ie(e[2].pragmaWords),h=[];for(let d=0;d<l.length;d+=1)h[d]=$d(wd(e,l,d));const u=d=>I(h[d],1,1,()=>{h[d]=null});return{c(){t=re("div"),r&&r.c(),i=ee();for(let d=0;d<h.length;d+=1)h[d].c();o=ee(),this.h()},l(d){t=ie(d,"DIV",{class:!0});var m=oe(t);r&&r.l(m),i=te(m);for(let p=0;p<h.length;p+=1)h[p].l(m);m.forEach(T),o=te(d),this.h()},h(){Q(t,"class","flex gap-x-2 text-sm")},m(d,m){O(d,t,m),~n&&f[n].m(t,null),X(t,i);for(let p=0;p<h.length;p+=1)h[p]&&h[p].m(t,null);O(d,o,m),a=!0},p(d,m){let p=n;if(n=c(d),n===p?~n&&f[n].p(d,m):(r&&(Ee(),I(f[p],1,1,()=>{f[p]=null}),Ce()),~n?(r=f[n],r?r.p(d,m):(r=f[n]=s[n](d),r.c()),E(r,1),r.m(t,i)):r=null),m&1){l=Ie(d[2].pragmaWords);let g;for(g=0;g<l.length;g+=1){const b=wd(d,l,g);h[g]?(h[g].p(b,m),E(h[g],1)):(h[g]=$d(b),h[g].c(),E(h[g],1),h[g].m(t,null))}for(Ee(),g=l.length;g<h.length;g+=1)u(g);Ce()}},i(d){if(!a){E(r);for(let m=0;m<l.length;m+=1)E(h[m]);a=!0}},o(d){I(r),h=h.filter(Boolean);for(let m=0;m<h.length;m+=1)I(h[m]);a=!1},d(d){d&&(T(t),T(o)),~n&&f[n].d(),At(h,d)}}}function vd(e){let t,n;return t=new wr({props:{title:e[2].scenario,$$slots:{default:[SS]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i&1&&(o.title=r[2].scenario),i&257&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function TS(e){let t,n,r=Ie(e[0]),i=[];for(let a=0;a<r.length;a+=1)i[a]=vd(yd(e,r,a));const o=a=>I(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=$e()},l(a){for(let s=0;s<i.length;s+=1)i[s].l(a);t=$e()},m(a,s){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(a,s);O(a,t,s),n=!0},p(a,s){if(s&1){r=Ie(a[0]);let f;for(f=0;f<r.length;f+=1){const c=yd(a,r,f);i[f]?(i[f].p(c,s),E(i[f],1)):(i[f]=vd(c),i[f].c(),E(i[f],1),i[f].m(t.parentNode,t))}for(Ee(),f=r.length;f<i.length;f+=1)o(f);Ce()}},i(a){if(!n){for(let s=0;s<r.length;s+=1)E(i[s]);n=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)I(i[s]);n=!1},d(a){a&&T(t),At(i,a)}}}function ES(e){let t,n,r,i;const o=[yS,_S],a=[];function s(f,c){return f[0]?0:f[1]?1:-1}return~(t=s(e))&&(n=a[t]=o[t](e)),{c(){n&&n.c(),r=$e()},l(f){n&&n.l(f),r=$e()},m(f,c){~t&&a[t].m(f,c),O(f,r,c),i=!0},p(f,[c]){let l=t;t=s(f),t===l?~t&&a[t].p(f,c):(n&&(Ee(),I(a[l],1,1,()=>{a[l]=null}),Ce()),~t?(n=a[t],n?n.p(f,c):(n=a[t]=o[t](f),n.c()),E(n,1),n.m(r.parentNode,r)):n=null)},i(f){i||(E(n),i=!0)},o(f){I(n),i=!1},d(f){f&&T(r),~t&&a[t].d(f)}}}function CS(e,t,n){let{authoringMetas:r}=t,{error:i}=t;return e.$$set=o=>{"authoringMetas"in o&&n(0,r=o.authoringMetas),"error"in o&&n(1,i=o.error)},[r,i]}class AS extends ht{constructor(t){super(),dt(this,t,CS,ES,ut,{authoringMetas:0,error:1})}}const NS=async(e,t)=>xa("get_authoring_meta_v2_for_scenarios",{dotrain:e,settings:t});function xd(e){let t,n;return t=new d_({props:{color:"red",$$slots:{icon:[LS],default:[IS]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i&3&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function IS(e){let t,n,r,i,o,a=`This order may not be compatible with this version of Raindex. Head to
        <a class="underline" href="https://github.com/rainlanguage/rain.orderbook/releases">Github</a> to find a compatible release.`;return{c(){t=re("div"),n=re("span"),r=se(e[0]),i=ee(),o=re("span"),o.innerHTML=a,this.h()},l(s){t=ie(s,"DIV",{class:!0});var f=oe(t);n=ie(f,"SPAN",{});var c=oe(n);r=fe(c,e[0]),c.forEach(T),i=te(f),o=ie(f,"SPAN",{"data-svelte-h":!0}),jr(o)!=="svelte-ltt4n8"&&(o.innerHTML=a),f.forEach(T),this.h()},h(){Q(t,"class","flex flex-col")},m(s,f){O(s,t,f),X(t,n),X(n,r),X(t,i),X(t,o)},p(s,f){f&1&&ke(r,s[0])},d(s){s&&T(t)}}}function LS(e){let t,n;return t=new y_({props:{slot:"icon",class:"h-5 w-5"}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p:De,i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function DS(e){let t=e[0]&&typeof e[0]=="string"&&e[0].startsWith("Spec version"),n,r,i=t&&xd(e);return{c(){i&&i.c(),n=$e()},l(o){i&&i.l(o),n=$e()},m(o,a){i&&i.m(o,a),O(o,n,a),r=!0},p(o,[a]){a&1&&(t=o[0]&&typeof o[0]=="string"&&o[0].startsWith("Spec version")),t?i?(i.p(o,a),a&1&&E(i,1)):(i=xd(o),i.c(),E(i,1),i.m(n.parentNode,n)):i&&(Ee(),I(i,1,1,()=>{i=null}),Ce())},i(o){r||(E(i),r=!0)},o(o){I(i),r=!1},d(o){o&&T(n),i&&i.d(o)}}}function RS(e,t,n){let{error:r}=t;return e.$$set=i=>{"error"in i&&n(0,r=i.error)},[r]}class FS extends ht{constructor(t){super(),dt(this,t,RS,DS,ut,{error:0})}}async function OS(e,t,n){const{orderAddCalldataFn:r,ethersExecuteFn:i,reportErrorToSentryFn:o,formatEthersTransactionErrorFn:a,successToastFn:s,errorToastFn:f}=n;if(Je.isEmpty(t.order.orderbook))throw Error("No orderbook associated with scenario");try{const c=await r(e,t);await(await i(c,t.order.orderbook.address)).wait(1),s("Transaction sent successfully!")}catch(c){throw o(c),f(a(c)),c}}async function PS(e,t,n,r){if(Je.isEmpty(t.order?.orderbook))throw Error("No orderbook associated with scenario");try{await n(e,t)}catch(i){throw r(i),i}}async function BS(e,t,n){try{if(Je.isEmpty(n))return;const r=new Map;for(const i of Object.values(n))try{const o=await a_(e,t,i);r.set(i,o)}catch(o){r.set(i,o?.toString()||`Error composing rainlang for scenario: ${i.key}`)}return r}catch(r){Mr(r,Id.Error);return}}function zS(e){if(e){const t={};for(const n in e){const r=e[n].scenario.deployer.network.chainId;if(!t[r]){const i=Object.values(E_).find(o=>o.id===r)?.name??e[n].scenario.deployer.network.key;t[r]=i}}return Object.keys(t).length?t:void 0}}function Md(e,t,n){const r=e.slice();return r[43]=t[n][0],r[44]=t[n][1],r[45]=t,r[46]=n,r}function US(e){let t,n;return t=new FS({props:{error:e[12]}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i[0]&4096&&(o.error=r[12]),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function WS(e){let t,n;return t=new o2({props:{codeMirrorTheme:e[13],rainlangText:e[3].text,disabled:e[4],styles:{"&":{minHeight:"400px"}},rainlangExtension:e[10],onTextChange:e[34]}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i[0]&8192&&(o.codeMirrorTheme=r[13]),i[0]&8&&(o.rainlangText=r[3].text),i[0]&16&&(o.disabled=r[4]),i[0]&1024&&(o.rainlangExtension=r[10]),i[0]&8&&(o.onTextChange=r[34]),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function qS(e){let t,n,r,i,o;t=new h_({props:{class:"whitespace-nowrap",$$slots:{default:[HS]},$$scope:{ctx:e}}});function a(f){e[32](f)}let s={options:e[1],$$slots:{option:[jS,({ref:f})=>({47:f}),({ref:f})=>[0,f?65536:0]],content:[YS,({selectedRef:f})=>({48:f}),({selectedRef:f})=>[0,f?131072:0]]},$$scope:{ctx:e}};return e[0]!==void 0&&(s.value=e[0]),r=new n2({props:s}),st.push(()=>Mt(r,"value",a)),{c(){W(t.$$.fragment),n=ee(),W(r.$$.fragment)},l(f){q(t.$$.fragment,f),n=te(f),q(r.$$.fragment,f)},m(f,c){V(t,f,c),O(f,n,c),V(r,f,c),o=!0},p(f,c){const l={};c[1]&262144&&(l.$$scope={dirty:c,ctx:f}),t.$set(l);const h={};c[0]&2&&(h.options=f[1]),c[1]&458752&&(h.$$scope={dirty:c,ctx:f}),!i&&c[0]&1&&(i=!0,h.value=f[0],xt(()=>i=!1)),r.$set(h)},i(f){o||(E(t.$$.fragment,f),E(r.$$.fragment,f),o=!0)},o(f){I(t.$$.fragment,f),I(r.$$.fragment,f),o=!1},d(f){f&&T(n),H(t,f),H(r,f)}}}function VS(e){let t,n="No valid deployments found";return{c(){t=re("span"),t.textContent=n,this.h()},l(r){t=ie(r,"SPAN",{class:!0,"data-svelte-h":!0}),jr(t)!=="svelte-1id0c6b"&&(t.textContent=n),this.h()},h(){Q(t,"class","text-gray-500 dark:text-gray-400")},m(r,i){O(r,t,i)},p:De,i:De,o:De,d(r){r&&T(t)}}}function HS(e){let t;return{c(){t=se("Select deployment")},l(n){t=fe(n,"Select deployment")},m(n,r){O(n,t,r)},d(n){n&&T(t)}}}function YS(e){let t,n=(Je.isNil(e[48])?"Select a deployment":e[48])+"",r;return{c(){t=re("span"),r=se(n)},l(i){t=ie(i,"SPAN",{});var o=oe(t);r=fe(o,n),o.forEach(T)},m(i,o){O(i,t,o),X(t,r)},p(i,o){o[1]&131072&&n!==(n=(Je.isNil(i[48])?"Select a deployment":i[48])+"")&&ke(r,n)},d(i){i&&T(t)}}}function jS(e){let t,n,r=e[47]+"",i;return{c(){t=re("div"),n=re("div"),i=se(r),this.h()},l(o){t=ie(o,"DIV",{class:!0});var a=oe(t);n=ie(a,"DIV",{class:!0});var s=oe(n);i=fe(s,r),s.forEach(T),a.forEach(T),this.h()},h(){Q(n,"class","text-md break-word mb-2"),Q(t,"class","w-full overflow-hidden overflow-ellipsis")},m(o,a){O(o,t,a),X(t,n),X(n,i)},p(o,a){a[1]&65536&&r!==(r=o[47]+"")&&ke(i,r)},d(o){o&&T(t)}}}function GS(e){let t;return{c(){t=se("Add Order")},l(n){t=fe(n,"Add Order")},m(n,r){O(n,t,r)},d(n){n&&T(t)}}}function XS(e){let t,n,r,i,o,a,s;const f=[VS,qS],c=[];function l(h,u){return u[0]&2&&(n=null),n==null&&(n=!!Je.isEmpty(h[1])),n?0:1}return r=l(e,[-1,-1]),i=c[r]=f[r](e),a=new p_({props:{class:"min-w-fit",color:"green",loading:e[4],disabled:e[3].isEmpty||Je.isNil(e[0])||!!e[12],$$slots:{default:[GS]},$$scope:{ctx:e}}}),a.$on("click",e[33]),{c(){t=re("div"),i.c(),o=ee(),W(a.$$.fragment),this.h()},l(h){t=ie(h,"DIV",{class:!0});var u=oe(t);i.l(u),o=te(u),q(a.$$.fragment,u),u.forEach(T),this.h()},h(){Q(t,"class","flex items-center justify-end gap-x-4")},m(h,u){O(h,t,u),c[r].m(t,null),X(t,o),V(a,t,null),s=!0},p(h,u){let d=r;r=l(h,u),r===d?c[r].p(h,u):(Ee(),I(c[d],1,1,()=>{c[d]=null}),Ce(),i=c[r],i?i.p(h,u):(i=c[r]=f[r](h),i.c()),E(i,1),i.m(t,o));const m={};u[0]&16&&(m.loading=h[4]),u[0]&4105&&(m.disabled=h[3].isEmpty||Je.isNil(h[0])||!!h[12]),u[1]&262144&&(m.$$scope={dirty:u,ctx:h}),a.$set(m)},i(h){s||(E(i),E(a.$$.fragment,h),s=!0)},o(h){I(i),I(a.$$.fragment,h),s=!1},d(h){h&&T(t),c[r].d(),H(a)}}}function kd(e){let t,n;return t=new m_({props:{size:"5"}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function KS(e){let t,n="Generate charts",r,i,o=e[5]&&kd();return{c(){t=re("span"),t.textContent=n,o&&o.c(),r=$e(),this.h()},l(a){t=ie(a,"SPAN",{class:!0,"data-svelte-h":!0}),jr(t)!=="svelte-2lgb5"&&(t.textContent=n),o&&o.l(a),r=$e(),this.h()},h(){Q(t,"class","mr-2")},m(a,s){O(a,t,s),o&&o.m(a,s),O(a,r,s),i=!0},p(a,s){a[5]?o?s[0]&32&&E(o,1):(o=kd(),o.c(),E(o,1),o.m(r.parentNode,r)):o&&(Ee(),I(o,1,1,()=>{o=null}),Ce())},i(a){i||(E(o),i=!0)},o(a){I(o),i=!1},d(a){a&&(T(t),T(r)),o&&o.d(a)}}}function Sd(e){let t,n;return t=new dc({props:{style:"underline",contentClass:"mt-4",defaultClass:"flex flex-wrap space-x-2 rtl:space-x-reverse mt-4",$$slots:{default:[QS]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i[0]&24832|i[1]&262144&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function ZS(e){let t,n,r;return t=new w_({props:{rainlangText:e[44],codeMirrorDisabled:!0,codeMirrorTheme:e[13]}}),{c(){W(t.$$.fragment),n=ee()},l(i){q(t.$$.fragment,i),n=te(i)},m(i,o){V(t,i,o),O(i,n,o),r=!0},p(i,o){const a={};o[0]&16384&&(a.rainlangText=i[44]),o[0]&8192&&(a.codeMirrorTheme=i[13]),t.$set(a)},i(i){r||(E(t.$$.fragment,i),r=!0)},o(i){I(t.$$.fragment,i),r=!1},d(i){i&&T(n),H(t,i)}}}function Td(e){let t,n,r;function i(a){e[35](a,e[43])}let o={title:e[43].key,$$slots:{default:[ZS]},$$scope:{ctx:e}};return e[8][e[43].key]!==void 0&&(o.open=e[8][e[43].key]),t=new wr({props:o}),st.push(()=>Mt(t,"open",i)),{c(){W(t.$$.fragment)},l(a){q(t.$$.fragment,a)},m(a,s){V(t,a,s),r=!0},p(a,s){e=a;const f={};s[0]&16384&&(f.title=e[43].key),s[0]&24576|s[1]&262144&&(f.$$scope={dirty:s,ctx:e}),!n&&s[0]&16640&&(n=!0,f.open=e[8][e[43].key],xt(()=>n=!1)),t.$set(f)},i(a){r||(E(t.$$.fragment,a),r=!0)},o(a){I(t.$$.fragment,a),r=!1},d(a){H(t,a)}}}function QS(e){let t,n,r=Ie(Array.from(e[14].entries())),i=[];for(let a=0;a<r.length;a+=1)i[a]=Td(Md(e,r,a));const o=a=>I(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=$e()},l(a){for(let s=0;s<i.length;s+=1)i[s].l(a);t=$e()},m(a,s){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(a,s);O(a,t,s),n=!0},p(a,s){if(s[0]&24832){r=Ie(Array.from(a[14].entries()));let f;for(f=0;f<r.length;f+=1){const c=Md(a,r,f);i[f]?(i[f].p(c,s),E(i[f],1)):(i[f]=Td(c),i[f].c(),E(i[f],1),i[f].m(t.parentNode,t))}for(Ee(),f=r.length;f<i.length;f+=1)o(f);Ce()}},i(a){if(!n){for(let s=0;s<r.length;s+=1)E(i[s]);n=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)I(i[s]);n=!1},d(a){a&&T(t),At(i,a)}}}function JS(e){let t,n,r=e[14]&&!e[15]&&Sd(e);return{c(){r&&r.c(),t=$e()},l(i){r&&r.l(i),t=$e()},m(i,o){r&&r.m(i,o),O(i,t,o),n=!0},p(i,o){i[14]&&!i[15]?r?(r.p(i,o),o[0]&49152&&E(r,1)):(r=Sd(i),r.c(),E(r,1),r.m(t.parentNode,t)):r&&(Ee(),I(r,1,1,()=>{r=null}),Ce())},i(i){n||(E(r),n=!0)},o(i){I(r),n=!1},d(i){i&&T(t),r&&r.d(i)}}}function eT(e){let t,n,r;function i(a){e[36](a)}let o={};return e[9]!==void 0&&(o.networks=e[9]),t=new yk({props:o}),st.push(()=>Mt(t,"networks",i)),{c(){W(t.$$.fragment)},l(a){q(t.$$.fragment,a)},m(a,s){V(t,a,s),r=!0},p(a,s){const f={};!n&&s[0]&512&&(n=!0,f.networks=a[9],xt(()=>n=!1)),t.$set(f)},i(a){r||(E(t.$$.fragment,a),r=!0)},o(a){I(t.$$.fragment,a),r=!1},d(a){H(t,a)}}}function tT(e){let t,n;return t=new EM({props:{chartData:e[6]}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i[0]&64&&(o.chartData=r[6]),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function nT(e){let t,n;return t=new AS({props:{authoringMetas:e[16],error:e[17]}}),{c(){W(t.$$.fragment)},l(r){q(t.$$.fragment,r)},m(r,i){V(t,r,i),n=!0},p(r,i){const o={};i[0]&65536&&(o.authoringMetas=r[16]),i[0]&131072&&(o.error=r[17]),t.$set(o)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function rT(e){let t,n,r,i,o,a,s,f;return t=new wr({props:{open:!0,title:"Rainlang",$$slots:{default:[JS]},$$scope:{ctx:e}}}),r=new wr({props:{title:"Debug",$$slots:{default:[eT]},$$scope:{ctx:e}}}),o=new wr({props:{title:"Charts",$$slots:{default:[tT]},$$scope:{ctx:e}}}),s=new wr({props:{title:"Words",$$slots:{default:[nT]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment),n=ee(),W(r.$$.fragment),i=ee(),W(o.$$.fragment),a=ee(),W(s.$$.fragment)},l(c){q(t.$$.fragment,c),n=te(c),q(r.$$.fragment,c),i=te(c),q(o.$$.fragment,c),a=te(c),q(s.$$.fragment,c)},m(c,l){V(t,c,l),O(c,n,l),V(r,c,l),O(c,i,l),V(o,c,l),O(c,a,l),V(s,c,l),f=!0},p(c,l){const h={};l[0]&57600|l[1]&262144&&(h.$$scope={dirty:l,ctx:c}),t.$set(h);const u={};l[0]&512|l[1]&262144&&(u.$$scope={dirty:l,ctx:c}),r.$set(u);const d={};l[0]&64|l[1]&262144&&(d.$$scope={dirty:l,ctx:c}),o.$set(d);const m={};l[0]&196608|l[1]&262144&&(m.$$scope={dirty:l,ctx:c}),s.$set(m)},i(c){f||(E(t.$$.fragment,c),E(r.$$.fragment,c),E(o.$$.fragment,c),E(s.$$.fragment,c),f=!0)},o(c){I(t.$$.fragment,c),I(r.$$.fragment,c),I(o.$$.fragment,c),I(s.$$.fragment,c),f=!1},d(c){c&&(T(n),T(i),T(a)),H(t,c),H(r,c),H(o,c),H(s,c)}}}function iT(e){let t,n,r,i,o,a,s,f,c,l,h,u;t=new B_({props:{title:"Add Order",pathname:e[11].url.pathname}}),r=new Jb({props:{textFile:Oo,$$slots:{additionalFields:[XS],textarea:[WS],alert:[US]},$$scope:{ctx:e}}}),o=new Ed({props:{disabled:e[5],size:"sm",class:"self-center",$$slots:{default:[KS]},$$scope:{ctx:e}}}),o.$on("click",e[22]),s=new dc({props:{style:"underline",contentClass:"mt-4",defaultClass:"flex flex-wrap space-x-2 rtl:space-x-reverse mt-4",$$slots:{default:[rT]},$$scope:{ctx:e}}});function d(g){e[37](g)}function m(g){e[38](g)}let p={chainId:e[2]?.order.network.chainId,title:"Add Order",execButtonLabel:"Add Order",executeWalletconnect:e[24],executeLedger:e[23]};return e[7]!==void 0&&(p.open=e[7]),e[4]!==void 0&&(p.isSubmitting=e[4]),c=new s_({props:p}),st.push(()=>Mt(c,"open",d)),st.push(()=>Mt(c,"isSubmitting",m)),{c(){W(t.$$.fragment),n=ee(),W(r.$$.fragment),i=ee(),W(o.$$.fragment),a=ee(),W(s.$$.fragment),f=ee(),W(c.$$.fragment)},l(g){q(t.$$.fragment,g),n=te(g),q(r.$$.fragment,g),i=te(g),q(o.$$.fragment,g),a=te(g),q(s.$$.fragment,g),f=te(g),q(c.$$.fragment,g)},m(g,b){V(t,g,b),O(g,n,b),V(r,g,b),O(g,i,b),V(o,g,b),O(g,a,b),V(s,g,b),O(g,f,b),V(c,g,b),u=!0},p(g,b){const _={};b[0]&2048&&(_.pathname=g[11].url.pathname),t.$set(_);const w={};b[0]&13467|b[1]&262144&&(w.$$scope={dirty:b,ctx:g}),r.$set(w);const y={};b[0]&32&&(y.disabled=g[5]),b[0]&32|b[1]&262144&&(y.$$scope={dirty:b,ctx:g}),o.$set(y);const v={};b[0]&254784|b[1]&262144&&(v.$$scope={dirty:b,ctx:g}),s.$set(v);const $={};b[0]&4&&($.chainId=g[2]?.order.network.chainId),!l&&b[0]&128&&(l=!0,$.open=g[7],xt(()=>l=!1)),!h&&b[0]&16&&(h=!0,$.isSubmitting=g[4],xt(()=>h=!1)),c.$set($)},i(g){u||(E(t.$$.fragment,g),E(r.$$.fragment,g),E(o.$$.fragment,g),E(s.$$.fragment,g),E(c.$$.fragment,g),u=!0)},o(g){I(t.$$.fragment,g),I(r.$$.fragment,g),I(o.$$.fragment,g),I(s.$$.fragment,g),I(c.$$.fragment,g),u=!1},d(g){g&&(T(n),T(i),T(a),T(f)),H(t,g),H(r,g),H(o,g),H(s,g),H(c,g)}}}function oT(e,t,n){let r,i,o,a,s,f,c,l,h,u,d,m,p,g,b;gt(e,Ld,F=>n(30,f=F)),gt(e,Oo,F=>n(3,c=F)),gt(e,A_,F=>n(31,l=F)),gt(e,F_,F=>n(11,h=F)),gt(e,t_,F=>n(13,d=F));const _=C_();let w=!1,y=!1,v,$,M,k=!1,S={},A={},x={};const{debouncedFn:B,result:R,error:L}=Eo(NS,500);gt(e,R,F=>n(16,g=F)),gt(e,L,F=>n(17,b=F));const{debouncedFn:C,result:U,error:z}=Eo(BS,500);gt(e,U,F=>n(14,m=F)),gt(e,z,F=>n(15,p=F));async function ne(){n(5,y=!0);try{n(6,v=await l2(c.text,f))}catch(F){Mr(F),fi.error(F)}n(5,y=!1)}async function N(){n(4,w=!0);try{if(!r)throw Error("Select a deployment to add order");await PS(c.text,r,f_,Mr)}catch(F){fi.error(F.message||"Ledger execution failed")}n(4,w=!1)}async function Y(){n(4,w=!0);try{if(!r)throw Error("Select a deployment to add order");await OS(c.text,r,{orderAddCalldataFn:async(F,Z)=>await c_(F,Z),ethersExecuteFn:l_,reportErrorToSentryFn:Mr,formatEthersTransactionErrorFn:N_,successToastFn:fi.success,errorToastFn:fi.error})}catch{}n(4,w=!1)}const{debouncedFn:G,error:j}=Eo(u_,500);gt(e,j,F=>n(12,u=F));function J(F){$=F,n(0,$),n(1,S),n(3,c)}const we=()=>n(7,k=!0),be=F=>Oo.set({...c,text:F});function ye(F,Z){e.$$.not_equal(x[Z.key],F)&&(x[Z.key]=F,n(8,x))}function K(F){s=F,n(9,s),n(1,S),n(3,c)}function ce(F){k=F,n(7,k)}function P(F){w=F,n(4,w)}return e.$$.update=()=>{e.$$.dirty[0]&8&&c&&(O_().then(F=>n(1,S=F)),P_().then(F=>n(27,A=F))),e.$$.dirty[0]&3&&$&&S&&!Object.keys(S).includes($)&&n(0,$=void 0),e.$$.dirty[0]&3&&n(2,r=$?S[$]:void 0),e.$$.dirty[0]&134217728|e.$$.dirty[1]&1&&n(28,i=CM(A,l)),e.$$.dirty[0]&4&&n(29,o=r?r.scenario.bindings:{}),e.$$.dirty[0]&1073741832&&B(c.text,[f]),e.$$.dirty[0]&1207959560&&C(c.text,[f],A),e.$$.dirty[0]&1610612740|e.$$.dirty[1]&1&&n(10,a=new M_({diagnostics:async F=>{let Z=[],D=[];try{Z=await e_(F.text,[f])}catch(pe){Z=[{msg:pe,position:[0,0],code:9}]}try{const pe=_.getNetworkByChainId(l);if(pe.error)throw new Error(pe.error.readableMsg);D=await z_(c2(pe.value.rpcs,F,o,r?.scenario.deployer.address),5e3,"failed to parse on native parser")}catch(pe){D=[{msg:pe,position:[0,0],code:9}]}return[...Z,...D]}})),e.$$.dirty[0]&335544320&&Je.isNil(M)&&!Je.isEmpty(i)&&n(26,M=Object.keys(i)[0]),e.$$.dirty[0]&1073741832&&G(c.text,[f]),e.$$.dirty[0]&2&&n(9,s=zS(S))},[$,S,r,c,w,y,v,k,x,s,a,h,u,d,m,p,g,b,R,L,U,z,ne,N,Y,j,M,A,i,o,f,l,J,we,be,ye,K,ce,P]}class MT extends ht{constructor(t){super(),dt(this,t,oT,iT,ut,{},null,[-1,-1])}}export{MT as component};
//# sourceMappingURL=6.DjU_ThD9.js.map
