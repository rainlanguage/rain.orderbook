{"version":3,"file":"context.CMhBHa3q.js","sources":["../../../../../../../node_modules/svelte/src/runtime/internal/globals.js","../../../../../../../packages/ui-components/dist/providers/wallet/context.js"],"sourcesContent":["/** @type {typeof globalThis} */\nexport const globals =\n\ttypeof window !== 'undefined'\n\t\t? window\n\t\t: typeof globalThis !== 'undefined'\n\t\t? globalThis\n\t\t: // @ts-ignore Node typings have this\n\t\t  global;\n","import { getContext, setContext } from 'svelte';\nimport { readable } from 'svelte/store';\nexport const ACCOUNT_KEY = 'account_key';\n/**\n * Retrieves the account store directly from Svelte's context\n */\nexport const getAccountContext = () => {\n    const account = getContext(ACCOUNT_KEY);\n    if (!account) {\n        throw new Error('No account was found in Svelte context. Did you forget to wrap your component with WalletProvider?');\n    }\n    return account;\n};\n/**\n * Sets the account store in Svelte's context\n */\nexport const setAccountContext = (account) => {\n    setContext(ACCOUNT_KEY, account);\n};\nif (import.meta.vitest) {\n    const { describe, it, expect, vi, beforeEach } = import.meta.vitest;\n    vi.mock('svelte', async (importOriginal) => ({\n        ...(await importOriginal()),\n        getContext: vi.fn()\n    }));\n    describe('getAccountContext', () => {\n        const mockGetContext = vi.mocked(getContext);\n        beforeEach(() => {\n            mockGetContext.mockReset();\n        });\n        it('should return the account from context when it exists', () => {\n            const mockAccount = readable('0x456');\n            mockGetContext.mockImplementation((key) => {\n                if (key === ACCOUNT_KEY)\n                    return mockAccount;\n                return undefined;\n            });\n            const result = getAccountContext();\n            expect(mockGetContext).toHaveBeenCalledWith(ACCOUNT_KEY);\n            expect(result).toEqual(mockAccount);\n        });\n        it('should throw an error when account is not in context', () => {\n            mockGetContext.mockReturnValue(undefined);\n            expect(() => getAccountContext()).toThrow('No account was found in Svelte context. Did you forget to wrap your component with WalletProvider?');\n        });\n    });\n}\n"],"names":["globals","ACCOUNT_KEY","getAccountContext","account","getContext","setAccountContext","setContext"],"mappings":"mDACY,MAACA,EACZ,OAAO,OAAW,IACf,OACA,OAAO,WAAe,IACtB,WAEA,OCLSC,EAAc,cAIdC,EAAoB,IAAM,CAC7B,MAAAC,EAAUC,EAAWH,CAAW,EACtC,GAAI,CAACE,EACK,MAAA,IAAI,MAAM,oGAAoG,EAEjH,OAAAA,CACX,EAIaE,EAAqBF,GAAY,CAC1CG,EAAWL,EAAaE,CAAO,CACnC","x_google_ignoreList":[0]}